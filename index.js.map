{"version":3,"file":"index.js","sources":["node_modules/bs-platform/lib/es6/caml_builtin_exceptions.js","node_modules/bs-platform/lib/es6/caml_array.js","node_modules/bs-platform/lib/es6/curry.js","node_modules/bs-platform/lib/es6/caml_exceptions.js","node_modules/bs-platform/lib/es6/caml_option.js","node_modules/bs-platform/lib/es6/caml_js_exceptions.js","node_modules/bs-platform/lib/es6/array.js","node_modules/bs-platform/lib/es6/js_dict.js","node_modules/bs-platform/lib/es6/belt_Option.js","node_modules/re-debouncer/src/Debouncer.bs.js","node_modules/bs-webapi/src/dom/nodes/ElementRe.js","node_modules/bs-platform/lib/es6/caml_int32.js","node_modules/bs-platform/lib/es6/caml_format.js","node_modules/bs-platform/lib/es6/caml_string.js","node_modules/bs-platform/lib/es6/pervasives.js","src/SubtleCrypto.bs.js","src/Hash.bs.js","src/Util.bs.js","node_modules/jsqr-es6/dist/jsQR.js","src/JsQr.bs.js","node_modules/bs-platform/lib/es6/belt_Array.js","src/Scanner.bs.js","src/UserMedia.bs.js","src/qrcodegen.js","src/QrCodeGen.bs.js","src/QueerCode.bs.js","src/Index.bs.js"],"sourcesContent":["\n\n\nvar out_of_memory = /* tuple */[\n  \"Out_of_memory\",\n  0\n];\n\nvar sys_error = /* tuple */[\n  \"Sys_error\",\n  -1\n];\n\nvar failure = /* tuple */[\n  \"Failure\",\n  -2\n];\n\nvar invalid_argument = /* tuple */[\n  \"Invalid_argument\",\n  -3\n];\n\nvar end_of_file = /* tuple */[\n  \"End_of_file\",\n  -4\n];\n\nvar division_by_zero = /* tuple */[\n  \"Division_by_zero\",\n  -5\n];\n\nvar not_found = /* tuple */[\n  \"Not_found\",\n  -6\n];\n\nvar match_failure = /* tuple */[\n  \"Match_failure\",\n  -7\n];\n\nvar stack_overflow = /* tuple */[\n  \"Stack_overflow\",\n  -8\n];\n\nvar sys_blocked_io = /* tuple */[\n  \"Sys_blocked_io\",\n  -9\n];\n\nvar assert_failure = /* tuple */[\n  \"Assert_failure\",\n  -10\n];\n\nvar undefined_recursive_module = /* tuple */[\n  \"Undefined_recursive_module\",\n  -11\n];\n\nout_of_memory.tag = 248;\n\nsys_error.tag = 248;\n\nfailure.tag = 248;\n\ninvalid_argument.tag = 248;\n\nend_of_file.tag = 248;\n\ndivision_by_zero.tag = 248;\n\nnot_found.tag = 248;\n\nmatch_failure.tag = 248;\n\nstack_overflow.tag = 248;\n\nsys_blocked_io.tag = 248;\n\nassert_failure.tag = 248;\n\nundefined_recursive_module.tag = 248;\n\nexport {\n  out_of_memory ,\n  sys_error ,\n  failure ,\n  invalid_argument ,\n  end_of_file ,\n  division_by_zero ,\n  not_found ,\n  match_failure ,\n  stack_overflow ,\n  sys_blocked_io ,\n  assert_failure ,\n  undefined_recursive_module ,\n  \n}\n/*  Not a pure module */\n","\n\nimport * as Caml_builtin_exceptions from \"./caml_builtin_exceptions.js\";\n\nfunction caml_array_sub(x, offset, len) {\n  var result = new Array(len);\n  var j = 0;\n  var i = offset;\n  while(j < len) {\n    result[j] = x[i];\n    j = j + 1 | 0;\n    i = i + 1 | 0;\n  };\n  return result;\n}\n\nfunction len(_acc, _l) {\n  while(true) {\n    var l = _l;\n    var acc = _acc;\n    if (l) {\n      _l = l[1];\n      _acc = l[0].length + acc | 0;\n      continue ;\n    } else {\n      return acc;\n    }\n  };\n}\n\nfunction fill(arr, _i, _l) {\n  while(true) {\n    var l = _l;\n    var i = _i;\n    if (l) {\n      var x = l[0];\n      var l$1 = x.length;\n      var k = i;\n      var j = 0;\n      while(j < l$1) {\n        arr[k] = x[j];\n        k = k + 1 | 0;\n        j = j + 1 | 0;\n      };\n      _l = l[1];\n      _i = k;\n      continue ;\n    } else {\n      return /* () */0;\n    }\n  };\n}\n\nfunction caml_array_concat(l) {\n  var v = len(0, l);\n  var result = new Array(v);\n  fill(result, 0, l);\n  return result;\n}\n\nfunction caml_array_set(xs, index, newval) {\n  if (index < 0 || index >= xs.length) {\n    throw [\n          Caml_builtin_exceptions.invalid_argument,\n          \"index out of bounds\"\n        ];\n  } else {\n    xs[index] = newval;\n    return /* () */0;\n  }\n}\n\nfunction caml_array_get(xs, index) {\n  if (index < 0 || index >= xs.length) {\n    throw [\n          Caml_builtin_exceptions.invalid_argument,\n          \"index out of bounds\"\n        ];\n  } else {\n    return xs[index];\n  }\n}\n\nfunction caml_make_vect(len, init) {\n  var b = new Array(len);\n  for(var i = 0 ,i_finish = len - 1 | 0; i <= i_finish; ++i){\n    b[i] = init;\n  }\n  return b;\n}\n\nfunction caml_make_float_vect(len) {\n  var b = new Array(len);\n  for(var i = 0 ,i_finish = len - 1 | 0; i <= i_finish; ++i){\n    b[i] = 0;\n  }\n  return b;\n}\n\nfunction caml_array_blit(a1, i1, a2, i2, len) {\n  if (i2 <= i1) {\n    for(var j = 0 ,j_finish = len - 1 | 0; j <= j_finish; ++j){\n      a2[j + i2 | 0] = a1[j + i1 | 0];\n    }\n    return /* () */0;\n  } else {\n    for(var j$1 = len - 1 | 0; j$1 >= 0; --j$1){\n      a2[j$1 + i2 | 0] = a1[j$1 + i1 | 0];\n    }\n    return /* () */0;\n  }\n}\n\nfunction caml_array_dup(prim) {\n  return prim.slice(0);\n}\n\nexport {\n  caml_array_dup ,\n  caml_array_sub ,\n  caml_array_concat ,\n  caml_make_vect ,\n  caml_make_float_vect ,\n  caml_array_blit ,\n  caml_array_get ,\n  caml_array_set ,\n  \n}\n/* No side effect */\n","\n\nimport * as Caml_array from \"./caml_array.js\";\n\nfunction app(_f, _args) {\n  while(true) {\n    var args = _args;\n    var f = _f;\n    var init_arity = f.length;\n    var arity = init_arity === 0 ? 1 : init_arity;\n    var len = args.length;\n    var d = arity - len | 0;\n    if (d === 0) {\n      return f.apply(null, args);\n    } else if (d < 0) {\n      _args = Caml_array.caml_array_sub(args, arity, -d | 0);\n      _f = f.apply(null, Caml_array.caml_array_sub(args, 0, arity));\n      continue ;\n    } else {\n      return (function(f,args){\n      return function (x) {\n        return app(f, args.concat(/* array */[x]));\n      }\n      }(f,args));\n    }\n  };\n}\n\nfunction curry_1(o, a0, arity) {\n  switch (arity) {\n    case 1 : \n        return o(a0);\n    case 2 : \n        return (function (param) {\n            return o(a0, param);\n          });\n    case 3 : \n        return (function (param, param$1) {\n            return o(a0, param, param$1);\n          });\n    case 4 : \n        return (function (param, param$1, param$2) {\n            return o(a0, param, param$1, param$2);\n          });\n    case 5 : \n        return (function (param, param$1, param$2, param$3) {\n            return o(a0, param, param$1, param$2, param$3);\n          });\n    case 6 : \n        return (function (param, param$1, param$2, param$3, param$4) {\n            return o(a0, param, param$1, param$2, param$3, param$4);\n          });\n    case 7 : \n        return (function (param, param$1, param$2, param$3, param$4, param$5) {\n            return o(a0, param, param$1, param$2, param$3, param$4, param$5);\n          });\n    default:\n      return app(o, /* array */[a0]);\n  }\n}\n\nfunction _1(o, a0) {\n  var arity = o.length;\n  if (arity === 1) {\n    return o(a0);\n  } else {\n    return curry_1(o, a0, arity);\n  }\n}\n\nfunction __1(o) {\n  var arity = o.length;\n  if (arity === 1) {\n    return o;\n  } else {\n    return (function (a0) {\n        return _1(o, a0);\n      });\n  }\n}\n\nfunction curry_2(o, a0, a1, arity) {\n  switch (arity) {\n    case 1 : \n        return app(o(a0), /* array */[a1]);\n    case 2 : \n        return o(a0, a1);\n    case 3 : \n        return (function (param) {\n            return o(a0, a1, param);\n          });\n    case 4 : \n        return (function (param, param$1) {\n            return o(a0, a1, param, param$1);\n          });\n    case 5 : \n        return (function (param, param$1, param$2) {\n            return o(a0, a1, param, param$1, param$2);\n          });\n    case 6 : \n        return (function (param, param$1, param$2, param$3) {\n            return o(a0, a1, param, param$1, param$2, param$3);\n          });\n    case 7 : \n        return (function (param, param$1, param$2, param$3, param$4) {\n            return o(a0, a1, param, param$1, param$2, param$3, param$4);\n          });\n    default:\n      return app(o, /* array */[\n                  a0,\n                  a1\n                ]);\n  }\n}\n\nfunction _2(o, a0, a1) {\n  var arity = o.length;\n  if (arity === 2) {\n    return o(a0, a1);\n  } else {\n    return curry_2(o, a0, a1, arity);\n  }\n}\n\nfunction __2(o) {\n  var arity = o.length;\n  if (arity === 2) {\n    return o;\n  } else {\n    return (function (a0, a1) {\n        return _2(o, a0, a1);\n      });\n  }\n}\n\nfunction curry_3(o, a0, a1, a2, arity) {\n  switch (arity) {\n    case 1 : \n        return app(o(a0), /* array */[\n                    a1,\n                    a2\n                  ]);\n    case 2 : \n        return app(o(a0, a1), /* array */[a2]);\n    case 3 : \n        return o(a0, a1, a2);\n    case 4 : \n        return (function (param) {\n            return o(a0, a1, a2, param);\n          });\n    case 5 : \n        return (function (param, param$1) {\n            return o(a0, a1, a2, param, param$1);\n          });\n    case 6 : \n        return (function (param, param$1, param$2) {\n            return o(a0, a1, a2, param, param$1, param$2);\n          });\n    case 7 : \n        return (function (param, param$1, param$2, param$3) {\n            return o(a0, a1, a2, param, param$1, param$2, param$3);\n          });\n    default:\n      return app(o, /* array */[\n                  a0,\n                  a1,\n                  a2\n                ]);\n  }\n}\n\nfunction _3(o, a0, a1, a2) {\n  var arity = o.length;\n  if (arity === 3) {\n    return o(a0, a1, a2);\n  } else {\n    return curry_3(o, a0, a1, a2, arity);\n  }\n}\n\nfunction __3(o) {\n  var arity = o.length;\n  if (arity === 3) {\n    return o;\n  } else {\n    return (function (a0, a1, a2) {\n        return _3(o, a0, a1, a2);\n      });\n  }\n}\n\nfunction curry_4(o, a0, a1, a2, a3, arity) {\n  switch (arity) {\n    case 1 : \n        return app(o(a0), /* array */[\n                    a1,\n                    a2,\n                    a3\n                  ]);\n    case 2 : \n        return app(o(a0, a1), /* array */[\n                    a2,\n                    a3\n                  ]);\n    case 3 : \n        return app(o(a0, a1, a2), /* array */[a3]);\n    case 4 : \n        return o(a0, a1, a2, a3);\n    case 5 : \n        return (function (param) {\n            return o(a0, a1, a2, a3, param);\n          });\n    case 6 : \n        return (function (param, param$1) {\n            return o(a0, a1, a2, a3, param, param$1);\n          });\n    case 7 : \n        return (function (param, param$1, param$2) {\n            return o(a0, a1, a2, a3, param, param$1, param$2);\n          });\n    default:\n      return app(o, /* array */[\n                  a0,\n                  a1,\n                  a2,\n                  a3\n                ]);\n  }\n}\n\nfunction _4(o, a0, a1, a2, a3) {\n  var arity = o.length;\n  if (arity === 4) {\n    return o(a0, a1, a2, a3);\n  } else {\n    return curry_4(o, a0, a1, a2, a3, arity);\n  }\n}\n\nfunction __4(o) {\n  var arity = o.length;\n  if (arity === 4) {\n    return o;\n  } else {\n    return (function (a0, a1, a2, a3) {\n        return _4(o, a0, a1, a2, a3);\n      });\n  }\n}\n\nfunction curry_5(o, a0, a1, a2, a3, a4, arity) {\n  switch (arity) {\n    case 1 : \n        return app(o(a0), /* array */[\n                    a1,\n                    a2,\n                    a3,\n                    a4\n                  ]);\n    case 2 : \n        return app(o(a0, a1), /* array */[\n                    a2,\n                    a3,\n                    a4\n                  ]);\n    case 3 : \n        return app(o(a0, a1, a2), /* array */[\n                    a3,\n                    a4\n                  ]);\n    case 4 : \n        return app(o(a0, a1, a2, a3), /* array */[a4]);\n    case 5 : \n        return o(a0, a1, a2, a3, a4);\n    case 6 : \n        return (function (param) {\n            return o(a0, a1, a2, a3, a4, param);\n          });\n    case 7 : \n        return (function (param, param$1) {\n            return o(a0, a1, a2, a3, a4, param, param$1);\n          });\n    default:\n      return app(o, /* array */[\n                  a0,\n                  a1,\n                  a2,\n                  a3,\n                  a4\n                ]);\n  }\n}\n\nfunction _5(o, a0, a1, a2, a3, a4) {\n  var arity = o.length;\n  if (arity === 5) {\n    return o(a0, a1, a2, a3, a4);\n  } else {\n    return curry_5(o, a0, a1, a2, a3, a4, arity);\n  }\n}\n\nfunction __5(o) {\n  var arity = o.length;\n  if (arity === 5) {\n    return o;\n  } else {\n    return (function (a0, a1, a2, a3, a4) {\n        return _5(o, a0, a1, a2, a3, a4);\n      });\n  }\n}\n\nfunction curry_6(o, a0, a1, a2, a3, a4, a5, arity) {\n  switch (arity) {\n    case 1 : \n        return app(o(a0), /* array */[\n                    a1,\n                    a2,\n                    a3,\n                    a4,\n                    a5\n                  ]);\n    case 2 : \n        return app(o(a0, a1), /* array */[\n                    a2,\n                    a3,\n                    a4,\n                    a5\n                  ]);\n    case 3 : \n        return app(o(a0, a1, a2), /* array */[\n                    a3,\n                    a4,\n                    a5\n                  ]);\n    case 4 : \n        return app(o(a0, a1, a2, a3), /* array */[\n                    a4,\n                    a5\n                  ]);\n    case 5 : \n        return app(o(a0, a1, a2, a3, a4), /* array */[a5]);\n    case 6 : \n        return o(a0, a1, a2, a3, a4, a5);\n    case 7 : \n        return (function (param) {\n            return o(a0, a1, a2, a3, a4, a5, param);\n          });\n    default:\n      return app(o, /* array */[\n                  a0,\n                  a1,\n                  a2,\n                  a3,\n                  a4,\n                  a5\n                ]);\n  }\n}\n\nfunction _6(o, a0, a1, a2, a3, a4, a5) {\n  var arity = o.length;\n  if (arity === 6) {\n    return o(a0, a1, a2, a3, a4, a5);\n  } else {\n    return curry_6(o, a0, a1, a2, a3, a4, a5, arity);\n  }\n}\n\nfunction __6(o) {\n  var arity = o.length;\n  if (arity === 6) {\n    return o;\n  } else {\n    return (function (a0, a1, a2, a3, a4, a5) {\n        return _6(o, a0, a1, a2, a3, a4, a5);\n      });\n  }\n}\n\nfunction curry_7(o, a0, a1, a2, a3, a4, a5, a6, arity) {\n  switch (arity) {\n    case 1 : \n        return app(o(a0), /* array */[\n                    a1,\n                    a2,\n                    a3,\n                    a4,\n                    a5,\n                    a6\n                  ]);\n    case 2 : \n        return app(o(a0, a1), /* array */[\n                    a2,\n                    a3,\n                    a4,\n                    a5,\n                    a6\n                  ]);\n    case 3 : \n        return app(o(a0, a1, a2), /* array */[\n                    a3,\n                    a4,\n                    a5,\n                    a6\n                  ]);\n    case 4 : \n        return app(o(a0, a1, a2, a3), /* array */[\n                    a4,\n                    a5,\n                    a6\n                  ]);\n    case 5 : \n        return app(o(a0, a1, a2, a3, a4), /* array */[\n                    a5,\n                    a6\n                  ]);\n    case 6 : \n        return app(o(a0, a1, a2, a3, a4, a5), /* array */[a6]);\n    case 7 : \n        return o(a0, a1, a2, a3, a4, a5, a6);\n    default:\n      return app(o, /* array */[\n                  a0,\n                  a1,\n                  a2,\n                  a3,\n                  a4,\n                  a5,\n                  a6\n                ]);\n  }\n}\n\nfunction _7(o, a0, a1, a2, a3, a4, a5, a6) {\n  var arity = o.length;\n  if (arity === 7) {\n    return o(a0, a1, a2, a3, a4, a5, a6);\n  } else {\n    return curry_7(o, a0, a1, a2, a3, a4, a5, a6, arity);\n  }\n}\n\nfunction __7(o) {\n  var arity = o.length;\n  if (arity === 7) {\n    return o;\n  } else {\n    return (function (a0, a1, a2, a3, a4, a5, a6) {\n        return _7(o, a0, a1, a2, a3, a4, a5, a6);\n      });\n  }\n}\n\nfunction curry_8(o, a0, a1, a2, a3, a4, a5, a6, a7, arity) {\n  switch (arity) {\n    case 1 : \n        return app(o(a0), /* array */[\n                    a1,\n                    a2,\n                    a3,\n                    a4,\n                    a5,\n                    a6,\n                    a7\n                  ]);\n    case 2 : \n        return app(o(a0, a1), /* array */[\n                    a2,\n                    a3,\n                    a4,\n                    a5,\n                    a6,\n                    a7\n                  ]);\n    case 3 : \n        return app(o(a0, a1, a2), /* array */[\n                    a3,\n                    a4,\n                    a5,\n                    a6,\n                    a7\n                  ]);\n    case 4 : \n        return app(o(a0, a1, a2, a3), /* array */[\n                    a4,\n                    a5,\n                    a6,\n                    a7\n                  ]);\n    case 5 : \n        return app(o(a0, a1, a2, a3, a4), /* array */[\n                    a5,\n                    a6,\n                    a7\n                  ]);\n    case 6 : \n        return app(o(a0, a1, a2, a3, a4, a5), /* array */[\n                    a6,\n                    a7\n                  ]);\n    case 7 : \n        return app(o(a0, a1, a2, a3, a4, a5, a6), /* array */[a7]);\n    default:\n      return app(o, /* array */[\n                  a0,\n                  a1,\n                  a2,\n                  a3,\n                  a4,\n                  a5,\n                  a6,\n                  a7\n                ]);\n  }\n}\n\nfunction _8(o, a0, a1, a2, a3, a4, a5, a6, a7) {\n  var arity = o.length;\n  if (arity === 8) {\n    return o(a0, a1, a2, a3, a4, a5, a6, a7);\n  } else {\n    return curry_8(o, a0, a1, a2, a3, a4, a5, a6, a7, arity);\n  }\n}\n\nfunction __8(o) {\n  var arity = o.length;\n  if (arity === 8) {\n    return o;\n  } else {\n    return (function (a0, a1, a2, a3, a4, a5, a6, a7) {\n        return _8(o, a0, a1, a2, a3, a4, a5, a6, a7);\n      });\n  }\n}\n\nexport {\n  app ,\n  curry_1 ,\n  _1 ,\n  __1 ,\n  curry_2 ,\n  _2 ,\n  __2 ,\n  curry_3 ,\n  _3 ,\n  __3 ,\n  curry_4 ,\n  _4 ,\n  __4 ,\n  curry_5 ,\n  _5 ,\n  __5 ,\n  curry_6 ,\n  _6 ,\n  __6 ,\n  curry_7 ,\n  _7 ,\n  __7 ,\n  curry_8 ,\n  _8 ,\n  __8 ,\n  \n}\n/* No side effect */\n","\n\n\nvar id = /* record */[/* contents */0];\n\nfunction caml_set_oo_id(b) {\n  b[1] = id[0];\n  id[0] += 1;\n  return b;\n}\n\nfunction caml_fresh_oo_id(param) {\n  id[0] += 1;\n  return id[0];\n}\n\nfunction create(str) {\n  var v_001 = caml_fresh_oo_id(/* () */0);\n  var v = /* tuple */[\n    str,\n    v_001\n  ];\n  v.tag = 248;\n  return v;\n}\n\nfunction caml_is_extension(e) {\n  if (e === undefined) {\n    return false;\n  } else if (e.tag === 248) {\n    return true;\n  } else {\n    var slot = e[0];\n    if (slot !== undefined) {\n      return slot.tag === 248;\n    } else {\n      return false;\n    }\n  }\n}\n\nexport {\n  caml_set_oo_id ,\n  caml_fresh_oo_id ,\n  create ,\n  caml_is_extension ,\n  \n}\n/* No side effect */\n","\n\n\nvar undefinedHeader = /* array */[];\n\nfunction some(x) {\n  if (x === undefined) {\n    var block = /* tuple */[\n      undefinedHeader,\n      0\n    ];\n    block.tag = 256;\n    return block;\n  } else if (x !== null && x[0] === undefinedHeader) {\n    var nid = x[1] + 1 | 0;\n    var block$1 = /* tuple */[\n      undefinedHeader,\n      nid\n    ];\n    block$1.tag = 256;\n    return block$1;\n  } else {\n    return x;\n  }\n}\n\nfunction nullable_to_opt(x) {\n  if (x === null || x === undefined) {\n    return undefined;\n  } else {\n    return some(x);\n  }\n}\n\nfunction undefined_to_opt(x) {\n  if (x === undefined) {\n    return undefined;\n  } else {\n    return some(x);\n  }\n}\n\nfunction null_to_opt(x) {\n  if (x === null) {\n    return undefined;\n  } else {\n    return some(x);\n  }\n}\n\nfunction valFromOption(x) {\n  if (x !== null && x[0] === undefinedHeader) {\n    var depth = x[1];\n    if (depth === 0) {\n      return undefined;\n    } else {\n      return /* tuple */[\n              undefinedHeader,\n              depth - 1 | 0\n            ];\n    }\n  } else {\n    return x;\n  }\n}\n\nfunction option_get(x) {\n  if (x === undefined) {\n    return undefined;\n  } else {\n    return valFromOption(x);\n  }\n}\n\nfunction option_get_unwrap(x) {\n  if (x === undefined) {\n    return undefined;\n  } else {\n    return valFromOption(x)[1];\n  }\n}\n\nexport {\n  nullable_to_opt ,\n  undefined_to_opt ,\n  null_to_opt ,\n  valFromOption ,\n  some ,\n  option_get ,\n  option_get_unwrap ,\n  \n}\n/* No side effect */\n","\n\nimport * as Caml_option from \"./caml_option.js\";\nimport * as Caml_exceptions from \"./caml_exceptions.js\";\n\nvar $$Error = Caml_exceptions.create(\"Caml_js_exceptions.Error\");\n\nfunction internalToOCamlException(e) {\n  if (Caml_exceptions.caml_is_extension(e)) {\n    return e;\n  } else {\n    return [\n            $$Error,\n            e\n          ];\n  }\n}\n\nfunction caml_as_js_exn(exn) {\n  if (exn[0] === $$Error) {\n    return Caml_option.some(exn[1]);\n  }\n  \n}\n\nexport {\n  $$Error ,\n  internalToOCamlException ,\n  caml_as_js_exn ,\n  \n}\n/* No side effect */\n","\n\nimport * as Curry from \"./curry.js\";\nimport * as Caml_array from \"./caml_array.js\";\nimport * as Caml_exceptions from \"./caml_exceptions.js\";\nimport * as Caml_js_exceptions from \"./caml_js_exceptions.js\";\nimport * as Caml_builtin_exceptions from \"./caml_builtin_exceptions.js\";\n\nfunction init(l, f) {\n  if (l === 0) {\n    return /* array */[];\n  } else if (l < 0) {\n    throw [\n          Caml_builtin_exceptions.invalid_argument,\n          \"Array.init\"\n        ];\n  } else {\n    var res = Caml_array.caml_make_vect(l, Curry._1(f, 0));\n    for(var i = 1 ,i_finish = l - 1 | 0; i <= i_finish; ++i){\n      res[i] = Curry._1(f, i);\n    }\n    return res;\n  }\n}\n\nfunction make_matrix(sx, sy, init) {\n  var res = Caml_array.caml_make_vect(sx, /* array */[]);\n  for(var x = 0 ,x_finish = sx - 1 | 0; x <= x_finish; ++x){\n    res[x] = Caml_array.caml_make_vect(sy, init);\n  }\n  return res;\n}\n\nfunction copy(a) {\n  var l = a.length;\n  if (l === 0) {\n    return /* array */[];\n  } else {\n    return Caml_array.caml_array_sub(a, 0, l);\n  }\n}\n\nfunction append(a1, a2) {\n  var l1 = a1.length;\n  if (l1 === 0) {\n    return copy(a2);\n  } else if (a2.length === 0) {\n    return Caml_array.caml_array_sub(a1, 0, l1);\n  } else {\n    return a1.concat(a2);\n  }\n}\n\nfunction sub(a, ofs, len) {\n  if (len < 0 || ofs > (a.length - len | 0)) {\n    throw [\n          Caml_builtin_exceptions.invalid_argument,\n          \"Array.sub\"\n        ];\n  } else {\n    return Caml_array.caml_array_sub(a, ofs, len);\n  }\n}\n\nfunction fill(a, ofs, len, v) {\n  if (ofs < 0 || len < 0 || ofs > (a.length - len | 0)) {\n    throw [\n          Caml_builtin_exceptions.invalid_argument,\n          \"Array.fill\"\n        ];\n  } else {\n    for(var i = ofs ,i_finish = (ofs + len | 0) - 1 | 0; i <= i_finish; ++i){\n      a[i] = v;\n    }\n    return /* () */0;\n  }\n}\n\nfunction blit(a1, ofs1, a2, ofs2, len) {\n  if (len < 0 || ofs1 < 0 || ofs1 > (a1.length - len | 0) || ofs2 < 0 || ofs2 > (a2.length - len | 0)) {\n    throw [\n          Caml_builtin_exceptions.invalid_argument,\n          \"Array.blit\"\n        ];\n  } else {\n    return Caml_array.caml_array_blit(a1, ofs1, a2, ofs2, len);\n  }\n}\n\nfunction iter(f, a) {\n  for(var i = 0 ,i_finish = a.length - 1 | 0; i <= i_finish; ++i){\n    Curry._1(f, a[i]);\n  }\n  return /* () */0;\n}\n\nfunction map(f, a) {\n  var l = a.length;\n  if (l === 0) {\n    return /* array */[];\n  } else {\n    var r = Caml_array.caml_make_vect(l, Curry._1(f, a[0]));\n    for(var i = 1 ,i_finish = l - 1 | 0; i <= i_finish; ++i){\n      r[i] = Curry._1(f, a[i]);\n    }\n    return r;\n  }\n}\n\nfunction iteri(f, a) {\n  for(var i = 0 ,i_finish = a.length - 1 | 0; i <= i_finish; ++i){\n    Curry._2(f, i, a[i]);\n  }\n  return /* () */0;\n}\n\nfunction mapi(f, a) {\n  var l = a.length;\n  if (l === 0) {\n    return /* array */[];\n  } else {\n    var r = Caml_array.caml_make_vect(l, Curry._2(f, 0, a[0]));\n    for(var i = 1 ,i_finish = l - 1 | 0; i <= i_finish; ++i){\n      r[i] = Curry._2(f, i, a[i]);\n    }\n    return r;\n  }\n}\n\nfunction to_list(a) {\n  var _i = a.length - 1 | 0;\n  var _res = /* [] */0;\n  while(true) {\n    var res = _res;\n    var i = _i;\n    if (i < 0) {\n      return res;\n    } else {\n      _res = /* :: */[\n        a[i],\n        res\n      ];\n      _i = i - 1 | 0;\n      continue ;\n    }\n  };\n}\n\nfunction list_length(_accu, _param) {\n  while(true) {\n    var param = _param;\n    var accu = _accu;\n    if (param) {\n      _param = param[1];\n      _accu = accu + 1 | 0;\n      continue ;\n    } else {\n      return accu;\n    }\n  };\n}\n\nfunction of_list(l) {\n  if (l) {\n    var a = Caml_array.caml_make_vect(list_length(0, l), l[0]);\n    var _i = 1;\n    var _param = l[1];\n    while(true) {\n      var param = _param;\n      var i = _i;\n      if (param) {\n        a[i] = param[0];\n        _param = param[1];\n        _i = i + 1 | 0;\n        continue ;\n      } else {\n        return a;\n      }\n    };\n  } else {\n    return /* array */[];\n  }\n}\n\nfunction fold_left(f, x, a) {\n  var r = x;\n  for(var i = 0 ,i_finish = a.length - 1 | 0; i <= i_finish; ++i){\n    r = Curry._2(f, r, a[i]);\n  }\n  return r;\n}\n\nfunction fold_right(f, a, x) {\n  var r = x;\n  for(var i = a.length - 1 | 0; i >= 0; --i){\n    r = Curry._2(f, a[i], r);\n  }\n  return r;\n}\n\nvar Bottom = Caml_exceptions.create(\"Array.Bottom\");\n\nfunction sort(cmp, a) {\n  var maxson = function (l, i) {\n    var i31 = ((i + i | 0) + i | 0) + 1 | 0;\n    var x = i31;\n    if ((i31 + 2 | 0) < l) {\n      if (Curry._2(cmp, Caml_array.caml_array_get(a, i31), Caml_array.caml_array_get(a, i31 + 1 | 0)) < 0) {\n        x = i31 + 1 | 0;\n      }\n      if (Curry._2(cmp, Caml_array.caml_array_get(a, x), Caml_array.caml_array_get(a, i31 + 2 | 0)) < 0) {\n        x = i31 + 2 | 0;\n      }\n      return x;\n    } else if ((i31 + 1 | 0) < l && Curry._2(cmp, Caml_array.caml_array_get(a, i31), Caml_array.caml_array_get(a, i31 + 1 | 0)) < 0) {\n      return i31 + 1 | 0;\n    } else if (i31 < l) {\n      return i31;\n    } else {\n      throw [\n            Bottom,\n            i\n          ];\n    }\n  };\n  var trickle = function (l, i, e) {\n    try {\n      var l$1 = l;\n      var _i = i;\n      var e$1 = e;\n      while(true) {\n        var i$1 = _i;\n        var j = maxson(l$1, i$1);\n        if (Curry._2(cmp, Caml_array.caml_array_get(a, j), e$1) > 0) {\n          Caml_array.caml_array_set(a, i$1, Caml_array.caml_array_get(a, j));\n          _i = j;\n          continue ;\n        } else {\n          return Caml_array.caml_array_set(a, i$1, e$1);\n        }\n      };\n    }\n    catch (raw_exn){\n      var exn = Caml_js_exceptions.internalToOCamlException(raw_exn);\n      if (exn[0] === Bottom) {\n        return Caml_array.caml_array_set(a, exn[1], e);\n      } else {\n        throw exn;\n      }\n    }\n  };\n  var bubble = function (l, i) {\n    try {\n      var l$1 = l;\n      var _i = i;\n      while(true) {\n        var i$1 = _i;\n        var j = maxson(l$1, i$1);\n        Caml_array.caml_array_set(a, i$1, Caml_array.caml_array_get(a, j));\n        _i = j;\n        continue ;\n      };\n    }\n    catch (raw_exn){\n      var exn = Caml_js_exceptions.internalToOCamlException(raw_exn);\n      if (exn[0] === Bottom) {\n        return exn[1];\n      } else {\n        throw exn;\n      }\n    }\n  };\n  var trickleup = function (_i, e) {\n    while(true) {\n      var i = _i;\n      var father = (i - 1 | 0) / 3 | 0;\n      if (i === father) {\n        throw [\n              Caml_builtin_exceptions.assert_failure,\n              /* tuple */[\n                \"array.ml\",\n                173,\n                4\n              ]\n            ];\n      }\n      if (Curry._2(cmp, Caml_array.caml_array_get(a, father), e) < 0) {\n        Caml_array.caml_array_set(a, i, Caml_array.caml_array_get(a, father));\n        if (father > 0) {\n          _i = father;\n          continue ;\n        } else {\n          return Caml_array.caml_array_set(a, 0, e);\n        }\n      } else {\n        return Caml_array.caml_array_set(a, i, e);\n      }\n    };\n  };\n  var l = a.length;\n  for(var i = ((l + 1 | 0) / 3 | 0) - 1 | 0; i >= 0; --i){\n    trickle(l, i, Caml_array.caml_array_get(a, i));\n  }\n  for(var i$1 = l - 1 | 0; i$1 >= 2; --i$1){\n    var e = Caml_array.caml_array_get(a, i$1);\n    Caml_array.caml_array_set(a, i$1, Caml_array.caml_array_get(a, 0));\n    trickleup(bubble(i$1, 0), e);\n  }\n  if (l > 1) {\n    var e$1 = Caml_array.caml_array_get(a, 1);\n    Caml_array.caml_array_set(a, 1, Caml_array.caml_array_get(a, 0));\n    return Caml_array.caml_array_set(a, 0, e$1);\n  } else {\n    return 0;\n  }\n}\n\nfunction stable_sort(cmp, a) {\n  var merge = function (src1ofs, src1len, src2, src2ofs, src2len, dst, dstofs) {\n    var src1r = src1ofs + src1len | 0;\n    var src2r = src2ofs + src2len | 0;\n    var _i1 = src1ofs;\n    var _s1 = Caml_array.caml_array_get(a, src1ofs);\n    var _i2 = src2ofs;\n    var _s2 = Caml_array.caml_array_get(src2, src2ofs);\n    var _d = dstofs;\n    while(true) {\n      var d = _d;\n      var s2 = _s2;\n      var i2 = _i2;\n      var s1 = _s1;\n      var i1 = _i1;\n      if (Curry._2(cmp, s1, s2) <= 0) {\n        Caml_array.caml_array_set(dst, d, s1);\n        var i1$1 = i1 + 1 | 0;\n        if (i1$1 < src1r) {\n          _d = d + 1 | 0;\n          _s1 = Caml_array.caml_array_get(a, i1$1);\n          _i1 = i1$1;\n          continue ;\n        } else {\n          return blit(src2, i2, dst, d + 1 | 0, src2r - i2 | 0);\n        }\n      } else {\n        Caml_array.caml_array_set(dst, d, s2);\n        var i2$1 = i2 + 1 | 0;\n        if (i2$1 < src2r) {\n          _d = d + 1 | 0;\n          _s2 = Caml_array.caml_array_get(src2, i2$1);\n          _i2 = i2$1;\n          continue ;\n        } else {\n          return blit(a, i1, dst, d + 1 | 0, src1r - i1 | 0);\n        }\n      }\n    };\n  };\n  var isortto = function (srcofs, dst, dstofs, len) {\n    for(var i = 0 ,i_finish = len - 1 | 0; i <= i_finish; ++i){\n      var e = Caml_array.caml_array_get(a, srcofs + i | 0);\n      var j = (dstofs + i | 0) - 1 | 0;\n      while(j >= dstofs && Curry._2(cmp, Caml_array.caml_array_get(dst, j), e) > 0) {\n        Caml_array.caml_array_set(dst, j + 1 | 0, Caml_array.caml_array_get(dst, j));\n        j = j - 1 | 0;\n      };\n      Caml_array.caml_array_set(dst, j + 1 | 0, e);\n    }\n    return /* () */0;\n  };\n  var sortto = function (srcofs, dst, dstofs, len) {\n    if (len <= 5) {\n      return isortto(srcofs, dst, dstofs, len);\n    } else {\n      var l1 = len / 2 | 0;\n      var l2 = len - l1 | 0;\n      sortto(srcofs + l1 | 0, dst, dstofs + l1 | 0, l2);\n      sortto(srcofs, a, srcofs + l2 | 0, l1);\n      return merge(srcofs + l2 | 0, l1, dst, dstofs + l1 | 0, l2, dst, dstofs);\n    }\n  };\n  var l = a.length;\n  if (l <= 5) {\n    return isortto(0, a, 0, l);\n  } else {\n    var l1 = l / 2 | 0;\n    var l2 = l - l1 | 0;\n    var t = Caml_array.caml_make_vect(l2, Caml_array.caml_array_get(a, 0));\n    sortto(l1, t, 0, l2);\n    sortto(0, a, l2, l1);\n    return merge(l2, l1, t, 0, l2, a, 0);\n  }\n}\n\nvar create_matrix = make_matrix;\n\nvar concat = Caml_array.caml_array_concat;\n\nvar fast_sort = stable_sort;\n\nexport {\n  init ,\n  make_matrix ,\n  create_matrix ,\n  append ,\n  concat ,\n  sub ,\n  copy ,\n  fill ,\n  blit ,\n  to_list ,\n  of_list ,\n  iter ,\n  map ,\n  iteri ,\n  mapi ,\n  fold_left ,\n  fold_right ,\n  sort ,\n  stable_sort ,\n  fast_sort ,\n  \n}\n/* No side effect */\n","\n\nimport * as Caml_option from \"./caml_option.js\";\n\nfunction get(dict, k) {\n  if ((k in dict)) {\n    return Caml_option.some(dict[k]);\n  }\n  \n}\n\nfunction unsafeDeleteKey (dict,key){\n     delete dict[key];\n     return 0\n  };\n\nfunction entries(dict) {\n  var keys = Object.keys(dict);\n  var l = keys.length;\n  var values = new Array(l);\n  for(var i = 0 ,i_finish = l - 1 | 0; i <= i_finish; ++i){\n    var key = keys[i];\n    values[i] = /* tuple */[\n      key,\n      dict[key]\n    ];\n  }\n  return values;\n}\n\nfunction values(dict) {\n  var keys = Object.keys(dict);\n  var l = keys.length;\n  var values$1 = new Array(l);\n  for(var i = 0 ,i_finish = l - 1 | 0; i <= i_finish; ++i){\n    values$1[i] = dict[keys[i]];\n  }\n  return values$1;\n}\n\nfunction fromList(entries) {\n  var dict = { };\n  var _param = entries;\n  while(true) {\n    var param = _param;\n    if (param) {\n      var match = param[0];\n      dict[match[0]] = match[1];\n      _param = param[1];\n      continue ;\n    } else {\n      return dict;\n    }\n  };\n}\n\nfunction fromArray(entries) {\n  var dict = { };\n  var l = entries.length;\n  for(var i = 0 ,i_finish = l - 1 | 0; i <= i_finish; ++i){\n    var match = entries[i];\n    dict[match[0]] = match[1];\n  }\n  return dict;\n}\n\nfunction map(f, source) {\n  var target = { };\n  var keys = Object.keys(source);\n  var l = keys.length;\n  for(var i = 0 ,i_finish = l - 1 | 0; i <= i_finish; ++i){\n    var key = keys[i];\n    target[key] = f(source[key]);\n  }\n  return target;\n}\n\nexport {\n  get ,\n  unsafeDeleteKey ,\n  entries ,\n  values ,\n  fromList ,\n  fromArray ,\n  map ,\n  \n}\n/* No side effect */\n","\n\nimport * as Curry from \"./curry.js\";\nimport * as Caml_option from \"./caml_option.js\";\n\nfunction getExn(param) {\n  if (param !== undefined) {\n    return Caml_option.valFromOption(param);\n  } else {\n    throw new Error(\"getExn\");\n  }\n}\n\nfunction mapWithDefaultU(opt, $$default, f) {\n  if (opt !== undefined) {\n    return f(Caml_option.valFromOption(opt));\n  } else {\n    return $$default;\n  }\n}\n\nfunction mapWithDefault(opt, $$default, f) {\n  return mapWithDefaultU(opt, $$default, Curry.__1(f));\n}\n\nfunction mapU(opt, f) {\n  if (opt !== undefined) {\n    return Caml_option.some(f(Caml_option.valFromOption(opt)));\n  }\n  \n}\n\nfunction map(opt, f) {\n  return mapU(opt, Curry.__1(f));\n}\n\nfunction flatMapU(opt, f) {\n  if (opt !== undefined) {\n    return f(Caml_option.valFromOption(opt));\n  }\n  \n}\n\nfunction flatMap(opt, f) {\n  return flatMapU(opt, Curry.__1(f));\n}\n\nfunction getWithDefault(opt, $$default) {\n  if (opt !== undefined) {\n    return Caml_option.valFromOption(opt);\n  } else {\n    return $$default;\n  }\n}\n\nfunction isSome(param) {\n  return param !== undefined;\n}\n\nfunction isNone(x) {\n  return x === undefined;\n}\n\nfunction eqU(a, b, f) {\n  if (a !== undefined) {\n    if (b !== undefined) {\n      return f(Caml_option.valFromOption(a), Caml_option.valFromOption(b));\n    } else {\n      return false;\n    }\n  } else {\n    return b === undefined;\n  }\n}\n\nfunction eq(a, b, f) {\n  return eqU(a, b, Curry.__2(f));\n}\n\nfunction cmpU(a, b, f) {\n  if (a !== undefined) {\n    if (b !== undefined) {\n      return f(Caml_option.valFromOption(a), Caml_option.valFromOption(b));\n    } else {\n      return 1;\n    }\n  } else if (b !== undefined) {\n    return -1;\n  } else {\n    return 0;\n  }\n}\n\nfunction cmp(a, b, f) {\n  return cmpU(a, b, Curry.__2(f));\n}\n\nexport {\n  getExn ,\n  mapWithDefaultU ,\n  mapWithDefault ,\n  mapU ,\n  map ,\n  flatMapU ,\n  flatMap ,\n  getWithDefault ,\n  isSome ,\n  isNone ,\n  eqU ,\n  eq ,\n  cmpU ,\n  cmp ,\n  \n}\n/* No side effect */\n","// Generated by BUCKLESCRIPT VERSION 5.0.2, PLEASE EDIT WITH CARE\n\nimport * as Curry from \"../../bs-platform/lib/es6/curry.js\";\nimport * as Belt_Option from \"../../bs-platform/lib/es6/belt_Option.js\";\nimport * as Caml_option from \"../../bs-platform/lib/es6/caml_option.js\";\n\nfunction makeCancelable($staropt$star, fn) {\n  var wait = $staropt$star !== undefined ? $staropt$star : 100;\n  var timerId = /* record */[/* contents */undefined];\n  var lastArg = /* record */[/* contents */undefined];\n  var lastCallTime = /* record */[/* contents */undefined];\n  var shouldInvoke = function (time) {\n    var match = lastCallTime[0];\n    if (match !== undefined) {\n      var timeSinceLastCall = time - match | 0;\n      if (timeSinceLastCall >= wait) {\n        return true;\n      } else {\n        return timeSinceLastCall < 0;\n      }\n    } else {\n      return true;\n    }\n  };\n  var remainingWait = function (time) {\n    var match = lastCallTime[0];\n    if (match !== undefined) {\n      var timeSinceLastCall = time - match | 0;\n      return wait - timeSinceLastCall | 0;\n    } else {\n      return wait;\n    }\n  };\n  var timerExpired = function (param) {\n    var match = timerId[0];\n    if (match !== undefined) {\n      clearTimeout(Caml_option.valFromOption(match));\n    }\n    var time = Date.now() | 0;\n    if (shouldInvoke(time)) {\n      var x = lastArg[0];\n      if (x !== undefined) {\n        lastArg[0] = undefined;\n        timerId[0] = undefined;\n        return Curry._1(fn, Caml_option.valFromOption(x));\n      } else {\n        timerId[0] = undefined;\n        return /* () */0;\n      }\n    } else {\n      timerId[0] = Caml_option.some(setTimeout(timerExpired, remainingWait(time)));\n      return /* () */0;\n    }\n  };\n  var schedule = function (x) {\n    var time = Date.now() | 0;\n    lastArg[0] = Caml_option.some(x);\n    lastCallTime[0] = time;\n    timerId[0] = Caml_option.some(setTimeout(timerExpired, wait));\n    return /* () */0;\n  };\n  var scheduled = function (param) {\n    return Belt_Option.isSome(timerId[0]);\n  };\n  var cancel = function (param) {\n    var match = timerId[0];\n    if (match !== undefined) {\n      clearTimeout(Caml_option.valFromOption(match));\n      timerId[0] = undefined;\n      lastArg[0] = undefined;\n      lastCallTime[0] = undefined;\n      return /* () */0;\n    } else {\n      return /* () */0;\n    }\n  };\n  var now = function (x) {\n    cancel(/* () */0);\n    return Curry._1(fn, x);\n  };\n  return /* record */[\n          /* invoke */now,\n          /* schedule */schedule,\n          /* scheduled */scheduled,\n          /* cancel */cancel\n        ];\n}\n\nfunction make(wait, fn) {\n  return makeCancelable(wait, fn)[/* schedule */1];\n}\n\nexport {\n  make ,\n  makeCancelable ,\n  \n}\n/* No side effect */\n","\n\nimport * as Curry from \"../../../../bs-platform/lib/es6/curry.js\";\nimport * as NodeRe from \"./NodeRe.js\";\nimport * as DomTypesRe from \"../DomTypesRe.js\";\nimport * as SlotableRe from \"./SlotableRe.js\";\nimport * as Caml_option from \"../../../../bs-platform/lib/es6/caml_option.js\";\nimport * as ChildNodeRe from \"./ChildNodeRe.js\";\nimport * as ParentNodeRe from \"./ParentNodeRe.js\";\nimport * as EventTargetRe from \"../events/EventTargetRe.js\";\nimport * as NonDocumentTypeChildNodeRe from \"./NonDocumentTypeChildNodeRe.js\";\n\nfunction ofNode(node) {\n  var match = NodeRe.nodeType(node) === /* Element */0;\n  if (match) {\n    return Caml_option.some(node);\n  }\n  \n}\n\nfunction Impl(T) {\n  var asHtmlElement = (\n    function (element) {\n      // BEWARE: Assumes \"contentEditable\" uniquely identifies an HTMLELement\n      return element.contentEditable !== undefined ?  element : null;\n    }\n  );\n  var asHtmlElement$1 = function (self) {\n    return Caml_option.null_to_opt(Curry._1(asHtmlElement, self));\n  };\n  var insertAdjacentElement = function (position, element, self) {\n    self.insertAdjacentElement(DomTypesRe.encodeInsertPosition(position), element);\n    return /* () */0;\n  };\n  var insertAdjacentHTML = function (position, text, self) {\n    self.insertAdjacentHTML(DomTypesRe.encodeInsertPosition(position), text);\n    return /* () */0;\n  };\n  var insertAdjacentText = function (position, text, self) {\n    self.insertAdjacentText(DomTypesRe.encodeInsertPosition(position), text);\n    return /* () */0;\n  };\n  return /* module */[\n          /* asHtmlElement */asHtmlElement$1,\n          /* ofNode */ofNode,\n          /* insertAdjacentElement */insertAdjacentElement,\n          /* insertAdjacentHTML */insertAdjacentHTML,\n          /* insertAdjacentText */insertAdjacentText\n        ];\n}\n\nvar include = NodeRe.Impl(/* module */[]);\n\nEventTargetRe.Impl(/* module */[]);\n\nParentNodeRe.Impl(/* module */[]);\n\nNonDocumentTypeChildNodeRe.Impl(/* module */[]);\n\nChildNodeRe.Impl(/* module */[]);\n\nSlotableRe.Impl(/* module */[]);\n\nvar asHtmlElement = (\n    function (element) {\n      // BEWARE: Assumes \"contentEditable\" uniquely identifies an HTMLELement\n      return element.contentEditable !== undefined ?  element : null;\n    }\n  );\n\nfunction asHtmlElement$1(self) {\n  return Caml_option.null_to_opt(Curry._1(asHtmlElement, self));\n}\n\nfunction insertAdjacentElement(position, element, self) {\n  self.insertAdjacentElement(DomTypesRe.encodeInsertPosition(position), element);\n  return /* () */0;\n}\n\nfunction insertAdjacentHTML(position, text, self) {\n  self.insertAdjacentHTML(DomTypesRe.encodeInsertPosition(position), text);\n  return /* () */0;\n}\n\nfunction insertAdjacentText(position, text, self) {\n  self.insertAdjacentText(DomTypesRe.encodeInsertPosition(position), text);\n  return /* () */0;\n}\n\nvar nodeType = include[0];\n\nexport {\n  Impl ,\n  nodeType ,\n  asHtmlElement$1 as asHtmlElement,\n  ofNode ,\n  insertAdjacentElement ,\n  insertAdjacentHTML ,\n  insertAdjacentText ,\n  \n}\n/* include Not a pure module */\n","\n\nimport * as Caml_builtin_exceptions from \"./caml_builtin_exceptions.js\";\n\nfunction div(x, y) {\n  if (y === 0) {\n    throw Caml_builtin_exceptions.division_by_zero;\n  } else {\n    return x / y | 0;\n  }\n}\n\nfunction mod_(x, y) {\n  if (y === 0) {\n    throw Caml_builtin_exceptions.division_by_zero;\n  } else {\n    return x % y;\n  }\n}\n\nfunction caml_bswap16(x) {\n  return ((x & 255) << 8) | ((x & 65280) >>> 8);\n}\n\nfunction caml_int32_bswap(x) {\n  return ((x & 255) << 24) | ((x & 65280) << 8) | ((x & 16711680) >>> 8) | ((x & 4278190080) >>> 24);\n}\n\nvar imul = ( Math.imul || function (x,y) {\n  y |= 0; return ((((x >> 16) * y) << 16) + (x & 0xffff) * y)|0; \n}\n);\n\nvar caml_nativeint_bswap = caml_int32_bswap;\n\nexport {\n  div ,\n  mod_ ,\n  caml_bswap16 ,\n  caml_int32_bswap ,\n  caml_nativeint_bswap ,\n  imul ,\n  \n}\n/* imul Not a pure module */\n","\n\nimport * as Caml_int32 from \"./caml_int32.js\";\nimport * as Caml_int64 from \"./caml_int64.js\";\nimport * as Caml_utils from \"./caml_utils.js\";\nimport * as Caml_builtin_exceptions from \"./caml_builtin_exceptions.js\";\n\nfunction parse_digit(c) {\n  if (c >= 65) {\n    if (c >= 97) {\n      if (c >= 123) {\n        return -1;\n      } else {\n        return c - 87 | 0;\n      }\n    } else if (c >= 91) {\n      return -1;\n    } else {\n      return c - 55 | 0;\n    }\n  } else if (c > 57 || c < 48) {\n    return -1;\n  } else {\n    return c - /* \"0\" */48 | 0;\n  }\n}\n\nfunction int_of_string_base(param) {\n  switch (param) {\n    case 0 : \n        return 8;\n    case 1 : \n        return 16;\n    case 2 : \n        return 10;\n    case 3 : \n        return 2;\n    \n  }\n}\n\nfunction parse_sign_and_base(s) {\n  var sign = 1;\n  var base = /* Dec */2;\n  var i = 0;\n  var match = s.charCodeAt(i);\n  switch (match) {\n    case 43 : \n        i = i + 1 | 0;\n        break;\n    case 44 : \n        break;\n    case 45 : \n        sign = -1;\n        i = i + 1 | 0;\n        break;\n    default:\n      \n  }\n  if (s[i] === \"0\") {\n    var match$1 = s.charCodeAt(i + 1 | 0);\n    if (match$1 >= 89) {\n      if (match$1 >= 111) {\n        if (match$1 < 121) {\n          switch (match$1 - 111 | 0) {\n            case 0 : \n                base = /* Oct */0;\n                i = i + 2 | 0;\n                break;\n            case 6 : \n                i = i + 2 | 0;\n                break;\n            case 1 : \n            case 2 : \n            case 3 : \n            case 4 : \n            case 5 : \n            case 7 : \n            case 8 : \n                break;\n            case 9 : \n                base = /* Hex */1;\n                i = i + 2 | 0;\n                break;\n            \n          }\n        }\n        \n      } else if (match$1 === 98) {\n        base = /* Bin */3;\n        i = i + 2 | 0;\n      }\n      \n    } else if (match$1 !== 66) {\n      if (match$1 >= 79) {\n        switch (match$1 - 79 | 0) {\n          case 0 : \n              base = /* Oct */0;\n              i = i + 2 | 0;\n              break;\n          case 6 : \n              i = i + 2 | 0;\n              break;\n          case 1 : \n          case 2 : \n          case 3 : \n          case 4 : \n          case 5 : \n          case 7 : \n          case 8 : \n              break;\n          case 9 : \n              base = /* Hex */1;\n              i = i + 2 | 0;\n              break;\n          \n        }\n      }\n      \n    } else {\n      base = /* Bin */3;\n      i = i + 2 | 0;\n    }\n  }\n  return /* tuple */[\n          i,\n          sign,\n          base\n        ];\n}\n\nfunction caml_int_of_string(s) {\n  var match = parse_sign_and_base(s);\n  var i = match[0];\n  var base = int_of_string_base(match[2]);\n  var threshold = 4294967295;\n  var len = s.length;\n  var c = i < len ? s.charCodeAt(i) : /* \"\\000\" */0;\n  var d = parse_digit(c);\n  if (d < 0 || d >= base) {\n    throw [\n          Caml_builtin_exceptions.failure,\n          \"int_of_string\"\n        ];\n  }\n  var aux = function (_acc, _k) {\n    while(true) {\n      var k = _k;\n      var acc = _acc;\n      if (k === len) {\n        return acc;\n      } else {\n        var a = s.charCodeAt(k);\n        if (a === /* \"_\" */95) {\n          _k = k + 1 | 0;\n          continue ;\n        } else {\n          var v = parse_digit(a);\n          if (v < 0 || v >= base) {\n            throw [\n                  Caml_builtin_exceptions.failure,\n                  \"int_of_string\"\n                ];\n          } else {\n            var acc$1 = base * acc + v;\n            if (acc$1 > threshold) {\n              throw [\n                    Caml_builtin_exceptions.failure,\n                    \"int_of_string\"\n                  ];\n            } else {\n              _k = k + 1 | 0;\n              _acc = acc$1;\n              continue ;\n            }\n          }\n        }\n      }\n    };\n  };\n  var res = match[1] * aux(d, i + 1 | 0);\n  var or_res = res | 0;\n  if (base === 10 && res !== or_res) {\n    throw [\n          Caml_builtin_exceptions.failure,\n          \"int_of_string\"\n        ];\n  }\n  return or_res;\n}\n\nfunction caml_int64_of_string(s) {\n  var match = parse_sign_and_base(s);\n  var hbase = match[2];\n  var i = match[0];\n  var base = Caml_int64.of_int32(int_of_string_base(hbase));\n  var sign = Caml_int64.of_int32(match[1]);\n  var threshold;\n  switch (hbase) {\n    case 0 : \n        threshold = /* int64 */[\n          /* hi */536870911,\n          /* lo */4294967295\n        ];\n        break;\n    case 1 : \n        threshold = /* int64 */[\n          /* hi */268435455,\n          /* lo */4294967295\n        ];\n        break;\n    case 2 : \n        threshold = /* int64 */[\n          /* hi */429496729,\n          /* lo */2576980377\n        ];\n        break;\n    case 3 : \n        threshold = /* int64 */[\n          /* hi */2147483647,\n          /* lo */4294967295\n        ];\n        break;\n    \n  }\n  var len = s.length;\n  var c = i < len ? s.charCodeAt(i) : /* \"\\000\" */0;\n  var d = Caml_int64.of_int32(parse_digit(c));\n  if (Caml_int64.lt(d, /* int64 */[\n          /* hi */0,\n          /* lo */0\n        ]) || Caml_int64.ge(d, base)) {\n    throw [\n          Caml_builtin_exceptions.failure,\n          \"int64_of_string\"\n        ];\n  }\n  var aux = function (_acc, _k) {\n    while(true) {\n      var k = _k;\n      var acc = _acc;\n      if (k === len) {\n        return acc;\n      } else {\n        var a = s.charCodeAt(k);\n        if (a === /* \"_\" */95) {\n          _k = k + 1 | 0;\n          continue ;\n        } else {\n          var v = Caml_int64.of_int32(parse_digit(a));\n          if (Caml_int64.lt(v, /* int64 */[\n                  /* hi */0,\n                  /* lo */0\n                ]) || Caml_int64.ge(v, base) || Caml_int64.gt(acc, threshold)) {\n            throw [\n                  Caml_builtin_exceptions.failure,\n                  \"int64_of_string\"\n                ];\n          } else {\n            var acc$1 = Caml_int64.add(Caml_int64.mul(base, acc), v);\n            _k = k + 1 | 0;\n            _acc = acc$1;\n            continue ;\n          }\n        }\n      }\n    };\n  };\n  var res = Caml_int64.mul(sign, aux(d, i + 1 | 0));\n  var or_res = Caml_int64.or_(res, /* int64 */[\n        /* hi */0,\n        /* lo */0\n      ]);\n  if (Caml_int64.eq(base, /* int64 */[\n          /* hi */0,\n          /* lo */10\n        ]) && Caml_int64.neq(res, or_res)) {\n    throw [\n          Caml_builtin_exceptions.failure,\n          \"int64_of_string\"\n        ];\n  }\n  return or_res;\n}\n\nfunction int_of_base(param) {\n  switch (param) {\n    case 0 : \n        return 8;\n    case 1 : \n        return 16;\n    case 2 : \n        return 10;\n    \n  }\n}\n\nfunction lowercase(c) {\n  if (c >= /* \"A\" */65 && c <= /* \"Z\" */90 || c >= /* \"\\192\" */192 && c <= /* \"\\214\" */214 || c >= /* \"\\216\" */216 && c <= /* \"\\222\" */222) {\n    return c + 32 | 0;\n  } else {\n    return c;\n  }\n}\n\nfunction parse_format(fmt) {\n  var len = fmt.length;\n  if (len > 31) {\n    throw [\n          Caml_builtin_exceptions.invalid_argument,\n          \"format_int: format too long\"\n        ];\n  }\n  var f = /* record */[\n    /* justify */\"+\",\n    /* signstyle */\"-\",\n    /* filter */\" \",\n    /* alternate */false,\n    /* base : Dec */2,\n    /* signedconv */false,\n    /* width */0,\n    /* uppercase */false,\n    /* sign */1,\n    /* prec */-1,\n    /* conv */\"f\"\n  ];\n  var _i = 0;\n  while(true) {\n    var i = _i;\n    if (i >= len) {\n      return f;\n    } else {\n      var c = fmt.charCodeAt(i);\n      var exit = 0;\n      if (c >= 69) {\n        if (c >= 88) {\n          if (c >= 121) {\n            exit = 1;\n          } else {\n            switch (c - 88 | 0) {\n              case 0 : \n                  f[/* base */4] = /* Hex */1;\n                  f[/* uppercase */7] = true;\n                  _i = i + 1 | 0;\n                  continue ;\n              case 13 : \n              case 14 : \n              case 15 : \n                  exit = 5;\n                  break;\n              case 12 : \n              case 17 : \n                  exit = 4;\n                  break;\n              case 23 : \n                  f[/* base */4] = /* Oct */0;\n                  _i = i + 1 | 0;\n                  continue ;\n              case 29 : \n                  f[/* base */4] = /* Dec */2;\n                  _i = i + 1 | 0;\n                  continue ;\n              case 1 : \n              case 2 : \n              case 3 : \n              case 4 : \n              case 5 : \n              case 6 : \n              case 7 : \n              case 8 : \n              case 9 : \n              case 10 : \n              case 11 : \n              case 16 : \n              case 18 : \n              case 19 : \n              case 20 : \n              case 21 : \n              case 22 : \n              case 24 : \n              case 25 : \n              case 26 : \n              case 27 : \n              case 28 : \n              case 30 : \n              case 31 : \n                  exit = 1;\n                  break;\n              case 32 : \n                  f[/* base */4] = /* Hex */1;\n                  _i = i + 1 | 0;\n                  continue ;\n              \n            }\n          }\n        } else if (c >= 72) {\n          exit = 1;\n        } else {\n          f[/* signedconv */5] = true;\n          f[/* uppercase */7] = true;\n          f[/* conv */10] = String.fromCharCode(lowercase(c));\n          _i = i + 1 | 0;\n          continue ;\n        }\n      } else {\n        switch (c) {\n          case 35 : \n              f[/* alternate */3] = true;\n              _i = i + 1 | 0;\n              continue ;\n          case 32 : \n          case 43 : \n              exit = 2;\n              break;\n          case 45 : \n              f[/* justify */0] = \"-\";\n              _i = i + 1 | 0;\n              continue ;\n          case 46 : \n              f[/* prec */9] = 0;\n              var j = i + 1 | 0;\n              while((function(j){\n                  return function () {\n                    var w = fmt.charCodeAt(j) - /* \"0\" */48 | 0;\n                    return w >= 0 && w <= 9;\n                  }\n                  }(j))()) {\n                f[/* prec */9] = (Caml_int32.imul(f[/* prec */9], 10) + fmt.charCodeAt(j) | 0) - /* \"0\" */48 | 0;\n                j = j + 1 | 0;\n              };\n              _i = j;\n              continue ;\n          case 33 : \n          case 34 : \n          case 36 : \n          case 37 : \n          case 38 : \n          case 39 : \n          case 40 : \n          case 41 : \n          case 42 : \n          case 44 : \n          case 47 : \n              exit = 1;\n              break;\n          case 48 : \n              f[/* filter */2] = \"0\";\n              _i = i + 1 | 0;\n              continue ;\n          case 49 : \n          case 50 : \n          case 51 : \n          case 52 : \n          case 53 : \n          case 54 : \n          case 55 : \n          case 56 : \n          case 57 : \n              exit = 3;\n              break;\n          default:\n            exit = 1;\n        }\n      }\n      switch (exit) {\n        case 1 : \n            _i = i + 1 | 0;\n            continue ;\n        case 2 : \n            f[/* signstyle */1] = String.fromCharCode(c);\n            _i = i + 1 | 0;\n            continue ;\n        case 3 : \n            f[/* width */6] = 0;\n            var j$1 = i;\n            while((function(j$1){\n                return function () {\n                  var w = fmt.charCodeAt(j$1) - /* \"0\" */48 | 0;\n                  return w >= 0 && w <= 9;\n                }\n                }(j$1))()) {\n              f[/* width */6] = (Caml_int32.imul(f[/* width */6], 10) + fmt.charCodeAt(j$1) | 0) - /* \"0\" */48 | 0;\n              j$1 = j$1 + 1 | 0;\n            };\n            _i = j$1;\n            continue ;\n        case 4 : \n            f[/* signedconv */5] = true;\n            f[/* base */4] = /* Dec */2;\n            _i = i + 1 | 0;\n            continue ;\n        case 5 : \n            f[/* signedconv */5] = true;\n            f[/* conv */10] = String.fromCharCode(c);\n            _i = i + 1 | 0;\n            continue ;\n        \n      }\n    }\n  };\n}\n\nfunction finish_formatting(config, rawbuffer) {\n  var justify = config[/* justify */0];\n  var signstyle = config[/* signstyle */1];\n  var filter = config[/* filter */2];\n  var alternate = config[/* alternate */3];\n  var base = config[/* base */4];\n  var signedconv = config[/* signedconv */5];\n  var width = config[/* width */6];\n  var uppercase = config[/* uppercase */7];\n  var sign = config[/* sign */8];\n  var len = rawbuffer.length;\n  if (signedconv && (sign < 0 || signstyle !== \"-\")) {\n    len = len + 1 | 0;\n  }\n  if (alternate) {\n    if (base === /* Oct */0) {\n      len = len + 1 | 0;\n    } else if (base === /* Hex */1) {\n      len = len + 2 | 0;\n    }\n    \n  }\n  var buffer = \"\";\n  if (justify === \"+\" && filter === \" \") {\n    for(var i = len ,i_finish = width - 1 | 0; i <= i_finish; ++i){\n      buffer = buffer + filter;\n    }\n  }\n  if (signedconv) {\n    if (sign < 0) {\n      buffer = buffer + \"-\";\n    } else if (signstyle !== \"-\") {\n      buffer = buffer + signstyle;\n    }\n    \n  }\n  if (alternate && base === /* Oct */0) {\n    buffer = buffer + \"0\";\n  }\n  if (alternate && base === /* Hex */1) {\n    buffer = buffer + \"0x\";\n  }\n  if (justify === \"+\" && filter === \"0\") {\n    for(var i$1 = len ,i_finish$1 = width - 1 | 0; i$1 <= i_finish$1; ++i$1){\n      buffer = buffer + filter;\n    }\n  }\n  buffer = uppercase ? buffer + rawbuffer.toUpperCase() : buffer + rawbuffer;\n  if (justify === \"-\") {\n    for(var i$2 = len ,i_finish$2 = width - 1 | 0; i$2 <= i_finish$2; ++i$2){\n      buffer = buffer + \" \";\n    }\n  }\n  return buffer;\n}\n\nfunction caml_format_int(fmt, i) {\n  if (fmt === \"%d\") {\n    return String(i);\n  } else {\n    var f = parse_format(fmt);\n    var f$1 = f;\n    var i$1 = i;\n    var i$2 = i$1 < 0 ? (\n        f$1[/* signedconv */5] ? (f$1[/* sign */8] = -1, -i$1) : (i$1 >>> 0)\n      ) : i$1;\n    var s = i$2.toString(int_of_base(f$1[/* base */4]));\n    if (f$1[/* prec */9] >= 0) {\n      f$1[/* filter */2] = \" \";\n      var n = f$1[/* prec */9] - s.length | 0;\n      if (n > 0) {\n        s = Caml_utils.repeat(n, \"0\") + s;\n      }\n      \n    }\n    return finish_formatting(f$1, s);\n  }\n}\n\nfunction caml_int64_format(fmt, x) {\n  var f = parse_format(fmt);\n  var x$1 = f[/* signedconv */5] && Caml_int64.lt(x, /* int64 */[\n        /* hi */0,\n        /* lo */0\n      ]) ? (f[/* sign */8] = -1, Caml_int64.neg(x)) : x;\n  var s = \"\";\n  var match = f[/* base */4];\n  switch (match) {\n    case 0 : \n        var wbase = /* int64 */[\n          /* hi */0,\n          /* lo */8\n        ];\n        var cvtbl = \"01234567\";\n        if (Caml_int64.lt(x$1, /* int64 */[\n                /* hi */0,\n                /* lo */0\n              ])) {\n          var y = Caml_int64.discard_sign(x$1);\n          var match$1 = Caml_int64.div_mod(y, wbase);\n          var quotient = Caml_int64.add(/* int64 */[\n                /* hi */268435456,\n                /* lo */0\n              ], match$1[0]);\n          var modulus = match$1[1];\n          s = String.fromCharCode(cvtbl.charCodeAt(modulus[1] | 0)) + s;\n          while(Caml_int64.neq(quotient, /* int64 */[\n                  /* hi */0,\n                  /* lo */0\n                ])) {\n            var match$2 = Caml_int64.div_mod(quotient, wbase);\n            quotient = match$2[0];\n            modulus = match$2[1];\n            s = String.fromCharCode(cvtbl.charCodeAt(modulus[1] | 0)) + s;\n          };\n        } else {\n          var match$3 = Caml_int64.div_mod(x$1, wbase);\n          var quotient$1 = match$3[0];\n          var modulus$1 = match$3[1];\n          s = String.fromCharCode(cvtbl.charCodeAt(modulus$1[1] | 0)) + s;\n          while(Caml_int64.neq(quotient$1, /* int64 */[\n                  /* hi */0,\n                  /* lo */0\n                ])) {\n            var match$4 = Caml_int64.div_mod(quotient$1, wbase);\n            quotient$1 = match$4[0];\n            modulus$1 = match$4[1];\n            s = String.fromCharCode(cvtbl.charCodeAt(modulus$1[1] | 0)) + s;\n          };\n        }\n        break;\n    case 1 : \n        s = Caml_int64.to_hex(x$1) + s;\n        break;\n    case 2 : \n        var wbase$1 = /* int64 */[\n          /* hi */0,\n          /* lo */10\n        ];\n        var cvtbl$1 = \"0123456789\";\n        if (Caml_int64.lt(x$1, /* int64 */[\n                /* hi */0,\n                /* lo */0\n              ])) {\n          var y$1 = Caml_int64.discard_sign(x$1);\n          var match$5 = Caml_int64.div_mod(y$1, wbase$1);\n          var match$6 = Caml_int64.div_mod(Caml_int64.add(/* int64 */[\n                    /* hi */0,\n                    /* lo */8\n                  ], match$5[1]), wbase$1);\n          var quotient$2 = Caml_int64.add(Caml_int64.add(/* int64 */[\n                    /* hi */214748364,\n                    /* lo */3435973836\n                  ], match$5[0]), match$6[0]);\n          var modulus$2 = match$6[1];\n          s = String.fromCharCode(cvtbl$1.charCodeAt(modulus$2[1] | 0)) + s;\n          while(Caml_int64.neq(quotient$2, /* int64 */[\n                  /* hi */0,\n                  /* lo */0\n                ])) {\n            var match$7 = Caml_int64.div_mod(quotient$2, wbase$1);\n            quotient$2 = match$7[0];\n            modulus$2 = match$7[1];\n            s = String.fromCharCode(cvtbl$1.charCodeAt(modulus$2[1] | 0)) + s;\n          };\n        } else {\n          var match$8 = Caml_int64.div_mod(x$1, wbase$1);\n          var quotient$3 = match$8[0];\n          var modulus$3 = match$8[1];\n          s = String.fromCharCode(cvtbl$1.charCodeAt(modulus$3[1] | 0)) + s;\n          while(Caml_int64.neq(quotient$3, /* int64 */[\n                  /* hi */0,\n                  /* lo */0\n                ])) {\n            var match$9 = Caml_int64.div_mod(quotient$3, wbase$1);\n            quotient$3 = match$9[0];\n            modulus$3 = match$9[1];\n            s = String.fromCharCode(cvtbl$1.charCodeAt(modulus$3[1] | 0)) + s;\n          };\n        }\n        break;\n    \n  }\n  if (f[/* prec */9] >= 0) {\n    f[/* filter */2] = \" \";\n    var n = f[/* prec */9] - s.length | 0;\n    if (n > 0) {\n      s = Caml_utils.repeat(n, \"0\") + s;\n    }\n    \n  }\n  return finish_formatting(f, s);\n}\n\nfunction caml_format_float(fmt, x) {\n  var f = parse_format(fmt);\n  var prec = f[/* prec */9] < 0 ? 6 : f[/* prec */9];\n  var x$1 = x < 0 ? (f[/* sign */8] = -1, -x) : x;\n  var s = \"\";\n  if (isNaN(x$1)) {\n    s = \"nan\";\n    f[/* filter */2] = \" \";\n  } else if (isFinite(x$1)) {\n    var match = f[/* conv */10];\n    switch (match) {\n      case \"e\" : \n          s = x$1.toExponential(prec);\n          var i = s.length;\n          if (s[i - 3 | 0] === \"e\") {\n            s = s.slice(0, i - 1 | 0) + (\"0\" + s.slice(i - 1 | 0));\n          }\n          break;\n      case \"f\" : \n          s = x$1.toFixed(prec);\n          break;\n      case \"g\" : \n          var prec$1 = prec !== 0 ? prec : 1;\n          s = x$1.toExponential(prec$1 - 1 | 0);\n          var j = s.indexOf(\"e\");\n          var exp = Number(s.slice(j + 1 | 0)) | 0;\n          if (exp < -4 || x$1 >= 1e21 || x$1.toFixed().length > prec$1) {\n            var i$1 = j - 1 | 0;\n            while(s[i$1] === \"0\") {\n              i$1 = i$1 - 1 | 0;\n            };\n            if (s[i$1] === \".\") {\n              i$1 = i$1 - 1 | 0;\n            }\n            s = s.slice(0, i$1 + 1 | 0) + s.slice(j);\n            var i$2 = s.length;\n            if (s[i$2 - 3 | 0] === \"e\") {\n              s = s.slice(0, i$2 - 1 | 0) + (\"0\" + s.slice(i$2 - 1 | 0));\n            }\n            \n          } else {\n            var p = prec$1;\n            if (exp < 0) {\n              p = p - (exp + 1 | 0) | 0;\n              s = x$1.toFixed(p);\n            } else {\n              while((function () {\n                      s = x$1.toFixed(p);\n                      return s.length > (prec$1 + 1 | 0);\n                    })()) {\n                p = p - 1 | 0;\n              };\n            }\n            if (p !== 0) {\n              var k = s.length - 1 | 0;\n              while(s[k] === \"0\") {\n                k = k - 1 | 0;\n              };\n              if (s[k] === \".\") {\n                k = k - 1 | 0;\n              }\n              s = s.slice(0, k + 1 | 0);\n            }\n            \n          }\n          break;\n      default:\n        \n    }\n  } else {\n    s = \"inf\";\n    f[/* filter */2] = \" \";\n  }\n  return finish_formatting(f, s);\n}\n\nfunction float_of_string (s,exn){ \n\n    var res = +s;\n    if ((s.length > 0) && (res === res))\n        return res;\n    s = s.replace(/_/g, \"\");\n    res = +s;\n    if (((s.length > 0) && (res === res)) || /^[+-]?nan$/i.test(s)) {\n        return res;\n    };\n    if (/^\\+?inf(inity)?$/i.test(s))\n        return Infinity;\n    if (/^-inf(inity)?$/i.test(s))\n        return -Infinity;\n    throw exn;\n\n};\n\nfunction caml_float_of_string(s) {\n  return float_of_string(s, [\n              Caml_builtin_exceptions.failure,\n              \"float_of_string\"\n            ]);\n}\n\nvar caml_nativeint_format = caml_format_int;\n\nvar caml_int32_format = caml_format_int;\n\nvar caml_int32_of_string = caml_int_of_string;\n\nvar caml_nativeint_of_string = caml_int_of_string;\n\nexport {\n  caml_format_float ,\n  caml_format_int ,\n  caml_nativeint_format ,\n  caml_int32_format ,\n  caml_float_of_string ,\n  caml_int64_format ,\n  caml_int_of_string ,\n  caml_int32_of_string ,\n  caml_int64_of_string ,\n  caml_nativeint_of_string ,\n  \n}\n/* No side effect */\n","\n\nimport * as Caml_builtin_exceptions from \"./caml_builtin_exceptions.js\";\n\nfunction caml_string_get(s, i) {\n  if (i >= s.length || i < 0) {\n    throw [\n          Caml_builtin_exceptions.invalid_argument,\n          \"index out of bounds\"\n        ];\n  } else {\n    return s.charCodeAt(i);\n  }\n}\n\nfunction caml_string_get16(s, i) {\n  return s.charCodeAt(i) + (s.charCodeAt(i + 1 | 0) << 8) | 0;\n}\n\nfunction caml_string_get32(s, i) {\n  return ((s.charCodeAt(i) + (s.charCodeAt(i + 1 | 0) << 8) | 0) + (s.charCodeAt(i + 2 | 0) << 16) | 0) + (s.charCodeAt(i + 3 | 0) << 24) | 0;\n}\n\nfunction get(s, i) {\n  if (i < 0 || i >= s.length) {\n    throw [\n          Caml_builtin_exceptions.invalid_argument,\n          \"index out of bounds\"\n        ];\n  } else {\n    return s.charCodeAt(i);\n  }\n}\n\nexport {\n  caml_string_get ,\n  caml_string_get16 ,\n  caml_string_get32 ,\n  get ,\n  \n}\n/* No side effect */\n","\n\nimport * as Curry from \"./curry.js\";\nimport * as Caml_io from \"./caml_io.js\";\nimport * as Caml_sys from \"./caml_sys.js\";\nimport * as Caml_bytes from \"./caml_bytes.js\";\nimport * as Caml_format from \"./caml_format.js\";\nimport * as Caml_string from \"./caml_string.js\";\nimport * as Caml_exceptions from \"./caml_exceptions.js\";\nimport * as Caml_missing_polyfill from \"./caml_missing_polyfill.js\";\nimport * as Caml_builtin_exceptions from \"./caml_builtin_exceptions.js\";\nimport * as CamlinternalFormatBasics from \"./camlinternalFormatBasics.js\";\n\nfunction failwith(s) {\n  throw [\n        Caml_builtin_exceptions.failure,\n        s\n      ];\n}\n\nfunction invalid_arg(s) {\n  throw [\n        Caml_builtin_exceptions.invalid_argument,\n        s\n      ];\n}\n\nvar Exit = Caml_exceptions.create(\"Pervasives.Exit\");\n\nfunction abs(x) {\n  if (x >= 0) {\n    return x;\n  } else {\n    return -x | 0;\n  }\n}\n\nfunction lnot(x) {\n  return x ^ -1;\n}\n\nvar min_int = -2147483648;\n\nfunction classify_float(x) {\n  if (isFinite(x)) {\n    if (Math.abs(x) >= 2.2250738585072014e-308) {\n      return /* FP_normal */0;\n    } else if (x !== 0) {\n      return /* FP_subnormal */1;\n    } else {\n      return /* FP_zero */2;\n    }\n  } else if (isNaN(x)) {\n    return /* FP_nan */4;\n  } else {\n    return /* FP_infinite */3;\n  }\n}\n\nfunction char_of_int(n) {\n  if (n < 0 || n > 255) {\n    throw [\n          Caml_builtin_exceptions.invalid_argument,\n          \"char_of_int\"\n        ];\n  } else {\n    return n;\n  }\n}\n\nfunction string_of_bool(b) {\n  if (b) {\n    return \"true\";\n  } else {\n    return \"false\";\n  }\n}\n\nfunction bool_of_string(param) {\n  switch (param) {\n    case \"false\" : \n        return false;\n    case \"true\" : \n        return true;\n    default:\n      throw [\n            Caml_builtin_exceptions.invalid_argument,\n            \"bool_of_string\"\n          ];\n  }\n}\n\nfunction valid_float_lexem(s) {\n  var l = s.length;\n  var _i = 0;\n  while(true) {\n    var i = _i;\n    if (i >= l) {\n      return s + \".\";\n    } else {\n      var match = Caml_string.get(s, i);\n      if (match >= 48) {\n        if (match >= 58) {\n          return s;\n        } else {\n          _i = i + 1 | 0;\n          continue ;\n        }\n      } else if (match !== 45) {\n        return s;\n      } else {\n        _i = i + 1 | 0;\n        continue ;\n      }\n    }\n  };\n}\n\nfunction string_of_float(f) {\n  return valid_float_lexem(Caml_format.caml_format_float(\"%.12g\", f));\n}\n\nfunction $at(l1, l2) {\n  if (l1) {\n    return /* :: */[\n            l1[0],\n            $at(l1[1], l2)\n          ];\n  } else {\n    return l2;\n  }\n}\n\nvar stdin = Caml_io.stdin;\n\nvar stdout = Caml_io.stdout;\n\nvar stderr = Caml_io.stderr;\n\nfunction open_out_gen(mode, perm, name) {\n  return Caml_missing_polyfill.not_implemented(\"caml_ml_open_descriptor_out\");\n}\n\nfunction open_out(name) {\n  return open_out_gen(/* :: */[\n              /* Open_wronly */1,\n              /* :: */[\n                /* Open_creat */3,\n                /* :: */[\n                  /* Open_trunc */4,\n                  /* :: */[\n                    /* Open_text */7,\n                    /* [] */0\n                  ]\n                ]\n              ]\n            ], 438, name);\n}\n\nfunction open_out_bin(name) {\n  return open_out_gen(/* :: */[\n              /* Open_wronly */1,\n              /* :: */[\n                /* Open_creat */3,\n                /* :: */[\n                  /* Open_trunc */4,\n                  /* :: */[\n                    /* Open_binary */6,\n                    /* [] */0\n                  ]\n                ]\n              ]\n            ], 438, name);\n}\n\nfunction flush_all(param) {\n  var _param = Caml_io.caml_ml_out_channels_list(/* () */0);\n  while(true) {\n    var param$1 = _param;\n    if (param$1) {\n      try {\n        Caml_io.caml_ml_flush(param$1[0]);\n      }\n      catch (exn){\n        \n      }\n      _param = param$1[1];\n      continue ;\n    } else {\n      return /* () */0;\n    }\n  };\n}\n\nfunction output_bytes(oc, s) {\n  return Caml_io.caml_ml_output(oc, s, 0, s.length);\n}\n\nfunction output_string(oc, s) {\n  return Caml_io.caml_ml_output(oc, s, 0, s.length);\n}\n\nfunction output(oc, s, ofs, len) {\n  if (ofs < 0 || len < 0 || ofs > (s.length - len | 0)) {\n    throw [\n          Caml_builtin_exceptions.invalid_argument,\n          \"output\"\n        ];\n  } else {\n    return Caml_io.caml_ml_output(oc, s, ofs, len);\n  }\n}\n\nfunction output_substring(oc, s, ofs, len) {\n  if (ofs < 0 || len < 0 || ofs > (s.length - len | 0)) {\n    throw [\n          Caml_builtin_exceptions.invalid_argument,\n          \"output_substring\"\n        ];\n  } else {\n    return Caml_io.caml_ml_output(oc, s, ofs, len);\n  }\n}\n\nfunction output_value(chan, v) {\n  return Caml_missing_polyfill.not_implemented(\"caml_output_value\");\n}\n\nfunction close_out(oc) {\n  Caml_io.caml_ml_flush(oc);\n  return Caml_missing_polyfill.not_implemented(\"caml_ml_close_channel\");\n}\n\nfunction close_out_noerr(oc) {\n  try {\n    Caml_io.caml_ml_flush(oc);\n  }\n  catch (exn){\n    \n  }\n  try {\n    return Caml_missing_polyfill.not_implemented(\"caml_ml_close_channel\");\n  }\n  catch (exn$1){\n    return /* () */0;\n  }\n}\n\nfunction open_in_gen(mode, perm, name) {\n  return Caml_missing_polyfill.not_implemented(\"caml_ml_open_descriptor_in\");\n}\n\nfunction open_in(name) {\n  return open_in_gen(/* :: */[\n              /* Open_rdonly */0,\n              /* :: */[\n                /* Open_text */7,\n                /* [] */0\n              ]\n            ], 0, name);\n}\n\nfunction open_in_bin(name) {\n  return open_in_gen(/* :: */[\n              /* Open_rdonly */0,\n              /* :: */[\n                /* Open_binary */6,\n                /* [] */0\n              ]\n            ], 0, name);\n}\n\nfunction input(ic, s, ofs, len) {\n  if (ofs < 0 || len < 0 || ofs > (s.length - len | 0)) {\n    throw [\n          Caml_builtin_exceptions.invalid_argument,\n          \"input\"\n        ];\n  } else {\n    return Caml_missing_polyfill.not_implemented(\"caml_ml_input\");\n  }\n}\n\nfunction unsafe_really_input(ic, s, _ofs, _len) {\n  while(true) {\n    var len = _len;\n    var ofs = _ofs;\n    if (len <= 0) {\n      return /* () */0;\n    } else {\n      var r = Caml_missing_polyfill.not_implemented(\"caml_ml_input\");\n      if (r === 0) {\n        throw Caml_builtin_exceptions.end_of_file;\n      } else {\n        _len = len - r | 0;\n        _ofs = ofs + r | 0;\n        continue ;\n      }\n    }\n  };\n}\n\nfunction really_input(ic, s, ofs, len) {\n  if (ofs < 0 || len < 0 || ofs > (s.length - len | 0)) {\n    throw [\n          Caml_builtin_exceptions.invalid_argument,\n          \"really_input\"\n        ];\n  } else {\n    return unsafe_really_input(ic, s, ofs, len);\n  }\n}\n\nfunction really_input_string(ic, len) {\n  var s = Caml_bytes.caml_create_bytes(len);\n  really_input(ic, s, 0, len);\n  return Caml_bytes.bytes_to_string(s);\n}\n\nfunction input_line(chan) {\n  var build_result = function (buf, _pos, _param) {\n    while(true) {\n      var param = _param;\n      var pos = _pos;\n      if (param) {\n        var hd = param[0];\n        var len = hd.length;\n        Caml_bytes.caml_blit_bytes(hd, 0, buf, pos - len | 0, len);\n        _param = param[1];\n        _pos = pos - len | 0;\n        continue ;\n      } else {\n        return buf;\n      }\n    };\n  };\n  var scan = function (_accu, _len) {\n    while(true) {\n      var len = _len;\n      var accu = _accu;\n      var n = Caml_missing_polyfill.not_implemented(\"caml_ml_input_scan_line\");\n      if (n === 0) {\n        if (accu) {\n          return build_result(Caml_bytes.caml_create_bytes(len), len, accu);\n        } else {\n          throw Caml_builtin_exceptions.end_of_file;\n        }\n      } else if (n > 0) {\n        var res = Caml_bytes.caml_create_bytes(n - 1 | 0);\n        Caml_missing_polyfill.not_implemented(\"caml_ml_input\");\n        Caml_missing_polyfill.not_implemented(\"caml_ml_input_char\");\n        if (accu) {\n          var len$1 = (len + n | 0) - 1 | 0;\n          return build_result(Caml_bytes.caml_create_bytes(len$1), len$1, /* :: */[\n                      res,\n                      accu\n                    ]);\n        } else {\n          return res;\n        }\n      } else {\n        var beg = Caml_bytes.caml_create_bytes(-n | 0);\n        Caml_missing_polyfill.not_implemented(\"caml_ml_input\");\n        _len = len - n | 0;\n        _accu = /* :: */[\n          beg,\n          accu\n        ];\n        continue ;\n      }\n    };\n  };\n  return Caml_bytes.bytes_to_string(scan(/* [] */0, 0));\n}\n\nfunction close_in_noerr(ic) {\n  try {\n    return Caml_missing_polyfill.not_implemented(\"caml_ml_close_channel\");\n  }\n  catch (exn){\n    return /* () */0;\n  }\n}\n\nfunction print_char(c) {\n  return Caml_io.caml_ml_output_char(stdout, c);\n}\n\nfunction print_string(s) {\n  return output_string(stdout, s);\n}\n\nfunction print_bytes(s) {\n  return output_bytes(stdout, s);\n}\n\nfunction print_int(i) {\n  return output_string(stdout, String(i));\n}\n\nfunction print_float(f) {\n  return output_string(stdout, valid_float_lexem(Caml_format.caml_format_float(\"%.12g\", f)));\n}\n\nfunction print_newline(param) {\n  Caml_io.caml_ml_output_char(stdout, /* \"\\n\" */10);\n  return Caml_io.caml_ml_flush(stdout);\n}\n\nfunction prerr_char(c) {\n  return Caml_io.caml_ml_output_char(stderr, c);\n}\n\nfunction prerr_string(s) {\n  return output_string(stderr, s);\n}\n\nfunction prerr_bytes(s) {\n  return output_bytes(stderr, s);\n}\n\nfunction prerr_int(i) {\n  return output_string(stderr, String(i));\n}\n\nfunction prerr_float(f) {\n  return output_string(stderr, valid_float_lexem(Caml_format.caml_format_float(\"%.12g\", f)));\n}\n\nfunction prerr_newline(param) {\n  Caml_io.caml_ml_output_char(stderr, /* \"\\n\" */10);\n  return Caml_io.caml_ml_flush(stderr);\n}\n\nfunction read_line(param) {\n  Caml_io.caml_ml_flush(stdout);\n  return input_line(stdin);\n}\n\nfunction read_int(param) {\n  return Caml_format.caml_int_of_string((Caml_io.caml_ml_flush(stdout), input_line(stdin)));\n}\n\nfunction read_float(param) {\n  return Caml_format.caml_float_of_string((Caml_io.caml_ml_flush(stdout), input_line(stdin)));\n}\n\nfunction string_of_format(param) {\n  return param[1];\n}\n\nfunction $caret$caret(param, param$1) {\n  return /* Format */[\n          CamlinternalFormatBasics.concat_fmt(param[0], param$1[0]),\n          param[1] + (\"%,\" + param$1[1])\n        ];\n}\n\nvar exit_function = /* record */[/* contents */flush_all];\n\nfunction at_exit(f) {\n  var g = exit_function[0];\n  exit_function[0] = (function (param) {\n      Curry._1(f, /* () */0);\n      return Curry._1(g, /* () */0);\n    });\n  return /* () */0;\n}\n\nfunction do_at_exit(param) {\n  return Curry._1(exit_function[0], /* () */0);\n}\n\nfunction exit(retcode) {\n  do_at_exit(/* () */0);\n  return Caml_sys.caml_sys_exit(retcode);\n}\n\nvar max_int = 2147483647;\n\nvar epsilon_float = 2.220446049250313e-16;\n\nvar flush = Caml_io.caml_ml_flush;\n\nvar output_char = Caml_io.caml_ml_output_char;\n\nvar output_byte = Caml_io.caml_ml_output_char;\n\nfunction output_binary_int(prim, prim$1) {\n  return Caml_missing_polyfill.not_implemented(\"caml_ml_output_int\");\n}\n\nfunction seek_out(prim, prim$1) {\n  return Caml_missing_polyfill.not_implemented(\"caml_ml_seek_out\");\n}\n\nfunction pos_out(prim) {\n  return Caml_missing_polyfill.not_implemented(\"caml_ml_pos_out\");\n}\n\nfunction out_channel_length(prim) {\n  return Caml_missing_polyfill.not_implemented(\"caml_ml_channel_size\");\n}\n\nfunction set_binary_mode_out(prim, prim$1) {\n  return Caml_missing_polyfill.not_implemented(\"caml_ml_set_binary_mode\");\n}\n\nfunction input_char(prim) {\n  return Caml_missing_polyfill.not_implemented(\"caml_ml_input_char\");\n}\n\nfunction input_byte(prim) {\n  return Caml_missing_polyfill.not_implemented(\"caml_ml_input_char\");\n}\n\nfunction input_binary_int(prim) {\n  return Caml_missing_polyfill.not_implemented(\"caml_ml_input_int\");\n}\n\nfunction input_value(prim) {\n  return Caml_missing_polyfill.not_implemented(\"caml_input_value\");\n}\n\nfunction seek_in(prim, prim$1) {\n  return Caml_missing_polyfill.not_implemented(\"caml_ml_seek_in\");\n}\n\nfunction pos_in(prim) {\n  return Caml_missing_polyfill.not_implemented(\"caml_ml_pos_in\");\n}\n\nfunction in_channel_length(prim) {\n  return Caml_missing_polyfill.not_implemented(\"caml_ml_channel_size\");\n}\n\nfunction close_in(prim) {\n  return Caml_missing_polyfill.not_implemented(\"caml_ml_close_channel\");\n}\n\nfunction set_binary_mode_in(prim, prim$1) {\n  return Caml_missing_polyfill.not_implemented(\"caml_ml_set_binary_mode\");\n}\n\nfunction LargeFile_000(prim, prim$1) {\n  return Caml_missing_polyfill.not_implemented(\"caml_ml_seek_out_64\");\n}\n\nfunction LargeFile_001(prim) {\n  return Caml_missing_polyfill.not_implemented(\"caml_ml_pos_out_64\");\n}\n\nfunction LargeFile_002(prim) {\n  return Caml_missing_polyfill.not_implemented(\"caml_ml_channel_size_64\");\n}\n\nfunction LargeFile_003(prim, prim$1) {\n  return Caml_missing_polyfill.not_implemented(\"caml_ml_seek_in_64\");\n}\n\nfunction LargeFile_004(prim) {\n  return Caml_missing_polyfill.not_implemented(\"caml_ml_pos_in_64\");\n}\n\nfunction LargeFile_005(prim) {\n  return Caml_missing_polyfill.not_implemented(\"caml_ml_channel_size_64\");\n}\n\nvar LargeFile = [\n  LargeFile_000,\n  LargeFile_001,\n  LargeFile_002,\n  LargeFile_003,\n  LargeFile_004,\n  LargeFile_005\n];\n\nexport {\n  invalid_arg ,\n  failwith ,\n  Exit ,\n  abs ,\n  max_int ,\n  min_int ,\n  lnot ,\n  epsilon_float ,\n  classify_float ,\n  char_of_int ,\n  string_of_bool ,\n  bool_of_string ,\n  string_of_float ,\n  $at ,\n  stdin ,\n  stdout ,\n  stderr ,\n  print_char ,\n  print_string ,\n  print_bytes ,\n  print_int ,\n  print_float ,\n  print_newline ,\n  prerr_char ,\n  prerr_string ,\n  prerr_bytes ,\n  prerr_int ,\n  prerr_float ,\n  prerr_newline ,\n  read_line ,\n  read_int ,\n  read_float ,\n  open_out ,\n  open_out_bin ,\n  open_out_gen ,\n  flush ,\n  flush_all ,\n  output_char ,\n  output_string ,\n  output_bytes ,\n  output ,\n  output_substring ,\n  output_byte ,\n  output_binary_int ,\n  output_value ,\n  seek_out ,\n  pos_out ,\n  out_channel_length ,\n  close_out ,\n  close_out_noerr ,\n  set_binary_mode_out ,\n  open_in ,\n  open_in_bin ,\n  open_in_gen ,\n  input_char ,\n  input_line ,\n  input ,\n  really_input ,\n  really_input_string ,\n  input_byte ,\n  input_binary_int ,\n  input_value ,\n  seek_in ,\n  pos_in ,\n  in_channel_length ,\n  close_in ,\n  close_in_noerr ,\n  set_binary_mode_in ,\n  LargeFile ,\n  string_of_format ,\n  $caret$caret ,\n  exit ,\n  at_exit ,\n  valid_float_lexem ,\n  unsafe_really_input ,\n  do_at_exit ,\n  \n}\n/* No side effect */\n","// Generated by BUCKLESCRIPT VERSION 5.0.2, PLEASE EDIT WITH CARE\n\n\nvar defaultHmac = {\n  name: \"HMAC\",\n  hash: \"SHA-256\"\n};\n\nfunction exportKeyJWK(key) {\n  return window.crypto.subtle.exportKey(\"jwk\", key).then((function (t) {\n                return Promise.resolve(JSON.stringify(t));\n              }));\n}\n\nfunction importKeyJWK(json) {\n  var parsed = JSON.parse(json);\n  return window.crypto.subtle.importKey(\"jwk\", parsed, defaultHmac, true, /* array */[\n              \"sign\",\n              \"verify\"\n            ]);\n}\n\nfunction generateHmac(param) {\n  return window.crypto.subtle.generateKey(defaultHmac, true, /* array */[\n              \"sign\",\n              \"verify\"\n            ]);\n}\n\nvar defaultHmacKeyJSON = \"{\\\"alg\\\":\\\"HS256\\\",\\\"ext\\\":true,\\\"k\\\":\\\"A-cS_q7opsDHm5vusaNtzSbaJcI153rl-2VVPXyliu2G5nKicquFkf-rcFNCyQkC50CDjzFdDhIh9WzzWSXXHw\\\",\\\"key_ops\\\":[\\\"sign\\\",\\\"verify\\\"],\\\"kty\\\":\\\"oct\\\"}\";\n\nvar defaultHmacKey = importKeyJWK(defaultHmacKeyJSON);\n\nexport {\n  defaultHmac ,\n  exportKeyJWK ,\n  importKeyJWK ,\n  generateHmac ,\n  defaultHmacKeyJSON ,\n  defaultHmacKey ,\n  \n}\n/* defaultHmacKey Not a pure module */\n","// Generated by BUCKLESCRIPT VERSION 5.0.2, PLEASE EDIT WITH CARE\n\nimport * as Caml_array from \"../node_modules/bs-platform/lib/es6/caml_array.js\";\nimport * as Caml_js_exceptions from \"../node_modules/bs-platform/lib/es6/caml_js_exceptions.js\";\nimport * as SubtleCrypto$QueerLoop from \"./SubtleCrypto.bs.js\";\nimport * as Caml_builtin_exceptions from \"../node_modules/bs-platform/lib/es6/caml_builtin_exceptions.js\";\n\nfunction abToStr (buf){\n  return String.fromCharCode.apply(null, new Uint8Array(buf));\n     };\n\nfunction abToHexAndBase64Str (buf){\n     var uint8 = new Uint8Array(buf);\n     var b64 = window.btoa(String.fromCharCode.apply(null, uint8));\n     var hex = Array.prototype.map.call(uint8, x => ('00' + x.toString(16)).slice(-2)).join('');\n     return [hex, b64];\n     };\n\nfunction abToHexStr (buf){\n     return Array.prototype.map.call(new Uint8Array(buf), x => ('00' + x.toString(16)).slice(-2)).join('');\n     };\n\nfunction str2ab (str){\n    var buf = new ArrayBuffer(str.length);\n    var bufView = new Uint8Array(buf);\n    for (var i=0, strLen=str.length; i < strLen; i++) {\n    bufView[i] = str.charCodeAt(i);\n  }\n      return buf;\n     };\n\nfunction b64ToAB(s) {\n  return str2ab(atob(s));\n}\n\nfunction abToB64(ab) {\n  return btoa(abToStr(ab));\n}\n\nfunction digest(algorithm, input) {\n  return window.crypto.subtle.digest(algorithm, str2ab(input)).then((function (output) {\n                return Promise.resolve(abToStr(output));\n              }));\n}\n\nfunction hexDigest(algorithm, input) {\n  return window.crypto.subtle.digest(algorithm, str2ab(input)).then((function (output) {\n                return Promise.resolve(abToHexStr(output));\n              }));\n}\n\nfunction hexAndBase64Digest(algorithm, input) {\n  return window.crypto.subtle.digest(algorithm, str2ab(input)).then((function (output) {\n                return Promise.resolve(abToHexAndBase64Str(output));\n              }));\n}\n\nfunction hmacSign(data) {\n  return SubtleCrypto$QueerLoop.defaultHmacKey.then((function (key) {\n                  var buf = str2ab(data);\n                  return Promise.all(/* tuple */[\n                              window.crypto.subtle.sign(SubtleCrypto$QueerLoop.defaultHmac, key, buf),\n                              Promise.resolve(buf)\n                            ]);\n                })).then((function (param) {\n                return Promise.resolve(btoa(abToStr(param[0])) + (\"|\" + btoa(abToStr(param[1]))));\n              }));\n}\n\nfunction hmacVerify(input) {\n  return SubtleCrypto$QueerLoop.defaultHmacKey.then((function (key) {\n                  var parts = input.split(\"|\");\n                  if (parts.length !== 2) {\n                    Promise.reject([\n                          Caml_builtin_exceptions.invalid_argument,\n                          input\n                        ]);\n                  }\n                  var exit = 0;\n                  var val;\n                  var val$1;\n                  try {\n                    val = str2ab(atob(Caml_array.caml_array_get(parts, 0)));\n                    val$1 = str2ab(atob(Caml_array.caml_array_get(parts, 1)));\n                    exit = 1;\n                  }\n                  catch (raw_e){\n                    var e = Caml_js_exceptions.internalToOCamlException(raw_e);\n                    console.log(parts);\n                    return Promise.reject(e);\n                  }\n                  if (exit === 1) {\n                    return Promise.all(/* tuple */[\n                                window.crypto.subtle.verify(SubtleCrypto$QueerLoop.defaultHmac, key, val, val$1),\n                                Promise.resolve(abToHexStr(val)),\n                                Promise.resolve(abToStr(val$1))\n                              ]);\n                  }\n                  \n                })).then((function (param) {\n                if (param[0]) {\n                  return Promise.resolve(/* tuple */[\n                              param[1],\n                              param[2]\n                            ]);\n                } else {\n                  return Promise.reject([\n                              Caml_builtin_exceptions.invalid_argument,\n                              input\n                            ]);\n                }\n              }));\n}\n\nexport {\n  abToStr ,\n  abToHexAndBase64Str ,\n  abToHexStr ,\n  str2ab ,\n  b64ToAB ,\n  abToB64 ,\n  digest ,\n  hexDigest ,\n  hexAndBase64Digest ,\n  hmacSign ,\n  hmacVerify ,\n  \n}\n/* SubtleCrypto-QueerLoop Not a pure module */\n","// Generated by BUCKLESCRIPT VERSION 5.0.2, PLEASE EDIT WITH CARE\n\nimport * as $$Array from \"../node_modules/bs-platform/lib/es6/array.js\";\nimport * as ElementRe from \"../node_modules/bs-webapi/src/dom/nodes/ElementRe.js\";\nimport * as Belt_Option from \"../node_modules/bs-platform/lib/es6/belt_Option.js\";\nimport * as Caml_option from \"../node_modules/bs-platform/lib/es6/caml_option.js\";\n\nfunction withQuerySelectorDom(query, f) {\n  return Belt_Option.map(Caml_option.nullable_to_opt(document.querySelector(query)), f);\n}\n\nfunction withQuerySelector(query, f) {\n  return Belt_Option.map(Belt_Option.flatMap(Caml_option.nullable_to_opt(document.querySelector(query)), ElementRe.asHtmlElement), f);\n}\n\nfunction withQuerySelectorAll(query, f) {\n  return $$Array.map(f, Array.prototype.slice.call(document.querySelectorAll(query)));\n}\n\nfunction withQuerySelectorSub(query, childQuery, f) {\n  return Belt_Option.map(Belt_Option.flatMap(Caml_option.nullable_to_opt(document.querySelector(query)), (function (param) {\n                    return Caml_option.nullable_to_opt(param.querySelector(childQuery));\n                  })), f);\n}\n\nfunction getHash(param) {\n  return window.location.hash;\n}\n\nfunction setHash(hash) {\n  window.location.hash = hash;\n  return /* () */0;\n}\n\nfunction getQueryString(param) {\n  return window.location.search;\n}\n\nfunction setQueryString(search) {\n  window.location.search = search;\n  return /* () */0;\n}\n\nvar htmlNs = \"http://www.w3.org/1999/xhtml\";\n\nvar svgNs = \"http://www.w3.org/2000/svg\";\n\nexport {\n  htmlNs ,\n  svgNs ,\n  withQuerySelectorDom ,\n  withQuerySelector ,\n  withQuerySelectorAll ,\n  withQuerySelectorSub ,\n  getHash ,\n  setHash ,\n  getQueryString ,\n  setQueryString ,\n  \n}\n/* ElementRe Not a pure module */\n","class BitMatrix {\n    static createEmpty(width, height) {\n        return new BitMatrix(new Uint8ClampedArray(width * height), width);\n    }\n    constructor(data, width) {\n        this.width = width;\n        this.height = data.length / width;\n        this.data = data;\n    }\n    get(x, y) {\n        if (x < 0 || x >= this.width || y < 0 || y >= this.height) {\n            return false;\n        }\n        return !!this.data[y * this.width + x];\n    }\n    set(x, y, v) {\n        this.data[y * this.width + x] = v ? 1 : 0;\n    }\n    setRegion(left, top, width, height, v) {\n        for (let y = top; y < top + height; y++) {\n            for (let x = left; x < left + width; x++) {\n                this.set(x, y, !!v);\n            }\n        }\n    }\n}\n\nconst REGION_SIZE = 8;\nconst MIN_DYNAMIC_RANGE = 24;\nfunction numBetween(value, min, max) {\n    return value < min ? min : value > max ? max : value;\n}\n// Like BitMatrix but accepts arbitry Uint8 values\nclass Matrix {\n    constructor(width, height, buffer) {\n        this.width = width;\n        const bufferSize = width * height;\n        if (buffer && buffer.length !== bufferSize) {\n            throw new Error(\"Wrong buffer size\");\n        }\n        this.data = buffer || new Uint8ClampedArray(bufferSize);\n    }\n    get(x, y) {\n        return this.data[y * this.width + x];\n    }\n    set(x, y, value) {\n        this.data[y * this.width + x] = value;\n    }\n}\nfunction binarize(data, width, height, returnInverted, greyscaleWeights, canOverwriteImage) {\n    const pixelCount = width * height;\n    if (data.length !== pixelCount * 4) {\n        throw new Error(\"Malformed data passed to binarizer.\");\n    }\n    // assign the greyscale and binary image within the rgba buffer as the rgba image will not be needed after conversion\n    let bufferOffset = 0;\n    // Convert image to greyscale\n    let greyscaleBuffer;\n    if (canOverwriteImage) {\n        greyscaleBuffer = new Uint8ClampedArray(data.buffer, bufferOffset, pixelCount);\n        bufferOffset += pixelCount;\n    }\n    const greyscalePixels = new Matrix(width, height, greyscaleBuffer);\n    if (greyscaleWeights.useIntegerApproximation) {\n        for (let y = 0; y < height; y++) {\n            for (let x = 0; x < width; x++) {\n                const pixelPosition = (y * width + x) * 4;\n                const r = data[pixelPosition];\n                const g = data[pixelPosition + 1];\n                const b = data[pixelPosition + 2];\n                greyscalePixels.set(x, y, \n                // tslint:disable-next-line no-bitwise\n                (greyscaleWeights.red * r + greyscaleWeights.green * g + greyscaleWeights.blue * b + 128) >> 8);\n            }\n        }\n    }\n    else {\n        for (let y = 0; y < height; y++) {\n            for (let x = 0; x < width; x++) {\n                const pixelPosition = (y * width + x) * 4;\n                const r = data[pixelPosition];\n                const g = data[pixelPosition + 1];\n                const b = data[pixelPosition + 2];\n                greyscalePixels.set(x, y, greyscaleWeights.red * r + greyscaleWeights.green * g + greyscaleWeights.blue * b);\n            }\n        }\n    }\n    const horizontalRegionCount = Math.ceil(width / REGION_SIZE);\n    const verticalRegionCount = Math.ceil(height / REGION_SIZE);\n    const blackPointsCount = horizontalRegionCount * verticalRegionCount;\n    let blackPointsBuffer;\n    if (canOverwriteImage) {\n        blackPointsBuffer = new Uint8ClampedArray(data.buffer, bufferOffset, blackPointsCount);\n        bufferOffset += blackPointsCount;\n    }\n    const blackPoints = new Matrix(horizontalRegionCount, verticalRegionCount, blackPointsBuffer);\n    for (let verticalRegion = 0; verticalRegion < verticalRegionCount; verticalRegion++) {\n        for (let hortizontalRegion = 0; hortizontalRegion < horizontalRegionCount; hortizontalRegion++) {\n            let min = Infinity;\n            let max = 0;\n            for (let y = 0; y < REGION_SIZE; y++) {\n                for (let x = 0; x < REGION_SIZE; x++) {\n                    const pixelLumosity = greyscalePixels.get(hortizontalRegion * REGION_SIZE + x, verticalRegion * REGION_SIZE + y);\n                    min = Math.min(min, pixelLumosity);\n                    max = Math.max(max, pixelLumosity);\n                }\n            }\n            // We could also compute the real average of all pixels but following the assumption that the qr code consists\n            // of bright and dark pixels and essentially not much in between, by (min + max)/2 we make the cut really between\n            // those two classes. If using the average over all pixel in a block of mostly bright pixels and few dark pixels,\n            // the avg would tend to the bright side and darker bright pixels could be interpreted as dark.\n            let average = (min + max) / 2;\n            // Small bias towards black by moving the threshold up. We do this, as in the finder patterns white holes tend\n            // to appear which makes them undetectable.\n            const blackBias = 1.1;\n            average = Math.min(255, average * blackBias);\n            if (max - min <= MIN_DYNAMIC_RANGE) {\n                // If variation within the block is low, assume this is a block with only light or only\n                // dark pixels. In that case we do not want to use the average, as it would divide this\n                // low contrast area into black and white pixels, essentially creating data out of noise.\n                //\n                // Default the blackpoint for these blocks to be half the min - effectively white them out\n                average = min / 2;\n                if (verticalRegion > 0 && hortizontalRegion > 0) {\n                    // Correct the \"white background\" assumption for blocks that have neighbors by comparing\n                    // the pixels in this block to the previously calculated black points. This is based on\n                    // the fact that dark barcode symbology is always surrounded by some amount of light\n                    // background for which reasonable black point estimates were made. The bp estimated at\n                    // the boundaries is used for the interior.\n                    // The (min < bp) is arbitrary but works better than other heuristics that were tried.\n                    const averageNeighborBlackPoint = (blackPoints.get(hortizontalRegion, verticalRegion - 1) +\n                        (2 * blackPoints.get(hortizontalRegion - 1, verticalRegion)) +\n                        blackPoints.get(hortizontalRegion - 1, verticalRegion - 1)) / 4;\n                    if (min < averageNeighborBlackPoint) {\n                        average = averageNeighborBlackPoint; // no need to apply black bias as already applied to neighbors\n                    }\n                }\n            }\n            blackPoints.set(hortizontalRegion, verticalRegion, average);\n        }\n    }\n    let binarized;\n    if (canOverwriteImage) {\n        const binarizedBuffer = new Uint8ClampedArray(data.buffer, bufferOffset, pixelCount);\n        bufferOffset += pixelCount;\n        binarized = new BitMatrix(binarizedBuffer, width);\n    }\n    else {\n        binarized = BitMatrix.createEmpty(width, height);\n    }\n    let inverted = null;\n    if (returnInverted) {\n        if (canOverwriteImage) {\n            const invertedBuffer = new Uint8ClampedArray(data.buffer, bufferOffset, pixelCount);\n            inverted = new BitMatrix(invertedBuffer, width);\n        }\n        else {\n            inverted = BitMatrix.createEmpty(width, height);\n        }\n    }\n    for (let verticalRegion = 0; verticalRegion < verticalRegionCount; verticalRegion++) {\n        for (let hortizontalRegion = 0; hortizontalRegion < horizontalRegionCount; hortizontalRegion++) {\n            const left = numBetween(hortizontalRegion, 2, horizontalRegionCount - 3);\n            const top = numBetween(verticalRegion, 2, verticalRegionCount - 3);\n            let sum = 0;\n            for (let xRegion = -2; xRegion <= 2; xRegion++) {\n                for (let yRegion = -2; yRegion <= 2; yRegion++) {\n                    sum += blackPoints.get(left + xRegion, top + yRegion);\n                }\n            }\n            const threshold = sum / 25;\n            for (let xRegion = 0; xRegion < REGION_SIZE; xRegion++) {\n                for (let yRegion = 0; yRegion < REGION_SIZE; yRegion++) {\n                    const x = hortizontalRegion * REGION_SIZE + xRegion;\n                    const y = verticalRegion * REGION_SIZE + yRegion;\n                    const lum = greyscalePixels.get(x, y);\n                    binarized.set(x, y, lum <= threshold);\n                    if (returnInverted) {\n                        inverted.set(x, y, !(lum <= threshold));\n                    }\n                }\n            }\n        }\n    }\n    if (returnInverted) {\n        return { binarized, inverted };\n    }\n    return { binarized };\n}\n\n// tslint:disable:no-bitwise\nclass BitStream {\n    constructor(bytes) {\n        this.byteOffset = 0;\n        this.bitOffset = 0;\n        this.bytes = bytes;\n    }\n    readBits(numBits) {\n        if (numBits < 1 || numBits > 32 || numBits > this.available()) {\n            throw new Error(\"Cannot read \" + numBits.toString() + \" bits\");\n        }\n        let result = 0;\n        // First, read remainder from current byte\n        if (this.bitOffset > 0) {\n            const bitsLeft = 8 - this.bitOffset;\n            const toRead = numBits < bitsLeft ? numBits : bitsLeft;\n            const bitsToNotRead = bitsLeft - toRead;\n            const mask = (0xFF >> (8 - toRead)) << bitsToNotRead;\n            result = (this.bytes[this.byteOffset] & mask) >> bitsToNotRead;\n            numBits -= toRead;\n            this.bitOffset += toRead;\n            if (this.bitOffset === 8) {\n                this.bitOffset = 0;\n                this.byteOffset++;\n            }\n        }\n        // Next read whole bytes\n        if (numBits > 0) {\n            while (numBits >= 8) {\n                result = (result << 8) | (this.bytes[this.byteOffset] & 0xFF);\n                this.byteOffset++;\n                numBits -= 8;\n            }\n            // Finally read a partial byte\n            if (numBits > 0) {\n                const bitsToNotRead = 8 - numBits;\n                const mask = (0xFF >> bitsToNotRead) << bitsToNotRead;\n                result = (result << numBits) | ((this.bytes[this.byteOffset] & mask) >> bitsToNotRead);\n                this.bitOffset += numBits;\n            }\n        }\n        return result;\n    }\n    available() {\n        return 8 * (this.bytes.length - this.byteOffset) - this.bitOffset;\n    }\n}\n\n// tslint:disable:no-bitwise\nvar Mode;\n(function (Mode) {\n    Mode[\"Numeric\"] = \"numeric\";\n    Mode[\"Alphanumeric\"] = \"alphanumeric\";\n    Mode[\"Byte\"] = \"byte\";\n    Mode[\"Kanji\"] = \"kanji\";\n    Mode[\"ECI\"] = \"eci\";\n})(Mode || (Mode = {}));\nvar ModeByte;\n(function (ModeByte) {\n    ModeByte[ModeByte[\"Terminator\"] = 0] = \"Terminator\";\n    ModeByte[ModeByte[\"Numeric\"] = 1] = \"Numeric\";\n    ModeByte[ModeByte[\"Alphanumeric\"] = 2] = \"Alphanumeric\";\n    ModeByte[ModeByte[\"Byte\"] = 4] = \"Byte\";\n    ModeByte[ModeByte[\"Kanji\"] = 8] = \"Kanji\";\n    ModeByte[ModeByte[\"ECI\"] = 7] = \"ECI\";\n    // StructuredAppend = 0x3,\n    // FNC1FirstPosition = 0x5,\n    // FNC1SecondPosition = 0x9,\n})(ModeByte || (ModeByte = {}));\nfunction decodeNumeric(stream, size) {\n    const bytes = [];\n    let text = \"\";\n    const characterCountSize = [10, 12, 14][size];\n    let length = stream.readBits(characterCountSize);\n    // Read digits in groups of 3\n    while (length >= 3) {\n        const num = stream.readBits(10);\n        if (num >= 1000) {\n            throw new Error(\"Invalid numeric value above 999\");\n        }\n        const a = Math.floor(num / 100);\n        const b = Math.floor(num / 10) % 10;\n        const c = num % 10;\n        bytes.push(48 + a, 48 + b, 48 + c);\n        text += a.toString() + b.toString() + c.toString();\n        length -= 3;\n    }\n    // If the number of digits aren't a multiple of 3, the remaining digits are special cased.\n    if (length === 2) {\n        const num = stream.readBits(7);\n        if (num >= 100) {\n            throw new Error(\"Invalid numeric value above 99\");\n        }\n        const a = Math.floor(num / 10);\n        const b = num % 10;\n        bytes.push(48 + a, 48 + b);\n        text += a.toString() + b.toString();\n    }\n    else if (length === 1) {\n        const num = stream.readBits(4);\n        if (num >= 10) {\n            throw new Error(\"Invalid numeric value above 9\");\n        }\n        bytes.push(48 + num);\n        text += num.toString();\n    }\n    return { bytes, text };\n}\nconst AlphanumericCharacterCodes = [\n    \"0\", \"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\",\n    \"9\", \"A\", \"B\", \"C\", \"D\", \"E\", \"F\", \"G\", \"H\",\n    \"I\", \"J\", \"K\", \"L\", \"M\", \"N\", \"O\", \"P\", \"Q\",\n    \"R\", \"S\", \"T\", \"U\", \"V\", \"W\", \"X\", \"Y\", \"Z\",\n    \" \", \"$\", \"%\", \"*\", \"+\", \"-\", \".\", \"/\", \":\",\n];\nfunction decodeAlphanumeric(stream, size) {\n    const bytes = [];\n    let text = \"\";\n    const characterCountSize = [9, 11, 13][size];\n    let length = stream.readBits(characterCountSize);\n    while (length >= 2) {\n        const v = stream.readBits(11);\n        const a = Math.floor(v / 45);\n        const b = v % 45;\n        bytes.push(AlphanumericCharacterCodes[a].charCodeAt(0), AlphanumericCharacterCodes[b].charCodeAt(0));\n        text += AlphanumericCharacterCodes[a] + AlphanumericCharacterCodes[b];\n        length -= 2;\n    }\n    if (length === 1) {\n        const a = stream.readBits(6);\n        bytes.push(AlphanumericCharacterCodes[a].charCodeAt(0));\n        text += AlphanumericCharacterCodes[a];\n    }\n    return { bytes, text };\n}\nfunction decodeByte(stream, size) {\n    const bytes = [];\n    let text = \"\";\n    const characterCountSize = [8, 16, 16][size];\n    const length = stream.readBits(characterCountSize);\n    for (let i = 0; i < length; i++) {\n        const b = stream.readBits(8);\n        bytes.push(b);\n    }\n    try {\n        text += decodeURIComponent(bytes.map(b => `%${(\"0\" + b.toString(16)).substr(-2)}`).join(\"\"));\n    }\n    catch (_a) {\n        // failed to decode\n    }\n    return { bytes, text };\n}\nfunction decodeKanji(stream, size) {\n    const bytes = [];\n    const characterCountSize = [8, 10, 12][size];\n    const length = stream.readBits(characterCountSize);\n    for (let i = 0; i < length; i++) {\n        const k = stream.readBits(13);\n        let c = (Math.floor(k / 0xC0) << 8) | (k % 0xC0);\n        if (c < 0x1F00) {\n            c += 0x8140;\n        }\n        else {\n            c += 0xC140;\n        }\n        bytes.push(c >> 8, c & 0xFF);\n    }\n    const text = new TextDecoder(\"shift-jis\").decode(Uint8Array.from(bytes));\n    return { bytes, text };\n}\nfunction decode(data, version) {\n    const stream = new BitStream(data);\n    // There are 3 'sizes' based on the version. 1-9 is small (0), 10-26 is medium (1) and 27-40 is large (2).\n    const size = version <= 9 ? 0 : version <= 26 ? 1 : 2;\n    const result = {\n        text: \"\",\n        bytes: [],\n        chunks: [],\n    };\n    while (stream.available() >= 4) {\n        const mode = stream.readBits(4);\n        if (mode === ModeByte.Terminator) {\n            return result;\n        }\n        else if (mode === ModeByte.ECI) {\n            if (stream.readBits(1) === 0) {\n                result.chunks.push({\n                    type: Mode.ECI,\n                    assignmentNumber: stream.readBits(7),\n                });\n            }\n            else if (stream.readBits(1) === 0) {\n                result.chunks.push({\n                    type: Mode.ECI,\n                    assignmentNumber: stream.readBits(14),\n                });\n            }\n            else if (stream.readBits(1) === 0) {\n                result.chunks.push({\n                    type: Mode.ECI,\n                    assignmentNumber: stream.readBits(21),\n                });\n            }\n            else {\n                // ECI data seems corrupted\n                result.chunks.push({\n                    type: Mode.ECI,\n                    assignmentNumber: -1,\n                });\n            }\n        }\n        else if (mode === ModeByte.Numeric) {\n            const numericResult = decodeNumeric(stream, size);\n            result.text += numericResult.text;\n            result.bytes.push(...numericResult.bytes);\n            result.chunks.push({\n                type: Mode.Numeric,\n                text: numericResult.text,\n            });\n        }\n        else if (mode === ModeByte.Alphanumeric) {\n            const alphanumericResult = decodeAlphanumeric(stream, size);\n            result.text += alphanumericResult.text;\n            result.bytes.push(...alphanumericResult.bytes);\n            result.chunks.push({\n                type: Mode.Alphanumeric,\n                text: alphanumericResult.text,\n            });\n        }\n        else if (mode === ModeByte.Byte) {\n            const byteResult = decodeByte(stream, size);\n            result.text += byteResult.text;\n            result.bytes.push(...byteResult.bytes);\n            result.chunks.push({\n                type: Mode.Byte,\n                bytes: byteResult.bytes,\n                text: byteResult.text,\n            });\n        }\n        else if (mode === ModeByte.Kanji) {\n            const kanjiResult = decodeKanji(stream, size);\n            result.text += kanjiResult.text;\n            result.bytes.push(...kanjiResult.bytes);\n            result.chunks.push({\n                type: Mode.Kanji,\n                bytes: kanjiResult.bytes,\n                text: kanjiResult.text,\n            });\n        }\n    }\n    // If there is no data left, or the remaining bits are all 0, then that counts as a termination marker\n    if (stream.available() === 0 || stream.readBits(stream.available()) === 0) {\n        return result;\n    }\n}\n\nclass GenericGFPoly {\n    constructor(field, coefficients) {\n        if (coefficients.length === 0) {\n            throw new Error(\"No coefficients.\");\n        }\n        this.field = field;\n        const coefficientsLength = coefficients.length;\n        if (coefficientsLength > 1 && coefficients[0] === 0) {\n            // Leading term must be non-zero for anything except the constant polynomial \"0\"\n            let firstNonZero = 1;\n            while (firstNonZero < coefficientsLength && coefficients[firstNonZero] === 0) {\n                firstNonZero++;\n            }\n            if (firstNonZero === coefficientsLength) {\n                this.coefficients = field.zero.coefficients;\n            }\n            else {\n                this.coefficients = new Uint8ClampedArray(coefficientsLength - firstNonZero);\n                for (let i = 0; i < this.coefficients.length; i++) {\n                    this.coefficients[i] = coefficients[firstNonZero + i];\n                }\n            }\n        }\n        else {\n            this.coefficients = coefficients;\n        }\n    }\n    degree() {\n        return this.coefficients.length - 1;\n    }\n    isZero() {\n        return this.coefficients[0] === 0;\n    }\n    getCoefficient(degree) {\n        return this.coefficients[this.coefficients.length - 1 - degree];\n    }\n    addOrSubtract(other) {\n        if (this.isZero()) {\n            return other;\n        }\n        if (other.isZero()) {\n            return this;\n        }\n        let smallerCoefficients = this.coefficients;\n        let largerCoefficients = other.coefficients;\n        if (smallerCoefficients.length > largerCoefficients.length) {\n            [smallerCoefficients, largerCoefficients] = [largerCoefficients, smallerCoefficients];\n        }\n        const sumDiff = new Uint8ClampedArray(largerCoefficients.length);\n        const lengthDiff = largerCoefficients.length - smallerCoefficients.length;\n        for (let i = 0; i < lengthDiff; i++) {\n            sumDiff[i] = largerCoefficients[i];\n        }\n        for (let i = lengthDiff; i < largerCoefficients.length; i++) {\n            sumDiff[i] = addOrSubtractGF(smallerCoefficients[i - lengthDiff], largerCoefficients[i]);\n        }\n        return new GenericGFPoly(this.field, sumDiff);\n    }\n    multiply(scalar) {\n        if (scalar === 0) {\n            return this.field.zero;\n        }\n        if (scalar === 1) {\n            return this;\n        }\n        const size = this.coefficients.length;\n        const product = new Uint8ClampedArray(size);\n        for (let i = 0; i < size; i++) {\n            product[i] = this.field.multiply(this.coefficients[i], scalar);\n        }\n        return new GenericGFPoly(this.field, product);\n    }\n    multiplyPoly(other) {\n        if (this.isZero() || other.isZero()) {\n            return this.field.zero;\n        }\n        const aCoefficients = this.coefficients;\n        const aLength = aCoefficients.length;\n        const bCoefficients = other.coefficients;\n        const bLength = bCoefficients.length;\n        const product = new Uint8ClampedArray(aLength + bLength - 1);\n        for (let i = 0; i < aLength; i++) {\n            const aCoeff = aCoefficients[i];\n            for (let j = 0; j < bLength; j++) {\n                product[i + j] = addOrSubtractGF(product[i + j], this.field.multiply(aCoeff, bCoefficients[j]));\n            }\n        }\n        return new GenericGFPoly(this.field, product);\n    }\n    multiplyByMonomial(degree, coefficient) {\n        if (degree < 0) {\n            throw new Error(\"Invalid degree less than 0\");\n        }\n        if (coefficient === 0) {\n            return this.field.zero;\n        }\n        const size = this.coefficients.length;\n        const product = new Uint8ClampedArray(size + degree);\n        for (let i = 0; i < size; i++) {\n            product[i] = this.field.multiply(this.coefficients[i], coefficient);\n        }\n        return new GenericGFPoly(this.field, product);\n    }\n    evaluateAt(a) {\n        let result = 0;\n        if (a === 0) {\n            // Just return the x^0 coefficient\n            return this.getCoefficient(0);\n        }\n        const size = this.coefficients.length;\n        if (a === 1) {\n            // Just the sum of the coefficients\n            this.coefficients.forEach((coefficient) => {\n                result = addOrSubtractGF(result, coefficient);\n            });\n            return result;\n        }\n        result = this.coefficients[0];\n        for (let i = 1; i < size; i++) {\n            result = addOrSubtractGF(this.field.multiply(a, result), this.coefficients[i]);\n        }\n        return result;\n    }\n}\n\nfunction addOrSubtractGF(a, b) {\n    return a ^ b; // tslint:disable-line:no-bitwise\n}\nclass GenericGF {\n    constructor(primitive, size, genBase) {\n        this.primitive = primitive;\n        this.size = size;\n        this.generatorBase = genBase;\n        this.expTable = new Array(this.size);\n        this.logTable = new Array(this.size);\n        let x = 1;\n        for (let i = 0; i < this.size; i++) {\n            this.expTable[i] = x;\n            x = x * 2;\n            if (x >= this.size) {\n                x = (x ^ this.primitive) & (this.size - 1); // tslint:disable-line:no-bitwise\n            }\n        }\n        for (let i = 0; i < this.size - 1; i++) {\n            this.logTable[this.expTable[i]] = i;\n        }\n        this.zero = new GenericGFPoly(this, Uint8ClampedArray.from([0]));\n        this.one = new GenericGFPoly(this, Uint8ClampedArray.from([1]));\n    }\n    multiply(a, b) {\n        if (a === 0 || b === 0) {\n            return 0;\n        }\n        return this.expTable[(this.logTable[a] + this.logTable[b]) % (this.size - 1)];\n    }\n    inverse(a) {\n        if (a === 0) {\n            throw new Error(\"Can't invert 0\");\n        }\n        return this.expTable[this.size - this.logTable[a] - 1];\n    }\n    buildMonomial(degree, coefficient) {\n        if (degree < 0) {\n            throw new Error(\"Invalid monomial degree less than 0\");\n        }\n        if (coefficient === 0) {\n            return this.zero;\n        }\n        const coefficients = new Uint8ClampedArray(degree + 1);\n        coefficients[0] = coefficient;\n        return new GenericGFPoly(this, coefficients);\n    }\n    log(a) {\n        if (a === 0) {\n            throw new Error(\"Can't take log(0)\");\n        }\n        return this.logTable[a];\n    }\n    exp(a) {\n        return this.expTable[a];\n    }\n}\n\nfunction runEuclideanAlgorithm(field, a, b, R) {\n    // Assume a's degree is >= b's\n    if (a.degree() < b.degree()) {\n        [a, b] = [b, a];\n    }\n    let rLast = a;\n    let r = b;\n    let tLast = field.zero;\n    let t = field.one;\n    // Run Euclidean algorithm until r's degree is less than R/2\n    while (r.degree() >= R / 2) {\n        const rLastLast = rLast;\n        const tLastLast = tLast;\n        rLast = r;\n        tLast = t;\n        // Divide rLastLast by rLast, with quotient in q and remainder in r\n        if (rLast.isZero()) {\n            // Euclidean algorithm already terminated?\n            return null;\n        }\n        r = rLastLast;\n        let q = field.zero;\n        const denominatorLeadingTerm = rLast.getCoefficient(rLast.degree());\n        const dltInverse = field.inverse(denominatorLeadingTerm);\n        while (r.degree() >= rLast.degree() && !r.isZero()) {\n            const degreeDiff = r.degree() - rLast.degree();\n            const scale = field.multiply(r.getCoefficient(r.degree()), dltInverse);\n            q = q.addOrSubtract(field.buildMonomial(degreeDiff, scale));\n            r = r.addOrSubtract(rLast.multiplyByMonomial(degreeDiff, scale));\n        }\n        t = q.multiplyPoly(tLast).addOrSubtract(tLastLast);\n        if (r.degree() >= rLast.degree()) {\n            return null;\n        }\n    }\n    const sigmaTildeAtZero = t.getCoefficient(0);\n    if (sigmaTildeAtZero === 0) {\n        return null;\n    }\n    const inverse = field.inverse(sigmaTildeAtZero);\n    return [t.multiply(inverse), r.multiply(inverse)];\n}\nfunction findErrorLocations(field, errorLocator) {\n    // This is a direct application of Chien's search\n    const numErrors = errorLocator.degree();\n    if (numErrors === 1) {\n        return [errorLocator.getCoefficient(1)];\n    }\n    const result = new Array(numErrors);\n    let errorCount = 0;\n    for (let i = 1; i < field.size && errorCount < numErrors; i++) {\n        if (errorLocator.evaluateAt(i) === 0) {\n            result[errorCount] = field.inverse(i);\n            errorCount++;\n        }\n    }\n    if (errorCount !== numErrors) {\n        return null;\n    }\n    return result;\n}\nfunction findErrorMagnitudes(field, errorEvaluator, errorLocations) {\n    // This is directly applying Forney's Formula\n    const s = errorLocations.length;\n    const result = new Array(s);\n    for (let i = 0; i < s; i++) {\n        const xiInverse = field.inverse(errorLocations[i]);\n        let denominator = 1;\n        for (let j = 0; j < s; j++) {\n            if (i !== j) {\n                denominator = field.multiply(denominator, addOrSubtractGF(1, field.multiply(errorLocations[j], xiInverse)));\n            }\n        }\n        result[i] = field.multiply(errorEvaluator.evaluateAt(xiInverse), field.inverse(denominator));\n        if (field.generatorBase !== 0) {\n            result[i] = field.multiply(result[i], xiInverse);\n        }\n    }\n    return result;\n}\nfunction decode$1(bytes, twoS) {\n    const outputBytes = new Uint8ClampedArray(bytes.length);\n    outputBytes.set(bytes);\n    const field = new GenericGF(0x011D, 256, 0); // x^8 + x^4 + x^3 + x^2 + 1\n    const poly = new GenericGFPoly(field, outputBytes);\n    const syndromeCoefficients = new Uint8ClampedArray(twoS);\n    let error = false;\n    for (let s = 0; s < twoS; s++) {\n        const evaluation = poly.evaluateAt(field.exp(s + field.generatorBase));\n        syndromeCoefficients[syndromeCoefficients.length - 1 - s] = evaluation;\n        if (evaluation !== 0) {\n            error = true;\n        }\n    }\n    if (!error) {\n        return outputBytes;\n    }\n    const syndrome = new GenericGFPoly(field, syndromeCoefficients);\n    const sigmaOmega = runEuclideanAlgorithm(field, field.buildMonomial(twoS, 1), syndrome, twoS);\n    if (sigmaOmega === null) {\n        return null;\n    }\n    const errorLocations = findErrorLocations(field, sigmaOmega[0]);\n    if (errorLocations == null) {\n        return null;\n    }\n    const errorMagnitudes = findErrorMagnitudes(field, sigmaOmega[1], errorLocations);\n    for (let i = 0; i < errorLocations.length; i++) {\n        const position = outputBytes.length - 1 - field.log(errorLocations[i]);\n        if (position < 0) {\n            return null;\n        }\n        outputBytes[position] = addOrSubtractGF(outputBytes[position], errorMagnitudes[i]);\n    }\n    return outputBytes;\n}\n\nconst VERSIONS = [\n    {\n        infoBits: null,\n        versionNumber: 1,\n        alignmentPatternCenters: [],\n        errorCorrectionLevels: [\n            {\n                ecCodewordsPerBlock: 7,\n                ecBlocks: [{ numBlocks: 1, dataCodewordsPerBlock: 19 }],\n            },\n            {\n                ecCodewordsPerBlock: 10,\n                ecBlocks: [{ numBlocks: 1, dataCodewordsPerBlock: 16 }],\n            },\n            {\n                ecCodewordsPerBlock: 13,\n                ecBlocks: [{ numBlocks: 1, dataCodewordsPerBlock: 13 }],\n            },\n            {\n                ecCodewordsPerBlock: 17,\n                ecBlocks: [{ numBlocks: 1, dataCodewordsPerBlock: 9 }],\n            },\n        ],\n    },\n    {\n        infoBits: null,\n        versionNumber: 2,\n        alignmentPatternCenters: [6, 18],\n        errorCorrectionLevels: [\n            {\n                ecCodewordsPerBlock: 10,\n                ecBlocks: [{ numBlocks: 1, dataCodewordsPerBlock: 34 }],\n            },\n            {\n                ecCodewordsPerBlock: 16,\n                ecBlocks: [{ numBlocks: 1, dataCodewordsPerBlock: 28 }],\n            },\n            {\n                ecCodewordsPerBlock: 22,\n                ecBlocks: [{ numBlocks: 1, dataCodewordsPerBlock: 22 }],\n            },\n            {\n                ecCodewordsPerBlock: 28,\n                ecBlocks: [{ numBlocks: 1, dataCodewordsPerBlock: 16 }],\n            },\n        ],\n    },\n    {\n        infoBits: null,\n        versionNumber: 3,\n        alignmentPatternCenters: [6, 22],\n        errorCorrectionLevels: [\n            {\n                ecCodewordsPerBlock: 15,\n                ecBlocks: [{ numBlocks: 1, dataCodewordsPerBlock: 55 }],\n            },\n            {\n                ecCodewordsPerBlock: 26,\n                ecBlocks: [{ numBlocks: 1, dataCodewordsPerBlock: 44 }],\n            },\n            {\n                ecCodewordsPerBlock: 18,\n                ecBlocks: [{ numBlocks: 2, dataCodewordsPerBlock: 17 }],\n            },\n            {\n                ecCodewordsPerBlock: 22,\n                ecBlocks: [{ numBlocks: 2, dataCodewordsPerBlock: 13 }],\n            },\n        ],\n    },\n    {\n        infoBits: null,\n        versionNumber: 4,\n        alignmentPatternCenters: [6, 26],\n        errorCorrectionLevels: [\n            {\n                ecCodewordsPerBlock: 20,\n                ecBlocks: [{ numBlocks: 1, dataCodewordsPerBlock: 80 }],\n            },\n            {\n                ecCodewordsPerBlock: 18,\n                ecBlocks: [{ numBlocks: 2, dataCodewordsPerBlock: 32 }],\n            },\n            {\n                ecCodewordsPerBlock: 26,\n                ecBlocks: [{ numBlocks: 2, dataCodewordsPerBlock: 24 }],\n            },\n            {\n                ecCodewordsPerBlock: 16,\n                ecBlocks: [{ numBlocks: 4, dataCodewordsPerBlock: 9 }],\n            },\n        ],\n    },\n    {\n        infoBits: null,\n        versionNumber: 5,\n        alignmentPatternCenters: [6, 30],\n        errorCorrectionLevels: [\n            {\n                ecCodewordsPerBlock: 26,\n                ecBlocks: [{ numBlocks: 1, dataCodewordsPerBlock: 108 }],\n            },\n            {\n                ecCodewordsPerBlock: 24,\n                ecBlocks: [{ numBlocks: 2, dataCodewordsPerBlock: 43 }],\n            },\n            {\n                ecCodewordsPerBlock: 18,\n                ecBlocks: [\n                    { numBlocks: 2, dataCodewordsPerBlock: 15 },\n                    { numBlocks: 2, dataCodewordsPerBlock: 16 },\n                ],\n            },\n            {\n                ecCodewordsPerBlock: 22,\n                ecBlocks: [\n                    { numBlocks: 2, dataCodewordsPerBlock: 11 },\n                    { numBlocks: 2, dataCodewordsPerBlock: 12 },\n                ],\n            },\n        ],\n    },\n    {\n        infoBits: null,\n        versionNumber: 6,\n        alignmentPatternCenters: [6, 34],\n        errorCorrectionLevels: [\n            {\n                ecCodewordsPerBlock: 18,\n                ecBlocks: [{ numBlocks: 2, dataCodewordsPerBlock: 68 }],\n            },\n            {\n                ecCodewordsPerBlock: 16,\n                ecBlocks: [{ numBlocks: 4, dataCodewordsPerBlock: 27 }],\n            },\n            {\n                ecCodewordsPerBlock: 24,\n                ecBlocks: [{ numBlocks: 4, dataCodewordsPerBlock: 19 }],\n            },\n            {\n                ecCodewordsPerBlock: 28,\n                ecBlocks: [{ numBlocks: 4, dataCodewordsPerBlock: 15 }],\n            },\n        ],\n    },\n    {\n        infoBits: 0x07C94,\n        versionNumber: 7,\n        alignmentPatternCenters: [6, 22, 38],\n        errorCorrectionLevels: [\n            {\n                ecCodewordsPerBlock: 20,\n                ecBlocks: [{ numBlocks: 2, dataCodewordsPerBlock: 78 }],\n            },\n            {\n                ecCodewordsPerBlock: 18,\n                ecBlocks: [{ numBlocks: 4, dataCodewordsPerBlock: 31 }],\n            },\n            {\n                ecCodewordsPerBlock: 18,\n                ecBlocks: [\n                    { numBlocks: 2, dataCodewordsPerBlock: 14 },\n                    { numBlocks: 4, dataCodewordsPerBlock: 15 },\n                ],\n            },\n            {\n                ecCodewordsPerBlock: 26,\n                ecBlocks: [\n                    { numBlocks: 4, dataCodewordsPerBlock: 13 },\n                    { numBlocks: 1, dataCodewordsPerBlock: 14 },\n                ],\n            },\n        ],\n    },\n    {\n        infoBits: 0x085BC,\n        versionNumber: 8,\n        alignmentPatternCenters: [6, 24, 42],\n        errorCorrectionLevels: [\n            {\n                ecCodewordsPerBlock: 24,\n                ecBlocks: [{ numBlocks: 2, dataCodewordsPerBlock: 97 }],\n            },\n            {\n                ecCodewordsPerBlock: 22,\n                ecBlocks: [\n                    { numBlocks: 2, dataCodewordsPerBlock: 38 },\n                    { numBlocks: 2, dataCodewordsPerBlock: 39 },\n                ],\n            },\n            {\n                ecCodewordsPerBlock: 22,\n                ecBlocks: [\n                    { numBlocks: 4, dataCodewordsPerBlock: 18 },\n                    { numBlocks: 2, dataCodewordsPerBlock: 19 },\n                ],\n            },\n            {\n                ecCodewordsPerBlock: 26,\n                ecBlocks: [\n                    { numBlocks: 4, dataCodewordsPerBlock: 14 },\n                    { numBlocks: 2, dataCodewordsPerBlock: 15 },\n                ],\n            },\n        ],\n    },\n    {\n        infoBits: 0x09A99,\n        versionNumber: 9,\n        alignmentPatternCenters: [6, 26, 46],\n        errorCorrectionLevels: [\n            {\n                ecCodewordsPerBlock: 30,\n                ecBlocks: [{ numBlocks: 2, dataCodewordsPerBlock: 116 }],\n            },\n            {\n                ecCodewordsPerBlock: 22,\n                ecBlocks: [\n                    { numBlocks: 3, dataCodewordsPerBlock: 36 },\n                    { numBlocks: 2, dataCodewordsPerBlock: 37 },\n                ],\n            },\n            {\n                ecCodewordsPerBlock: 20,\n                ecBlocks: [\n                    { numBlocks: 4, dataCodewordsPerBlock: 16 },\n                    { numBlocks: 4, dataCodewordsPerBlock: 17 },\n                ],\n            },\n            {\n                ecCodewordsPerBlock: 24,\n                ecBlocks: [\n                    { numBlocks: 4, dataCodewordsPerBlock: 12 },\n                    { numBlocks: 4, dataCodewordsPerBlock: 13 },\n                ],\n            },\n        ],\n    },\n    {\n        infoBits: 0x0A4D3,\n        versionNumber: 10,\n        alignmentPatternCenters: [6, 28, 50],\n        errorCorrectionLevels: [\n            {\n                ecCodewordsPerBlock: 18,\n                ecBlocks: [\n                    { numBlocks: 2, dataCodewordsPerBlock: 68 },\n                    { numBlocks: 2, dataCodewordsPerBlock: 69 },\n                ],\n            },\n            {\n                ecCodewordsPerBlock: 26,\n                ecBlocks: [\n                    { numBlocks: 4, dataCodewordsPerBlock: 43 },\n                    { numBlocks: 1, dataCodewordsPerBlock: 44 },\n                ],\n            },\n            {\n                ecCodewordsPerBlock: 24,\n                ecBlocks: [\n                    { numBlocks: 6, dataCodewordsPerBlock: 19 },\n                    { numBlocks: 2, dataCodewordsPerBlock: 20 },\n                ],\n            },\n            {\n                ecCodewordsPerBlock: 28,\n                ecBlocks: [\n                    { numBlocks: 6, dataCodewordsPerBlock: 15 },\n                    { numBlocks: 2, dataCodewordsPerBlock: 16 },\n                ],\n            },\n        ],\n    },\n    {\n        infoBits: 0x0BBF6,\n        versionNumber: 11,\n        alignmentPatternCenters: [6, 30, 54],\n        errorCorrectionLevels: [\n            {\n                ecCodewordsPerBlock: 20,\n                ecBlocks: [{ numBlocks: 4, dataCodewordsPerBlock: 81 }],\n            },\n            {\n                ecCodewordsPerBlock: 30,\n                ecBlocks: [\n                    { numBlocks: 1, dataCodewordsPerBlock: 50 },\n                    { numBlocks: 4, dataCodewordsPerBlock: 51 },\n                ],\n            },\n            {\n                ecCodewordsPerBlock: 28,\n                ecBlocks: [\n                    { numBlocks: 4, dataCodewordsPerBlock: 22 },\n                    { numBlocks: 4, dataCodewordsPerBlock: 23 },\n                ],\n            },\n            {\n                ecCodewordsPerBlock: 24,\n                ecBlocks: [\n                    { numBlocks: 3, dataCodewordsPerBlock: 12 },\n                    { numBlocks: 8, dataCodewordsPerBlock: 13 },\n                ],\n            },\n        ],\n    },\n    {\n        infoBits: 0x0C762,\n        versionNumber: 12,\n        alignmentPatternCenters: [6, 32, 58],\n        errorCorrectionLevels: [\n            {\n                ecCodewordsPerBlock: 24,\n                ecBlocks: [\n                    { numBlocks: 2, dataCodewordsPerBlock: 92 },\n                    { numBlocks: 2, dataCodewordsPerBlock: 93 },\n                ],\n            },\n            {\n                ecCodewordsPerBlock: 22,\n                ecBlocks: [\n                    { numBlocks: 6, dataCodewordsPerBlock: 36 },\n                    { numBlocks: 2, dataCodewordsPerBlock: 37 },\n                ],\n            },\n            {\n                ecCodewordsPerBlock: 26,\n                ecBlocks: [\n                    { numBlocks: 4, dataCodewordsPerBlock: 20 },\n                    { numBlocks: 6, dataCodewordsPerBlock: 21 },\n                ],\n            },\n            {\n                ecCodewordsPerBlock: 28,\n                ecBlocks: [\n                    { numBlocks: 7, dataCodewordsPerBlock: 14 },\n                    { numBlocks: 4, dataCodewordsPerBlock: 15 },\n                ],\n            },\n        ],\n    },\n    {\n        infoBits: 0x0D847,\n        versionNumber: 13,\n        alignmentPatternCenters: [6, 34, 62],\n        errorCorrectionLevels: [\n            {\n                ecCodewordsPerBlock: 26,\n                ecBlocks: [{ numBlocks: 4, dataCodewordsPerBlock: 107 }],\n            },\n            {\n                ecCodewordsPerBlock: 22,\n                ecBlocks: [\n                    { numBlocks: 8, dataCodewordsPerBlock: 37 },\n                    { numBlocks: 1, dataCodewordsPerBlock: 38 },\n                ],\n            },\n            {\n                ecCodewordsPerBlock: 24,\n                ecBlocks: [\n                    { numBlocks: 8, dataCodewordsPerBlock: 20 },\n                    { numBlocks: 4, dataCodewordsPerBlock: 21 },\n                ],\n            },\n            {\n                ecCodewordsPerBlock: 22,\n                ecBlocks: [\n                    { numBlocks: 12, dataCodewordsPerBlock: 11 },\n                    { numBlocks: 4, dataCodewordsPerBlock: 12 },\n                ],\n            },\n        ],\n    },\n    {\n        infoBits: 0x0E60D,\n        versionNumber: 14,\n        alignmentPatternCenters: [6, 26, 46, 66],\n        errorCorrectionLevels: [\n            {\n                ecCodewordsPerBlock: 30,\n                ecBlocks: [\n                    { numBlocks: 3, dataCodewordsPerBlock: 115 },\n                    { numBlocks: 1, dataCodewordsPerBlock: 116 },\n                ],\n            },\n            {\n                ecCodewordsPerBlock: 24,\n                ecBlocks: [\n                    { numBlocks: 4, dataCodewordsPerBlock: 40 },\n                    { numBlocks: 5, dataCodewordsPerBlock: 41 },\n                ],\n            },\n            {\n                ecCodewordsPerBlock: 20,\n                ecBlocks: [\n                    { numBlocks: 11, dataCodewordsPerBlock: 16 },\n                    { numBlocks: 5, dataCodewordsPerBlock: 17 },\n                ],\n            },\n            {\n                ecCodewordsPerBlock: 24,\n                ecBlocks: [\n                    { numBlocks: 11, dataCodewordsPerBlock: 12 },\n                    { numBlocks: 5, dataCodewordsPerBlock: 13 },\n                ],\n            },\n        ],\n    },\n    {\n        infoBits: 0x0F928,\n        versionNumber: 15,\n        alignmentPatternCenters: [6, 26, 48, 70],\n        errorCorrectionLevels: [\n            {\n                ecCodewordsPerBlock: 22,\n                ecBlocks: [\n                    { numBlocks: 5, dataCodewordsPerBlock: 87 },\n                    { numBlocks: 1, dataCodewordsPerBlock: 88 },\n                ],\n            },\n            {\n                ecCodewordsPerBlock: 24,\n                ecBlocks: [\n                    { numBlocks: 5, dataCodewordsPerBlock: 41 },\n                    { numBlocks: 5, dataCodewordsPerBlock: 42 },\n                ],\n            },\n            {\n                ecCodewordsPerBlock: 30,\n                ecBlocks: [\n                    { numBlocks: 5, dataCodewordsPerBlock: 24 },\n                    { numBlocks: 7, dataCodewordsPerBlock: 25 },\n                ],\n            },\n            {\n                ecCodewordsPerBlock: 24,\n                ecBlocks: [\n                    { numBlocks: 11, dataCodewordsPerBlock: 12 },\n                    { numBlocks: 7, dataCodewordsPerBlock: 13 },\n                ],\n            },\n        ],\n    },\n    {\n        infoBits: 0x10B78,\n        versionNumber: 16,\n        alignmentPatternCenters: [6, 26, 50, 74],\n        errorCorrectionLevels: [\n            {\n                ecCodewordsPerBlock: 24,\n                ecBlocks: [\n                    { numBlocks: 5, dataCodewordsPerBlock: 98 },\n                    { numBlocks: 1, dataCodewordsPerBlock: 99 },\n                ],\n            },\n            {\n                ecCodewordsPerBlock: 28,\n                ecBlocks: [\n                    { numBlocks: 7, dataCodewordsPerBlock: 45 },\n                    { numBlocks: 3, dataCodewordsPerBlock: 46 },\n                ],\n            },\n            {\n                ecCodewordsPerBlock: 24,\n                ecBlocks: [\n                    { numBlocks: 15, dataCodewordsPerBlock: 19 },\n                    { numBlocks: 2, dataCodewordsPerBlock: 20 },\n                ],\n            },\n            {\n                ecCodewordsPerBlock: 30,\n                ecBlocks: [\n                    { numBlocks: 3, dataCodewordsPerBlock: 15 },\n                    { numBlocks: 13, dataCodewordsPerBlock: 16 },\n                ],\n            },\n        ],\n    },\n    {\n        infoBits: 0x1145D,\n        versionNumber: 17,\n        alignmentPatternCenters: [6, 30, 54, 78],\n        errorCorrectionLevels: [\n            {\n                ecCodewordsPerBlock: 28,\n                ecBlocks: [\n                    { numBlocks: 1, dataCodewordsPerBlock: 107 },\n                    { numBlocks: 5, dataCodewordsPerBlock: 108 },\n                ],\n            },\n            {\n                ecCodewordsPerBlock: 28,\n                ecBlocks: [\n                    { numBlocks: 10, dataCodewordsPerBlock: 46 },\n                    { numBlocks: 1, dataCodewordsPerBlock: 47 },\n                ],\n            },\n            {\n                ecCodewordsPerBlock: 28,\n                ecBlocks: [\n                    { numBlocks: 1, dataCodewordsPerBlock: 22 },\n                    { numBlocks: 15, dataCodewordsPerBlock: 23 },\n                ],\n            },\n            {\n                ecCodewordsPerBlock: 28,\n                ecBlocks: [\n                    { numBlocks: 2, dataCodewordsPerBlock: 14 },\n                    { numBlocks: 17, dataCodewordsPerBlock: 15 },\n                ],\n            },\n        ],\n    },\n    {\n        infoBits: 0x12A17,\n        versionNumber: 18,\n        alignmentPatternCenters: [6, 30, 56, 82],\n        errorCorrectionLevels: [\n            {\n                ecCodewordsPerBlock: 30,\n                ecBlocks: [\n                    { numBlocks: 5, dataCodewordsPerBlock: 120 },\n                    { numBlocks: 1, dataCodewordsPerBlock: 121 },\n                ],\n            },\n            {\n                ecCodewordsPerBlock: 26,\n                ecBlocks: [\n                    { numBlocks: 9, dataCodewordsPerBlock: 43 },\n                    { numBlocks: 4, dataCodewordsPerBlock: 44 },\n                ],\n            },\n            {\n                ecCodewordsPerBlock: 28,\n                ecBlocks: [\n                    { numBlocks: 17, dataCodewordsPerBlock: 22 },\n                    { numBlocks: 1, dataCodewordsPerBlock: 23 },\n                ],\n            },\n            {\n                ecCodewordsPerBlock: 28,\n                ecBlocks: [\n                    { numBlocks: 2, dataCodewordsPerBlock: 14 },\n                    { numBlocks: 19, dataCodewordsPerBlock: 15 },\n                ],\n            },\n        ],\n    },\n    {\n        infoBits: 0x13532,\n        versionNumber: 19,\n        alignmentPatternCenters: [6, 30, 58, 86],\n        errorCorrectionLevels: [\n            {\n                ecCodewordsPerBlock: 28,\n                ecBlocks: [\n                    { numBlocks: 3, dataCodewordsPerBlock: 113 },\n                    { numBlocks: 4, dataCodewordsPerBlock: 114 },\n                ],\n            },\n            {\n                ecCodewordsPerBlock: 26,\n                ecBlocks: [\n                    { numBlocks: 3, dataCodewordsPerBlock: 44 },\n                    { numBlocks: 11, dataCodewordsPerBlock: 45 },\n                ],\n            },\n            {\n                ecCodewordsPerBlock: 26,\n                ecBlocks: [\n                    { numBlocks: 17, dataCodewordsPerBlock: 21 },\n                    { numBlocks: 4, dataCodewordsPerBlock: 22 },\n                ],\n            },\n            {\n                ecCodewordsPerBlock: 26,\n                ecBlocks: [\n                    { numBlocks: 9, dataCodewordsPerBlock: 13 },\n                    { numBlocks: 16, dataCodewordsPerBlock: 14 },\n                ],\n            },\n        ],\n    },\n    {\n        infoBits: 0x149A6,\n        versionNumber: 20,\n        alignmentPatternCenters: [6, 34, 62, 90],\n        errorCorrectionLevels: [\n            {\n                ecCodewordsPerBlock: 28,\n                ecBlocks: [\n                    { numBlocks: 3, dataCodewordsPerBlock: 107 },\n                    { numBlocks: 5, dataCodewordsPerBlock: 108 },\n                ],\n            },\n            {\n                ecCodewordsPerBlock: 26,\n                ecBlocks: [\n                    { numBlocks: 3, dataCodewordsPerBlock: 41 },\n                    { numBlocks: 13, dataCodewordsPerBlock: 42 },\n                ],\n            },\n            {\n                ecCodewordsPerBlock: 30,\n                ecBlocks: [\n                    { numBlocks: 15, dataCodewordsPerBlock: 24 },\n                    { numBlocks: 5, dataCodewordsPerBlock: 25 },\n                ],\n            },\n            {\n                ecCodewordsPerBlock: 28,\n                ecBlocks: [\n                    { numBlocks: 15, dataCodewordsPerBlock: 15 },\n                    { numBlocks: 10, dataCodewordsPerBlock: 16 },\n                ],\n            },\n        ],\n    },\n    {\n        infoBits: 0x15683,\n        versionNumber: 21,\n        alignmentPatternCenters: [6, 28, 50, 72, 94],\n        errorCorrectionLevels: [\n            {\n                ecCodewordsPerBlock: 28,\n                ecBlocks: [\n                    { numBlocks: 4, dataCodewordsPerBlock: 116 },\n                    { numBlocks: 4, dataCodewordsPerBlock: 117 },\n                ],\n            },\n            {\n                ecCodewordsPerBlock: 26,\n                ecBlocks: [{ numBlocks: 17, dataCodewordsPerBlock: 42 }],\n            },\n            {\n                ecCodewordsPerBlock: 28,\n                ecBlocks: [\n                    { numBlocks: 17, dataCodewordsPerBlock: 22 },\n                    { numBlocks: 6, dataCodewordsPerBlock: 23 },\n                ],\n            },\n            {\n                ecCodewordsPerBlock: 30,\n                ecBlocks: [\n                    { numBlocks: 19, dataCodewordsPerBlock: 16 },\n                    { numBlocks: 6, dataCodewordsPerBlock: 17 },\n                ],\n            },\n        ],\n    },\n    {\n        infoBits: 0x168C9,\n        versionNumber: 22,\n        alignmentPatternCenters: [6, 26, 50, 74, 98],\n        errorCorrectionLevels: [\n            {\n                ecCodewordsPerBlock: 28,\n                ecBlocks: [\n                    { numBlocks: 2, dataCodewordsPerBlock: 111 },\n                    { numBlocks: 7, dataCodewordsPerBlock: 112 },\n                ],\n            },\n            {\n                ecCodewordsPerBlock: 28,\n                ecBlocks: [{ numBlocks: 17, dataCodewordsPerBlock: 46 }],\n            },\n            {\n                ecCodewordsPerBlock: 30,\n                ecBlocks: [\n                    { numBlocks: 7, dataCodewordsPerBlock: 24 },\n                    { numBlocks: 16, dataCodewordsPerBlock: 25 },\n                ],\n            },\n            {\n                ecCodewordsPerBlock: 24,\n                ecBlocks: [{ numBlocks: 34, dataCodewordsPerBlock: 13 }],\n            },\n        ],\n    },\n    {\n        infoBits: 0x177EC,\n        versionNumber: 23,\n        alignmentPatternCenters: [6, 30, 54, 74, 102],\n        errorCorrectionLevels: [\n            {\n                ecCodewordsPerBlock: 30,\n                ecBlocks: [\n                    { numBlocks: 4, dataCodewordsPerBlock: 121 },\n                    { numBlocks: 5, dataCodewordsPerBlock: 122 },\n                ],\n            },\n            {\n                ecCodewordsPerBlock: 28,\n                ecBlocks: [\n                    { numBlocks: 4, dataCodewordsPerBlock: 47 },\n                    { numBlocks: 14, dataCodewordsPerBlock: 48 },\n                ],\n            },\n            {\n                ecCodewordsPerBlock: 30,\n                ecBlocks: [\n                    { numBlocks: 11, dataCodewordsPerBlock: 24 },\n                    { numBlocks: 14, dataCodewordsPerBlock: 25 },\n                ],\n            },\n            {\n                ecCodewordsPerBlock: 30,\n                ecBlocks: [\n                    { numBlocks: 16, dataCodewordsPerBlock: 15 },\n                    { numBlocks: 14, dataCodewordsPerBlock: 16 },\n                ],\n            },\n        ],\n    },\n    {\n        infoBits: 0x18EC4,\n        versionNumber: 24,\n        alignmentPatternCenters: [6, 28, 54, 80, 106],\n        errorCorrectionLevels: [\n            {\n                ecCodewordsPerBlock: 30,\n                ecBlocks: [\n                    { numBlocks: 6, dataCodewordsPerBlock: 117 },\n                    { numBlocks: 4, dataCodewordsPerBlock: 118 },\n                ],\n            },\n            {\n                ecCodewordsPerBlock: 28,\n                ecBlocks: [\n                    { numBlocks: 6, dataCodewordsPerBlock: 45 },\n                    { numBlocks: 14, dataCodewordsPerBlock: 46 },\n                ],\n            },\n            {\n                ecCodewordsPerBlock: 30,\n                ecBlocks: [\n                    { numBlocks: 11, dataCodewordsPerBlock: 24 },\n                    { numBlocks: 16, dataCodewordsPerBlock: 25 },\n                ],\n            },\n            {\n                ecCodewordsPerBlock: 30,\n                ecBlocks: [\n                    { numBlocks: 30, dataCodewordsPerBlock: 16 },\n                    { numBlocks: 2, dataCodewordsPerBlock: 17 },\n                ],\n            },\n        ],\n    },\n    {\n        infoBits: 0x191E1,\n        versionNumber: 25,\n        alignmentPatternCenters: [6, 32, 58, 84, 110],\n        errorCorrectionLevels: [\n            {\n                ecCodewordsPerBlock: 26,\n                ecBlocks: [\n                    { numBlocks: 8, dataCodewordsPerBlock: 106 },\n                    { numBlocks: 4, dataCodewordsPerBlock: 107 },\n                ],\n            },\n            {\n                ecCodewordsPerBlock: 28,\n                ecBlocks: [\n                    { numBlocks: 8, dataCodewordsPerBlock: 47 },\n                    { numBlocks: 13, dataCodewordsPerBlock: 48 },\n                ],\n            },\n            {\n                ecCodewordsPerBlock: 30,\n                ecBlocks: [\n                    { numBlocks: 7, dataCodewordsPerBlock: 24 },\n                    { numBlocks: 22, dataCodewordsPerBlock: 25 },\n                ],\n            },\n            {\n                ecCodewordsPerBlock: 30,\n                ecBlocks: [\n                    { numBlocks: 22, dataCodewordsPerBlock: 15 },\n                    { numBlocks: 13, dataCodewordsPerBlock: 16 },\n                ],\n            },\n        ],\n    },\n    {\n        infoBits: 0x1AFAB,\n        versionNumber: 26,\n        alignmentPatternCenters: [6, 30, 58, 86, 114],\n        errorCorrectionLevels: [\n            {\n                ecCodewordsPerBlock: 28,\n                ecBlocks: [\n                    { numBlocks: 10, dataCodewordsPerBlock: 114 },\n                    { numBlocks: 2, dataCodewordsPerBlock: 115 },\n                ],\n            },\n            {\n                ecCodewordsPerBlock: 28,\n                ecBlocks: [\n                    { numBlocks: 19, dataCodewordsPerBlock: 46 },\n                    { numBlocks: 4, dataCodewordsPerBlock: 47 },\n                ],\n            },\n            {\n                ecCodewordsPerBlock: 28,\n                ecBlocks: [\n                    { numBlocks: 28, dataCodewordsPerBlock: 22 },\n                    { numBlocks: 6, dataCodewordsPerBlock: 23 },\n                ],\n            },\n            {\n                ecCodewordsPerBlock: 30,\n                ecBlocks: [\n                    { numBlocks: 33, dataCodewordsPerBlock: 16 },\n                    { numBlocks: 4, dataCodewordsPerBlock: 17 },\n                ],\n            },\n        ],\n    },\n    {\n        infoBits: 0x1B08E,\n        versionNumber: 27,\n        alignmentPatternCenters: [6, 34, 62, 90, 118],\n        errorCorrectionLevels: [\n            {\n                ecCodewordsPerBlock: 30,\n                ecBlocks: [\n                    { numBlocks: 8, dataCodewordsPerBlock: 122 },\n                    { numBlocks: 4, dataCodewordsPerBlock: 123 },\n                ],\n            },\n            {\n                ecCodewordsPerBlock: 28,\n                ecBlocks: [\n                    { numBlocks: 22, dataCodewordsPerBlock: 45 },\n                    { numBlocks: 3, dataCodewordsPerBlock: 46 },\n                ],\n            },\n            {\n                ecCodewordsPerBlock: 30,\n                ecBlocks: [\n                    { numBlocks: 8, dataCodewordsPerBlock: 23 },\n                    { numBlocks: 26, dataCodewordsPerBlock: 24 },\n                ],\n            },\n            {\n                ecCodewordsPerBlock: 30,\n                ecBlocks: [\n                    { numBlocks: 12, dataCodewordsPerBlock: 15 },\n                    { numBlocks: 28, dataCodewordsPerBlock: 16 },\n                ],\n            },\n        ],\n    },\n    {\n        infoBits: 0x1CC1A,\n        versionNumber: 28,\n        alignmentPatternCenters: [6, 26, 50, 74, 98, 122],\n        errorCorrectionLevels: [\n            {\n                ecCodewordsPerBlock: 30,\n                ecBlocks: [\n                    { numBlocks: 3, dataCodewordsPerBlock: 117 },\n                    { numBlocks: 10, dataCodewordsPerBlock: 118 },\n                ],\n            },\n            {\n                ecCodewordsPerBlock: 28,\n                ecBlocks: [\n                    { numBlocks: 3, dataCodewordsPerBlock: 45 },\n                    { numBlocks: 23, dataCodewordsPerBlock: 46 },\n                ],\n            },\n            {\n                ecCodewordsPerBlock: 30,\n                ecBlocks: [\n                    { numBlocks: 4, dataCodewordsPerBlock: 24 },\n                    { numBlocks: 31, dataCodewordsPerBlock: 25 },\n                ],\n            },\n            {\n                ecCodewordsPerBlock: 30,\n                ecBlocks: [\n                    { numBlocks: 11, dataCodewordsPerBlock: 15 },\n                    { numBlocks: 31, dataCodewordsPerBlock: 16 },\n                ],\n            },\n        ],\n    },\n    {\n        infoBits: 0x1D33F,\n        versionNumber: 29,\n        alignmentPatternCenters: [6, 30, 54, 78, 102, 126],\n        errorCorrectionLevels: [\n            {\n                ecCodewordsPerBlock: 30,\n                ecBlocks: [\n                    { numBlocks: 7, dataCodewordsPerBlock: 116 },\n                    { numBlocks: 7, dataCodewordsPerBlock: 117 },\n                ],\n            },\n            {\n                ecCodewordsPerBlock: 28,\n                ecBlocks: [\n                    { numBlocks: 21, dataCodewordsPerBlock: 45 },\n                    { numBlocks: 7, dataCodewordsPerBlock: 46 },\n                ],\n            },\n            {\n                ecCodewordsPerBlock: 30,\n                ecBlocks: [\n                    { numBlocks: 1, dataCodewordsPerBlock: 23 },\n                    { numBlocks: 37, dataCodewordsPerBlock: 24 },\n                ],\n            },\n            {\n                ecCodewordsPerBlock: 30,\n                ecBlocks: [\n                    { numBlocks: 19, dataCodewordsPerBlock: 15 },\n                    { numBlocks: 26, dataCodewordsPerBlock: 16 },\n                ],\n            },\n        ],\n    },\n    {\n        infoBits: 0x1ED75,\n        versionNumber: 30,\n        alignmentPatternCenters: [6, 26, 52, 78, 104, 130],\n        errorCorrectionLevels: [\n            {\n                ecCodewordsPerBlock: 30,\n                ecBlocks: [\n                    { numBlocks: 5, dataCodewordsPerBlock: 115 },\n                    { numBlocks: 10, dataCodewordsPerBlock: 116 },\n                ],\n            },\n            {\n                ecCodewordsPerBlock: 28,\n                ecBlocks: [\n                    { numBlocks: 19, dataCodewordsPerBlock: 47 },\n                    { numBlocks: 10, dataCodewordsPerBlock: 48 },\n                ],\n            },\n            {\n                ecCodewordsPerBlock: 30,\n                ecBlocks: [\n                    { numBlocks: 15, dataCodewordsPerBlock: 24 },\n                    { numBlocks: 25, dataCodewordsPerBlock: 25 },\n                ],\n            },\n            {\n                ecCodewordsPerBlock: 30,\n                ecBlocks: [\n                    { numBlocks: 23, dataCodewordsPerBlock: 15 },\n                    { numBlocks: 25, dataCodewordsPerBlock: 16 },\n                ],\n            },\n        ],\n    },\n    {\n        infoBits: 0x1F250,\n        versionNumber: 31,\n        alignmentPatternCenters: [6, 30, 56, 82, 108, 134],\n        errorCorrectionLevels: [\n            {\n                ecCodewordsPerBlock: 30,\n                ecBlocks: [\n                    { numBlocks: 13, dataCodewordsPerBlock: 115 },\n                    { numBlocks: 3, dataCodewordsPerBlock: 116 },\n                ],\n            },\n            {\n                ecCodewordsPerBlock: 28,\n                ecBlocks: [\n                    { numBlocks: 2, dataCodewordsPerBlock: 46 },\n                    { numBlocks: 29, dataCodewordsPerBlock: 47 },\n                ],\n            },\n            {\n                ecCodewordsPerBlock: 30,\n                ecBlocks: [\n                    { numBlocks: 42, dataCodewordsPerBlock: 24 },\n                    { numBlocks: 1, dataCodewordsPerBlock: 25 },\n                ],\n            },\n            {\n                ecCodewordsPerBlock: 30,\n                ecBlocks: [\n                    { numBlocks: 23, dataCodewordsPerBlock: 15 },\n                    { numBlocks: 28, dataCodewordsPerBlock: 16 },\n                ],\n            },\n        ],\n    },\n    {\n        infoBits: 0x209D5,\n        versionNumber: 32,\n        alignmentPatternCenters: [6, 34, 60, 86, 112, 138],\n        errorCorrectionLevels: [\n            {\n                ecCodewordsPerBlock: 30,\n                ecBlocks: [{ numBlocks: 17, dataCodewordsPerBlock: 115 }],\n            },\n            {\n                ecCodewordsPerBlock: 28,\n                ecBlocks: [\n                    { numBlocks: 10, dataCodewordsPerBlock: 46 },\n                    { numBlocks: 23, dataCodewordsPerBlock: 47 },\n                ],\n            },\n            {\n                ecCodewordsPerBlock: 30,\n                ecBlocks: [\n                    { numBlocks: 10, dataCodewordsPerBlock: 24 },\n                    { numBlocks: 35, dataCodewordsPerBlock: 25 },\n                ],\n            },\n            {\n                ecCodewordsPerBlock: 30,\n                ecBlocks: [\n                    { numBlocks: 19, dataCodewordsPerBlock: 15 },\n                    { numBlocks: 35, dataCodewordsPerBlock: 16 },\n                ],\n            },\n        ],\n    },\n    {\n        infoBits: 0x216F0,\n        versionNumber: 33,\n        alignmentPatternCenters: [6, 30, 58, 86, 114, 142],\n        errorCorrectionLevels: [\n            {\n                ecCodewordsPerBlock: 30,\n                ecBlocks: [\n                    { numBlocks: 17, dataCodewordsPerBlock: 115 },\n                    { numBlocks: 1, dataCodewordsPerBlock: 116 },\n                ],\n            },\n            {\n                ecCodewordsPerBlock: 28,\n                ecBlocks: [\n                    { numBlocks: 14, dataCodewordsPerBlock: 46 },\n                    { numBlocks: 21, dataCodewordsPerBlock: 47 },\n                ],\n            },\n            {\n                ecCodewordsPerBlock: 30,\n                ecBlocks: [\n                    { numBlocks: 29, dataCodewordsPerBlock: 24 },\n                    { numBlocks: 19, dataCodewordsPerBlock: 25 },\n                ],\n            },\n            {\n                ecCodewordsPerBlock: 30,\n                ecBlocks: [\n                    { numBlocks: 11, dataCodewordsPerBlock: 15 },\n                    { numBlocks: 46, dataCodewordsPerBlock: 16 },\n                ],\n            },\n        ],\n    },\n    {\n        infoBits: 0x228BA,\n        versionNumber: 34,\n        alignmentPatternCenters: [6, 34, 62, 90, 118, 146],\n        errorCorrectionLevels: [\n            {\n                ecCodewordsPerBlock: 30,\n                ecBlocks: [\n                    { numBlocks: 13, dataCodewordsPerBlock: 115 },\n                    { numBlocks: 6, dataCodewordsPerBlock: 116 },\n                ],\n            },\n            {\n                ecCodewordsPerBlock: 28,\n                ecBlocks: [\n                    { numBlocks: 14, dataCodewordsPerBlock: 46 },\n                    { numBlocks: 23, dataCodewordsPerBlock: 47 },\n                ],\n            },\n            {\n                ecCodewordsPerBlock: 30,\n                ecBlocks: [\n                    { numBlocks: 44, dataCodewordsPerBlock: 24 },\n                    { numBlocks: 7, dataCodewordsPerBlock: 25 },\n                ],\n            },\n            {\n                ecCodewordsPerBlock: 30,\n                ecBlocks: [\n                    { numBlocks: 59, dataCodewordsPerBlock: 16 },\n                    { numBlocks: 1, dataCodewordsPerBlock: 17 },\n                ],\n            },\n        ],\n    },\n    {\n        infoBits: 0x2379F,\n        versionNumber: 35,\n        alignmentPatternCenters: [6, 30, 54, 78, 102, 126, 150],\n        errorCorrectionLevels: [\n            {\n                ecCodewordsPerBlock: 30,\n                ecBlocks: [\n                    { numBlocks: 12, dataCodewordsPerBlock: 121 },\n                    { numBlocks: 7, dataCodewordsPerBlock: 122 },\n                ],\n            },\n            {\n                ecCodewordsPerBlock: 28,\n                ecBlocks: [\n                    { numBlocks: 12, dataCodewordsPerBlock: 47 },\n                    { numBlocks: 26, dataCodewordsPerBlock: 48 },\n                ],\n            },\n            {\n                ecCodewordsPerBlock: 30,\n                ecBlocks: [\n                    { numBlocks: 39, dataCodewordsPerBlock: 24 },\n                    { numBlocks: 14, dataCodewordsPerBlock: 25 },\n                ],\n            },\n            {\n                ecCodewordsPerBlock: 30,\n                ecBlocks: [\n                    { numBlocks: 22, dataCodewordsPerBlock: 15 },\n                    { numBlocks: 41, dataCodewordsPerBlock: 16 },\n                ],\n            },\n        ],\n    },\n    {\n        infoBits: 0x24B0B,\n        versionNumber: 36,\n        alignmentPatternCenters: [6, 24, 50, 76, 102, 128, 154],\n        errorCorrectionLevels: [\n            {\n                ecCodewordsPerBlock: 30,\n                ecBlocks: [\n                    { numBlocks: 6, dataCodewordsPerBlock: 121 },\n                    { numBlocks: 14, dataCodewordsPerBlock: 122 },\n                ],\n            },\n            {\n                ecCodewordsPerBlock: 28,\n                ecBlocks: [\n                    { numBlocks: 6, dataCodewordsPerBlock: 47 },\n                    { numBlocks: 34, dataCodewordsPerBlock: 48 },\n                ],\n            },\n            {\n                ecCodewordsPerBlock: 30,\n                ecBlocks: [\n                    { numBlocks: 46, dataCodewordsPerBlock: 24 },\n                    { numBlocks: 10, dataCodewordsPerBlock: 25 },\n                ],\n            },\n            {\n                ecCodewordsPerBlock: 30,\n                ecBlocks: [\n                    { numBlocks: 2, dataCodewordsPerBlock: 15 },\n                    { numBlocks: 64, dataCodewordsPerBlock: 16 },\n                ],\n            },\n        ],\n    },\n    {\n        infoBits: 0x2542E,\n        versionNumber: 37,\n        alignmentPatternCenters: [6, 28, 54, 80, 106, 132, 158],\n        errorCorrectionLevels: [\n            {\n                ecCodewordsPerBlock: 30,\n                ecBlocks: [\n                    { numBlocks: 17, dataCodewordsPerBlock: 122 },\n                    { numBlocks: 4, dataCodewordsPerBlock: 123 },\n                ],\n            },\n            {\n                ecCodewordsPerBlock: 28,\n                ecBlocks: [\n                    { numBlocks: 29, dataCodewordsPerBlock: 46 },\n                    { numBlocks: 14, dataCodewordsPerBlock: 47 },\n                ],\n            },\n            {\n                ecCodewordsPerBlock: 30,\n                ecBlocks: [\n                    { numBlocks: 49, dataCodewordsPerBlock: 24 },\n                    { numBlocks: 10, dataCodewordsPerBlock: 25 },\n                ],\n            },\n            {\n                ecCodewordsPerBlock: 30,\n                ecBlocks: [\n                    { numBlocks: 24, dataCodewordsPerBlock: 15 },\n                    { numBlocks: 46, dataCodewordsPerBlock: 16 },\n                ],\n            },\n        ],\n    },\n    {\n        infoBits: 0x26A64,\n        versionNumber: 38,\n        alignmentPatternCenters: [6, 32, 58, 84, 110, 136, 162],\n        errorCorrectionLevels: [\n            {\n                ecCodewordsPerBlock: 30,\n                ecBlocks: [\n                    { numBlocks: 4, dataCodewordsPerBlock: 122 },\n                    { numBlocks: 18, dataCodewordsPerBlock: 123 },\n                ],\n            },\n            {\n                ecCodewordsPerBlock: 28,\n                ecBlocks: [\n                    { numBlocks: 13, dataCodewordsPerBlock: 46 },\n                    { numBlocks: 32, dataCodewordsPerBlock: 47 },\n                ],\n            },\n            {\n                ecCodewordsPerBlock: 30,\n                ecBlocks: [\n                    { numBlocks: 48, dataCodewordsPerBlock: 24 },\n                    { numBlocks: 14, dataCodewordsPerBlock: 25 },\n                ],\n            },\n            {\n                ecCodewordsPerBlock: 30,\n                ecBlocks: [\n                    { numBlocks: 42, dataCodewordsPerBlock: 15 },\n                    { numBlocks: 32, dataCodewordsPerBlock: 16 },\n                ],\n            },\n        ],\n    },\n    {\n        infoBits: 0x27541,\n        versionNumber: 39,\n        alignmentPatternCenters: [6, 26, 54, 82, 110, 138, 166],\n        errorCorrectionLevels: [\n            {\n                ecCodewordsPerBlock: 30,\n                ecBlocks: [\n                    { numBlocks: 20, dataCodewordsPerBlock: 117 },\n                    { numBlocks: 4, dataCodewordsPerBlock: 118 },\n                ],\n            },\n            {\n                ecCodewordsPerBlock: 28,\n                ecBlocks: [\n                    { numBlocks: 40, dataCodewordsPerBlock: 47 },\n                    { numBlocks: 7, dataCodewordsPerBlock: 48 },\n                ],\n            },\n            {\n                ecCodewordsPerBlock: 30,\n                ecBlocks: [\n                    { numBlocks: 43, dataCodewordsPerBlock: 24 },\n                    { numBlocks: 22, dataCodewordsPerBlock: 25 },\n                ],\n            },\n            {\n                ecCodewordsPerBlock: 30,\n                ecBlocks: [\n                    { numBlocks: 10, dataCodewordsPerBlock: 15 },\n                    { numBlocks: 67, dataCodewordsPerBlock: 16 },\n                ],\n            },\n        ],\n    },\n    {\n        infoBits: 0x28C69,\n        versionNumber: 40,\n        alignmentPatternCenters: [6, 30, 58, 86, 114, 142, 170],\n        errorCorrectionLevels: [\n            {\n                ecCodewordsPerBlock: 30,\n                ecBlocks: [\n                    { numBlocks: 19, dataCodewordsPerBlock: 118 },\n                    { numBlocks: 6, dataCodewordsPerBlock: 119 },\n                ],\n            },\n            {\n                ecCodewordsPerBlock: 28,\n                ecBlocks: [\n                    { numBlocks: 18, dataCodewordsPerBlock: 47 },\n                    { numBlocks: 31, dataCodewordsPerBlock: 48 },\n                ],\n            },\n            {\n                ecCodewordsPerBlock: 30,\n                ecBlocks: [\n                    { numBlocks: 34, dataCodewordsPerBlock: 24 },\n                    { numBlocks: 34, dataCodewordsPerBlock: 25 },\n                ],\n            },\n            {\n                ecCodewordsPerBlock: 30,\n                ecBlocks: [\n                    { numBlocks: 20, dataCodewordsPerBlock: 15 },\n                    { numBlocks: 61, dataCodewordsPerBlock: 16 },\n                ],\n            },\n        ],\n    },\n];\n\n// tslint:disable:no-bitwise\nfunction numBitsDiffering(x, y) {\n    let z = x ^ y;\n    let bitCount = 0;\n    while (z) {\n        bitCount++;\n        z &= z - 1;\n    }\n    return bitCount;\n}\nfunction pushBit(bit, byte) {\n    return (byte << 1) | bit;\n}\n// tslint:enable:no-bitwise\nconst FORMAT_INFO_TABLE = [\n    { bits: 0x5412, formatInfo: { errorCorrectionLevel: 1, dataMask: 0 } },\n    { bits: 0x5125, formatInfo: { errorCorrectionLevel: 1, dataMask: 1 } },\n    { bits: 0x5E7C, formatInfo: { errorCorrectionLevel: 1, dataMask: 2 } },\n    { bits: 0x5B4B, formatInfo: { errorCorrectionLevel: 1, dataMask: 3 } },\n    { bits: 0x45F9, formatInfo: { errorCorrectionLevel: 1, dataMask: 4 } },\n    { bits: 0x40CE, formatInfo: { errorCorrectionLevel: 1, dataMask: 5 } },\n    { bits: 0x4F97, formatInfo: { errorCorrectionLevel: 1, dataMask: 6 } },\n    { bits: 0x4AA0, formatInfo: { errorCorrectionLevel: 1, dataMask: 7 } },\n    { bits: 0x77C4, formatInfo: { errorCorrectionLevel: 0, dataMask: 0 } },\n    { bits: 0x72F3, formatInfo: { errorCorrectionLevel: 0, dataMask: 1 } },\n    { bits: 0x7DAA, formatInfo: { errorCorrectionLevel: 0, dataMask: 2 } },\n    { bits: 0x789D, formatInfo: { errorCorrectionLevel: 0, dataMask: 3 } },\n    { bits: 0x662F, formatInfo: { errorCorrectionLevel: 0, dataMask: 4 } },\n    { bits: 0x6318, formatInfo: { errorCorrectionLevel: 0, dataMask: 5 } },\n    { bits: 0x6C41, formatInfo: { errorCorrectionLevel: 0, dataMask: 6 } },\n    { bits: 0x6976, formatInfo: { errorCorrectionLevel: 0, dataMask: 7 } },\n    { bits: 0x1689, formatInfo: { errorCorrectionLevel: 3, dataMask: 0 } },\n    { bits: 0x13BE, formatInfo: { errorCorrectionLevel: 3, dataMask: 1 } },\n    { bits: 0x1CE7, formatInfo: { errorCorrectionLevel: 3, dataMask: 2 } },\n    { bits: 0x19D0, formatInfo: { errorCorrectionLevel: 3, dataMask: 3 } },\n    { bits: 0x0762, formatInfo: { errorCorrectionLevel: 3, dataMask: 4 } },\n    { bits: 0x0255, formatInfo: { errorCorrectionLevel: 3, dataMask: 5 } },\n    { bits: 0x0D0C, formatInfo: { errorCorrectionLevel: 3, dataMask: 6 } },\n    { bits: 0x083B, formatInfo: { errorCorrectionLevel: 3, dataMask: 7 } },\n    { bits: 0x355F, formatInfo: { errorCorrectionLevel: 2, dataMask: 0 } },\n    { bits: 0x3068, formatInfo: { errorCorrectionLevel: 2, dataMask: 1 } },\n    { bits: 0x3F31, formatInfo: { errorCorrectionLevel: 2, dataMask: 2 } },\n    { bits: 0x3A06, formatInfo: { errorCorrectionLevel: 2, dataMask: 3 } },\n    { bits: 0x24B4, formatInfo: { errorCorrectionLevel: 2, dataMask: 4 } },\n    { bits: 0x2183, formatInfo: { errorCorrectionLevel: 2, dataMask: 5 } },\n    { bits: 0x2EDA, formatInfo: { errorCorrectionLevel: 2, dataMask: 6 } },\n    { bits: 0x2BED, formatInfo: { errorCorrectionLevel: 2, dataMask: 7 } },\n];\nconst DATA_MASKS = [\n    (p) => ((p.y + p.x) % 2) === 0,\n    (p) => (p.y % 2) === 0,\n    (p) => p.x % 3 === 0,\n    (p) => (p.y + p.x) % 3 === 0,\n    (p) => (Math.floor(p.y / 2) + Math.floor(p.x / 3)) % 2 === 0,\n    (p) => ((p.x * p.y) % 2) + ((p.x * p.y) % 3) === 0,\n    (p) => ((((p.y * p.x) % 2) + (p.y * p.x) % 3) % 2) === 0,\n    (p) => ((((p.y + p.x) % 2) + (p.y * p.x) % 3) % 2) === 0,\n];\nfunction buildFunctionPatternMask(version) {\n    const dimension = 17 + 4 * version.versionNumber;\n    const matrix = BitMatrix.createEmpty(dimension, dimension);\n    matrix.setRegion(0, 0, 9, 9, true); // Top left finder pattern + separator + format\n    matrix.setRegion(dimension - 8, 0, 8, 9, true); // Top right finder pattern + separator + format\n    matrix.setRegion(0, dimension - 8, 9, 8, true); // Bottom left finder pattern + separator + format\n    // Alignment patterns\n    for (const x of version.alignmentPatternCenters) {\n        for (const y of version.alignmentPatternCenters) {\n            if (!(x === 6 && y === 6 || x === 6 && y === dimension - 7 || x === dimension - 7 && y === 6)) {\n                matrix.setRegion(x - 2, y - 2, 5, 5, true);\n            }\n        }\n    }\n    matrix.setRegion(6, 9, 1, dimension - 17, true); // Vertical timing pattern\n    matrix.setRegion(9, 6, dimension - 17, 1, true); // Horizontal timing pattern\n    if (version.versionNumber > 6) {\n        matrix.setRegion(dimension - 11, 0, 3, 6, true); // Version info, top right\n        matrix.setRegion(0, dimension - 11, 6, 3, true); // Version info, bottom left\n    }\n    return matrix;\n}\nfunction readCodewords(matrix, version, formatInfo) {\n    const dataMask = DATA_MASKS[formatInfo.dataMask];\n    const dimension = matrix.height;\n    const functionPatternMask = buildFunctionPatternMask(version);\n    const codewords = [];\n    let currentByte = 0;\n    let bitsRead = 0;\n    // Read columns in pairs, from right to left\n    let readingUp = true;\n    for (let columnIndex = dimension - 1; columnIndex > 0; columnIndex -= 2) {\n        if (columnIndex === 6) { // Skip whole column with vertical alignment pattern;\n            columnIndex--;\n        }\n        for (let i = 0; i < dimension; i++) {\n            const y = readingUp ? dimension - 1 - i : i;\n            for (let columnOffset = 0; columnOffset < 2; columnOffset++) {\n                const x = columnIndex - columnOffset;\n                if (!functionPatternMask.get(x, y)) {\n                    bitsRead++;\n                    let bit = matrix.get(x, y);\n                    if (dataMask({ y, x })) {\n                        bit = !bit;\n                    }\n                    currentByte = pushBit(bit, currentByte);\n                    if (bitsRead === 8) { // Whole bytes\n                        codewords.push(currentByte);\n                        bitsRead = 0;\n                        currentByte = 0;\n                    }\n                }\n            }\n        }\n        readingUp = !readingUp;\n    }\n    return codewords;\n}\nfunction readVersion(matrix) {\n    const dimension = matrix.height;\n    const provisionalVersion = Math.floor((dimension - 17) / 4);\n    if (provisionalVersion <= 6) { // 6 and under dont have version info in the QR code\n        return VERSIONS[provisionalVersion - 1];\n    }\n    let topRightVersionBits = 0;\n    for (let y = 5; y >= 0; y--) {\n        for (let x = dimension - 9; x >= dimension - 11; x--) {\n            topRightVersionBits = pushBit(matrix.get(x, y), topRightVersionBits);\n        }\n    }\n    let bottomLeftVersionBits = 0;\n    for (let x = 5; x >= 0; x--) {\n        for (let y = dimension - 9; y >= dimension - 11; y--) {\n            bottomLeftVersionBits = pushBit(matrix.get(x, y), bottomLeftVersionBits);\n        }\n    }\n    let bestDifference = Infinity;\n    let bestVersion;\n    for (const version of VERSIONS) {\n        if (version.infoBits === topRightVersionBits || version.infoBits === bottomLeftVersionBits) {\n            return version;\n        }\n        let difference = numBitsDiffering(topRightVersionBits, version.infoBits);\n        if (difference < bestDifference) {\n            bestVersion = version;\n            bestDifference = difference;\n        }\n        difference = numBitsDiffering(bottomLeftVersionBits, version.infoBits);\n        if (difference < bestDifference) {\n            bestVersion = version;\n            bestDifference = difference;\n        }\n    }\n    // We can tolerate up to 3 bits of error since no two version info codewords will\n    // differ in less than 8 bits.\n    if (bestDifference <= 3) {\n        return bestVersion;\n    }\n}\nfunction readFormatInformation(matrix) {\n    let topLeftFormatInfoBits = 0;\n    for (let x = 0; x <= 8; x++) {\n        if (x !== 6) { // Skip timing pattern bit\n            topLeftFormatInfoBits = pushBit(matrix.get(x, 8), topLeftFormatInfoBits);\n        }\n    }\n    for (let y = 7; y >= 0; y--) {\n        if (y !== 6) { // Skip timing pattern bit\n            topLeftFormatInfoBits = pushBit(matrix.get(8, y), topLeftFormatInfoBits);\n        }\n    }\n    const dimension = matrix.height;\n    let topRightBottomRightFormatInfoBits = 0;\n    for (let y = dimension - 1; y >= dimension - 7; y--) { // bottom left\n        topRightBottomRightFormatInfoBits = pushBit(matrix.get(8, y), topRightBottomRightFormatInfoBits);\n    }\n    for (let x = dimension - 8; x < dimension; x++) { // top right\n        topRightBottomRightFormatInfoBits = pushBit(matrix.get(x, 8), topRightBottomRightFormatInfoBits);\n    }\n    let bestDifference = Infinity;\n    let bestFormatInfo = null;\n    for (const { bits, formatInfo } of FORMAT_INFO_TABLE) {\n        if (bits === topLeftFormatInfoBits || bits === topRightBottomRightFormatInfoBits) {\n            return formatInfo;\n        }\n        let difference = numBitsDiffering(topLeftFormatInfoBits, bits);\n        if (difference < bestDifference) {\n            bestFormatInfo = formatInfo;\n            bestDifference = difference;\n        }\n        if (topLeftFormatInfoBits !== topRightBottomRightFormatInfoBits) { // also try the other option\n            difference = numBitsDiffering(topRightBottomRightFormatInfoBits, bits);\n            if (difference < bestDifference) {\n                bestFormatInfo = formatInfo;\n                bestDifference = difference;\n            }\n        }\n    }\n    // Hamming distance of the 32 masked codes is 7, by construction, so <= 3 bits differing means we found a match\n    if (bestDifference <= 3) {\n        return bestFormatInfo;\n    }\n    return null;\n}\nfunction getDataBlocks(codewords, version, ecLevel) {\n    const ecInfo = version.errorCorrectionLevels[ecLevel];\n    const dataBlocks = [];\n    let totalCodewords = 0;\n    ecInfo.ecBlocks.forEach(block => {\n        for (let i = 0; i < block.numBlocks; i++) {\n            dataBlocks.push({ numDataCodewords: block.dataCodewordsPerBlock, codewords: [] });\n            totalCodewords += block.dataCodewordsPerBlock + ecInfo.ecCodewordsPerBlock;\n        }\n    });\n    // In some cases the QR code will be malformed enough that we pull off more or less than we should.\n    // If we pull off less there's nothing we can do.\n    // If we pull off more we can safely truncate\n    if (codewords.length < totalCodewords) {\n        return null;\n    }\n    codewords = codewords.slice(0, totalCodewords);\n    const shortBlockSize = ecInfo.ecBlocks[0].dataCodewordsPerBlock;\n    // Pull codewords to fill the blocks up to the minimum size\n    for (let i = 0; i < shortBlockSize; i++) {\n        for (const dataBlock of dataBlocks) {\n            dataBlock.codewords.push(codewords.shift());\n        }\n    }\n    // If there are any large blocks, pull codewords to fill the last element of those\n    if (ecInfo.ecBlocks.length > 1) {\n        const smallBlockCount = ecInfo.ecBlocks[0].numBlocks;\n        const largeBlockCount = ecInfo.ecBlocks[1].numBlocks;\n        for (let i = 0; i < largeBlockCount; i++) {\n            dataBlocks[smallBlockCount + i].codewords.push(codewords.shift());\n        }\n    }\n    // Add the rest of the codewords to the blocks. These are the error correction codewords.\n    while (codewords.length > 0) {\n        for (const dataBlock of dataBlocks) {\n            dataBlock.codewords.push(codewords.shift());\n        }\n    }\n    return dataBlocks;\n}\nfunction decodeMatrix(matrix) {\n    const version = readVersion(matrix);\n    if (!version) {\n        return null;\n    }\n    const formatInfo = readFormatInformation(matrix);\n    if (!formatInfo) {\n        return null;\n    }\n    const codewords = readCodewords(matrix, version, formatInfo);\n    const dataBlocks = getDataBlocks(codewords, version, formatInfo.errorCorrectionLevel);\n    if (!dataBlocks) {\n        return null;\n    }\n    // Count total number of data bytes\n    const totalBytes = dataBlocks.reduce((a, b) => a + b.numDataCodewords, 0);\n    const resultBytes = new Uint8ClampedArray(totalBytes);\n    let resultIndex = 0;\n    for (const dataBlock of dataBlocks) {\n        const correctedBytes = decode$1(dataBlock.codewords, dataBlock.codewords.length - dataBlock.numDataCodewords);\n        if (!correctedBytes) {\n            return null;\n        }\n        for (let i = 0; i < dataBlock.numDataCodewords; i++) {\n            resultBytes[resultIndex++] = correctedBytes[i];\n        }\n    }\n    try {\n        return decode(resultBytes, version.versionNumber);\n    }\n    catch (_a) {\n        return null;\n    }\n}\nfunction decode$2(matrix) {\n    if (matrix == null) {\n        return null;\n    }\n    const result = decodeMatrix(matrix);\n    if (result) {\n        return result;\n    }\n    // Decoding didn't work, try mirroring the QR across the topLeft -> bottomRight line.\n    for (let x = 0; x < matrix.width; x++) {\n        for (let y = x + 1; y < matrix.height; y++) {\n            if (matrix.get(x, y) !== matrix.get(y, x)) {\n                matrix.set(x, y, !matrix.get(x, y));\n                matrix.set(y, x, !matrix.get(y, x));\n            }\n        }\n    }\n    return decodeMatrix(matrix);\n}\n\nfunction squareToQuadrilateral(p1, p2, p3, p4) {\n    const dx3 = p1.x - p2.x + p3.x - p4.x;\n    const dy3 = p1.y - p2.y + p3.y - p4.y;\n    if (dx3 === 0 && dy3 === 0) { // Affine\n        return {\n            a11: p2.x - p1.x,\n            a12: p2.y - p1.y,\n            a13: 0,\n            a21: p3.x - p2.x,\n            a22: p3.y - p2.y,\n            a23: 0,\n            a31: p1.x,\n            a32: p1.y,\n            a33: 1,\n        };\n    }\n    else {\n        const dx1 = p2.x - p3.x;\n        const dx2 = p4.x - p3.x;\n        const dy1 = p2.y - p3.y;\n        const dy2 = p4.y - p3.y;\n        const denominator = dx1 * dy2 - dx2 * dy1;\n        const a13 = (dx3 * dy2 - dx2 * dy3) / denominator;\n        const a23 = (dx1 * dy3 - dx3 * dy1) / denominator;\n        return {\n            a11: p2.x - p1.x + a13 * p2.x,\n            a12: p2.y - p1.y + a13 * p2.y,\n            a13,\n            a21: p4.x - p1.x + a23 * p4.x,\n            a22: p4.y - p1.y + a23 * p4.y,\n            a23,\n            a31: p1.x,\n            a32: p1.y,\n            a33: 1,\n        };\n    }\n}\nfunction quadrilateralToSquare(p1, p2, p3, p4) {\n    // Here, the adjoint serves as the inverse:\n    const sToQ = squareToQuadrilateral(p1, p2, p3, p4);\n    return {\n        a11: sToQ.a22 * sToQ.a33 - sToQ.a23 * sToQ.a32,\n        a12: sToQ.a13 * sToQ.a32 - sToQ.a12 * sToQ.a33,\n        a13: sToQ.a12 * sToQ.a23 - sToQ.a13 * sToQ.a22,\n        a21: sToQ.a23 * sToQ.a31 - sToQ.a21 * sToQ.a33,\n        a22: sToQ.a11 * sToQ.a33 - sToQ.a13 * sToQ.a31,\n        a23: sToQ.a13 * sToQ.a21 - sToQ.a11 * sToQ.a23,\n        a31: sToQ.a21 * sToQ.a32 - sToQ.a22 * sToQ.a31,\n        a32: sToQ.a12 * sToQ.a31 - sToQ.a11 * sToQ.a32,\n        a33: sToQ.a11 * sToQ.a22 - sToQ.a12 * sToQ.a21,\n    };\n}\nfunction times(a, b) {\n    return {\n        a11: a.a11 * b.a11 + a.a21 * b.a12 + a.a31 * b.a13,\n        a12: a.a12 * b.a11 + a.a22 * b.a12 + a.a32 * b.a13,\n        a13: a.a13 * b.a11 + a.a23 * b.a12 + a.a33 * b.a13,\n        a21: a.a11 * b.a21 + a.a21 * b.a22 + a.a31 * b.a23,\n        a22: a.a12 * b.a21 + a.a22 * b.a22 + a.a32 * b.a23,\n        a23: a.a13 * b.a21 + a.a23 * b.a22 + a.a33 * b.a23,\n        a31: a.a11 * b.a31 + a.a21 * b.a32 + a.a31 * b.a33,\n        a32: a.a12 * b.a31 + a.a22 * b.a32 + a.a32 * b.a33,\n        a33: a.a13 * b.a31 + a.a23 * b.a32 + a.a33 * b.a33,\n    };\n}\nfunction extract(image, location) {\n    const qToS = quadrilateralToSquare({ x: 3.5, y: 3.5 }, { x: location.dimension - 3.5, y: 3.5 }, { x: location.dimension - 6.5, y: location.dimension - 6.5 }, { x: 3.5, y: location.dimension - 3.5 });\n    const sToQ = squareToQuadrilateral(location.topLeft, location.topRight, location.alignmentPattern, location.bottomLeft);\n    const transform = times(sToQ, qToS);\n    const matrix = BitMatrix.createEmpty(location.dimension, location.dimension);\n    const mappingFunction = (x, y) => {\n        const denominator = transform.a13 * x + transform.a23 * y + transform.a33;\n        return {\n            x: (transform.a11 * x + transform.a21 * y + transform.a31) / denominator,\n            y: (transform.a12 * x + transform.a22 * y + transform.a32) / denominator,\n        };\n    };\n    for (let y = 0; y < location.dimension; y++) {\n        for (let x = 0; x < location.dimension; x++) {\n            const xValue = x + 0.5;\n            const yValue = y + 0.5;\n            const sourcePixel = mappingFunction(xValue, yValue);\n            matrix.set(x, y, image.get(Math.floor(sourcePixel.x), Math.floor(sourcePixel.y)));\n        }\n    }\n    return {\n        matrix,\n        mappingFunction,\n    };\n}\n\nconst MAX_FINDERPATTERNS_TO_SEARCH = 4;\nconst MIN_QUAD_RATIO = 0.5;\nconst MAX_QUAD_RATIO = 1.5;\nconst distance = (a, b) => Math.sqrt(Math.pow((b.x - a.x), 2) + Math.pow((b.y - a.y), 2));\nfunction sum(values) {\n    return values.reduce((a, b) => a + b);\n}\n// Takes three finder patterns and organizes them into topLeft, topRight, etc\nfunction reorderFinderPatterns(pattern1, pattern2, pattern3) {\n    // Find distances between pattern centers\n    const oneTwoDistance = distance(pattern1, pattern2);\n    const twoThreeDistance = distance(pattern2, pattern3);\n    const oneThreeDistance = distance(pattern1, pattern3);\n    let bottomLeft;\n    let topLeft;\n    let topRight;\n    // Assume one closest to other two is B; A and C will just be guesses at first\n    if (twoThreeDistance >= oneTwoDistance && twoThreeDistance >= oneThreeDistance) {\n        [bottomLeft, topLeft, topRight] = [pattern2, pattern1, pattern3];\n    }\n    else if (oneThreeDistance >= twoThreeDistance && oneThreeDistance >= oneTwoDistance) {\n        [bottomLeft, topLeft, topRight] = [pattern1, pattern2, pattern3];\n    }\n    else {\n        [bottomLeft, topLeft, topRight] = [pattern1, pattern3, pattern2];\n    }\n    // Use cross product to figure out whether bottomLeft (A) and topRight (C) are correct or flipped in relation to topLeft (B)\n    // This asks whether BC x BA has a positive z component, which is the arrangement we want. If it's negative, then\n    // we've got it flipped around and should swap topRight and bottomLeft.\n    if (((topRight.x - topLeft.x) * (bottomLeft.y - topLeft.y)) - ((topRight.y - topLeft.y) * (bottomLeft.x - topLeft.x)) < 0) {\n        [bottomLeft, topRight] = [topRight, bottomLeft];\n    }\n    return { bottomLeft, topLeft, topRight };\n}\n// Computes the dimension (number of modules on a side) of the QR Code based on the position of the finder patterns\nfunction computeDimension(topLeft, topRight, bottomLeft, matrix) {\n    const moduleSize = (sum(countBlackWhiteRun(topLeft, bottomLeft, matrix, 5)) / 7 + // Divide by 7 since the ratio is 1:1:3:1:1\n        sum(countBlackWhiteRun(topLeft, topRight, matrix, 5)) / 7 +\n        sum(countBlackWhiteRun(bottomLeft, topLeft, matrix, 5)) / 7 +\n        sum(countBlackWhiteRun(topRight, topLeft, matrix, 5)) / 7) / 4;\n    if (moduleSize < 1) {\n        throw new Error(\"Invalid module size\");\n    }\n    const topDimension = Math.round(distance(topLeft, topRight) / moduleSize);\n    const sideDimension = Math.round(distance(topLeft, bottomLeft) / moduleSize);\n    let dimension = Math.floor((topDimension + sideDimension) / 2) + 7;\n    switch (dimension % 4) {\n        case 0:\n            dimension++;\n            break;\n        case 2:\n            dimension--;\n            break;\n    }\n    return { dimension, moduleSize };\n}\n// Takes an origin point and an end point and counts the sizes of the black white run from the origin towards the end point.\n// Returns an array of elements, representing the pixel size of the black white run.\n// Uses a variant of http://en.wikipedia.org/wiki/Bresenham's_line_algorithm\nfunction countBlackWhiteRunTowardsPoint(origin, end, matrix, length) {\n    const switchPoints = [{ x: Math.floor(origin.x), y: Math.floor(origin.y) }];\n    const steep = Math.abs(end.y - origin.y) > Math.abs(end.x - origin.x);\n    let fromX;\n    let fromY;\n    let toX;\n    let toY;\n    if (steep) {\n        fromX = Math.floor(origin.y);\n        fromY = Math.floor(origin.x);\n        toX = Math.floor(end.y);\n        toY = Math.floor(end.x);\n    }\n    else {\n        fromX = Math.floor(origin.x);\n        fromY = Math.floor(origin.y);\n        toX = Math.floor(end.x);\n        toY = Math.floor(end.y);\n    }\n    const dx = Math.abs(toX - fromX);\n    const dy = Math.abs(toY - fromY);\n    let error = Math.floor(-dx / 2);\n    const xStep = fromX < toX ? 1 : -1;\n    const yStep = fromY < toY ? 1 : -1;\n    let currentPixel = true;\n    // Loop up until x == toX, but not beyond\n    for (let x = fromX, y = fromY; x !== toX + xStep; x += xStep) {\n        // Does current pixel mean we have moved white to black or vice versa?\n        // Scanning black in state 0,2 and white in state 1, so if we find the wrong\n        // color, advance to next state or end if we are in state 2 already\n        const realX = steep ? y : x;\n        const realY = steep ? x : y;\n        if (matrix.get(realX, realY) !== currentPixel) {\n            currentPixel = !currentPixel;\n            switchPoints.push({ x: realX, y: realY });\n            if (switchPoints.length === length + 1) {\n                break;\n            }\n        }\n        error += dy;\n        if (error > 0) {\n            if (y === toY) {\n                break;\n            }\n            y += yStep;\n            error -= dx;\n        }\n    }\n    const distances = [];\n    for (let i = 0; i < length; i++) {\n        if (switchPoints[i] && switchPoints[i + 1]) {\n            distances.push(distance(switchPoints[i], switchPoints[i + 1]));\n        }\n        else {\n            distances.push(0);\n        }\n    }\n    return distances;\n}\n// Takes an origin point and an end point and counts the sizes of the black white run in the origin point\n// along the line that intersects with the end point. Returns an array of elements, representing the pixel sizes\n// of the black white run. Takes a length which represents the number of switches from black to white to look for.\nfunction countBlackWhiteRun(origin, end, matrix, length) {\n    const rise = end.y - origin.y;\n    const run = end.x - origin.x;\n    const towardsEnd = countBlackWhiteRunTowardsPoint(origin, end, matrix, Math.ceil(length / 2));\n    const awayFromEnd = countBlackWhiteRunTowardsPoint(origin, { x: origin.x - run, y: origin.y - rise }, matrix, Math.ceil(length / 2));\n    const middleValue = towardsEnd.shift() + awayFromEnd.shift() - 1; // Substract one so we don't double count a pixel\n    return awayFromEnd.concat(middleValue).concat(...towardsEnd);\n}\n// Takes in a black white run and an array of expected ratios. Returns the average size of the run as well as the \"error\" -\n// that is the amount the run diverges from the expected ratio\nfunction scoreBlackWhiteRun(sequence, ratios) {\n    const averageSize = sum(sequence) / sum(ratios);\n    let error = 0;\n    ratios.forEach((ratio, i) => {\n        error += Math.pow((sequence[i] - ratio * averageSize), 2);\n    });\n    return { averageSize, error };\n}\n// Takes an X,Y point and an array of sizes and scores the point against those ratios.\n// For example for a finder pattern takes the ratio list of 1:1:3:1:1 and checks horizontal, vertical and diagonal ratios\n// against that.\nfunction scorePattern(point, ratios, matrix) {\n    try {\n        const horizontalRun = countBlackWhiteRun(point, { x: -1, y: point.y }, matrix, ratios.length);\n        const verticalRun = countBlackWhiteRun(point, { x: point.x, y: -1 }, matrix, ratios.length);\n        const topLeftPoint = {\n            x: Math.max(0, point.x - point.y) - 1,\n            y: Math.max(0, point.y - point.x) - 1,\n        };\n        const topLeftBottomRightRun = countBlackWhiteRun(point, topLeftPoint, matrix, ratios.length);\n        const bottomLeftPoint = {\n            x: Math.min(matrix.width, point.x + point.y) + 1,\n            y: Math.min(matrix.height, point.y + point.x) + 1,\n        };\n        const bottomLeftTopRightRun = countBlackWhiteRun(point, bottomLeftPoint, matrix, ratios.length);\n        const horzError = scoreBlackWhiteRun(horizontalRun, ratios);\n        const vertError = scoreBlackWhiteRun(verticalRun, ratios);\n        const diagDownError = scoreBlackWhiteRun(topLeftBottomRightRun, ratios);\n        const diagUpError = scoreBlackWhiteRun(bottomLeftTopRightRun, ratios);\n        const ratioError = Math.sqrt(horzError.error * horzError.error +\n            vertError.error * vertError.error +\n            diagDownError.error * diagDownError.error +\n            diagUpError.error * diagUpError.error);\n        const avgSize = (horzError.averageSize + vertError.averageSize + diagDownError.averageSize + diagUpError.averageSize) / 4;\n        const sizeError = (Math.pow((horzError.averageSize - avgSize), 2) +\n            Math.pow((vertError.averageSize - avgSize), 2) +\n            Math.pow((diagDownError.averageSize - avgSize), 2) +\n            Math.pow((diagUpError.averageSize - avgSize), 2)) / avgSize;\n        return ratioError + sizeError;\n    }\n    catch (_a) {\n        return Infinity;\n    }\n}\nfunction locate(matrix) {\n    const finderPatternQuads = [];\n    let activeFinderPatternQuads = [];\n    const alignmentPatternQuads = [];\n    let activeAlignmentPatternQuads = [];\n    for (let y = 0; y <= matrix.height; y++) {\n        let length = 0;\n        let lastBit = false;\n        let scans = [0, 0, 0, 0, 0];\n        for (let x = -1; x <= matrix.width; x++) {\n            const v = matrix.get(x, y);\n            if (v === lastBit) {\n                length++;\n            }\n            else {\n                scans = [scans[1], scans[2], scans[3], scans[4], length];\n                length = 1;\n                lastBit = v;\n                // Do the last 5 color changes ~ match the expected ratio for a finder pattern? 1:1:3:1:1 of b:w:b:w:b\n                const averageFinderPatternBlocksize = sum(scans) / 7;\n                const validFinderPattern = Math.abs(scans[0] - averageFinderPatternBlocksize) < averageFinderPatternBlocksize &&\n                    Math.abs(scans[1] - averageFinderPatternBlocksize) < averageFinderPatternBlocksize &&\n                    Math.abs(scans[2] - 3 * averageFinderPatternBlocksize) < 3 * averageFinderPatternBlocksize &&\n                    Math.abs(scans[3] - averageFinderPatternBlocksize) < averageFinderPatternBlocksize &&\n                    Math.abs(scans[4] - averageFinderPatternBlocksize) < averageFinderPatternBlocksize &&\n                    !v; // And make sure the current pixel is white since finder patterns are bordered in white\n                // Do the last 3 color changes ~ match the expected ratio for an alignment pattern? 1:1:1 of w:b:w\n                const averageAlignmentPatternBlocksize = sum(scans.slice(-3)) / 3;\n                const validAlignmentPattern = Math.abs(scans[2] - averageAlignmentPatternBlocksize) < averageAlignmentPatternBlocksize &&\n                    Math.abs(scans[3] - averageAlignmentPatternBlocksize) < averageAlignmentPatternBlocksize &&\n                    Math.abs(scans[4] - averageAlignmentPatternBlocksize) < averageAlignmentPatternBlocksize &&\n                    v; // Is the current pixel black since alignment patterns are bordered in black\n                if (validFinderPattern) {\n                    // Compute the start and end x values of the large center black square\n                    const endX = x - scans[3] - scans[4];\n                    const startX = endX - scans[2];\n                    const line = { startX, endX, y };\n                    // Is there a quad directly above the current spot? If so, extend it with the new line. Otherwise, create a new quad with\n                    // that line as the starting point.\n                    const matchingQuads = activeFinderPatternQuads.filter(q => (startX >= q.bottom.startX && startX <= q.bottom.endX) ||\n                        (endX >= q.bottom.startX && startX <= q.bottom.endX) ||\n                        (startX <= q.bottom.startX && endX >= q.bottom.endX && ((scans[2] / (q.bottom.endX - q.bottom.startX)) < MAX_QUAD_RATIO &&\n                            (scans[2] / (q.bottom.endX - q.bottom.startX)) > MIN_QUAD_RATIO)));\n                    if (matchingQuads.length > 0) {\n                        matchingQuads[0].bottom = line;\n                    }\n                    else {\n                        activeFinderPatternQuads.push({ top: line, bottom: line });\n                    }\n                }\n                if (validAlignmentPattern) {\n                    // Compute the start and end x values of the center black square\n                    const endX = x - scans[4];\n                    const startX = endX - scans[3];\n                    const line = { startX, y, endX };\n                    // Is there a quad directly above the current spot? If so, extend it with the new line. Otherwise, create a new quad with\n                    // that line as the starting point.\n                    const matchingQuads = activeAlignmentPatternQuads.filter(q => (startX >= q.bottom.startX && startX <= q.bottom.endX) ||\n                        (endX >= q.bottom.startX && startX <= q.bottom.endX) ||\n                        (startX <= q.bottom.startX && endX >= q.bottom.endX && ((scans[2] / (q.bottom.endX - q.bottom.startX)) < MAX_QUAD_RATIO &&\n                            (scans[2] / (q.bottom.endX - q.bottom.startX)) > MIN_QUAD_RATIO)));\n                    if (matchingQuads.length > 0) {\n                        matchingQuads[0].bottom = line;\n                    }\n                    else {\n                        activeAlignmentPatternQuads.push({ top: line, bottom: line });\n                    }\n                }\n            }\n        }\n        finderPatternQuads.push(...activeFinderPatternQuads.filter(q => q.bottom.y !== y && q.bottom.y - q.top.y >= 2));\n        activeFinderPatternQuads = activeFinderPatternQuads.filter(q => q.bottom.y === y);\n        alignmentPatternQuads.push(...activeAlignmentPatternQuads.filter(q => q.bottom.y !== y));\n        activeAlignmentPatternQuads = activeAlignmentPatternQuads.filter(q => q.bottom.y === y);\n    }\n    finderPatternQuads.push(...activeFinderPatternQuads.filter(q => q.bottom.y - q.top.y >= 2));\n    alignmentPatternQuads.push(...activeAlignmentPatternQuads);\n    const finderPatternGroups = finderPatternQuads\n        .filter(q => q.bottom.y - q.top.y >= 2) // All quads must be at least 2px tall since the center square is larger than a block\n        .map(q => {\n        const x = (q.top.startX + q.top.endX + q.bottom.startX + q.bottom.endX) / 4;\n        const y = (q.top.y + q.bottom.y + 1) / 2;\n        if (!matrix.get(Math.round(x), Math.round(y))) {\n            return;\n        }\n        const lengths = [q.top.endX - q.top.startX, q.bottom.endX - q.bottom.startX, q.bottom.y - q.top.y + 1];\n        const size = sum(lengths) / lengths.length;\n        const score = scorePattern({ x: Math.round(x), y: Math.round(y) }, [1, 1, 3, 1, 1], matrix);\n        return { score, x, y, size };\n    })\n        .filter(q => !!q) // Filter out any rejected quads from above\n        .sort((a, b) => a.score - b.score)\n        // Now take the top finder pattern options and try to find 2 other options with a similar size.\n        .map((point, i, finderPatterns) => {\n        if (i > MAX_FINDERPATTERNS_TO_SEARCH) {\n            return null;\n        }\n        const otherPoints = finderPatterns\n            .filter((p, ii) => i !== ii)\n            .map(p => ({ x: p.x, y: p.y, score: p.score + (Math.pow((p.size - point.size), 2)) / point.size, size: p.size }))\n            .sort((a, b) => a.score - b.score);\n        if (otherPoints.length < 2) {\n            return null;\n        }\n        const score = point.score + otherPoints[0].score + otherPoints[1].score;\n        return { points: [point].concat(otherPoints.slice(0, 2)), score };\n    })\n        .filter(q => !!q) // Filter out any rejected finder patterns from above\n        .sort((a, b) => a.score - b.score);\n    if (finderPatternGroups.length === 0) {\n        return null;\n    }\n    const { topRight, topLeft, bottomLeft } = reorderFinderPatterns(finderPatternGroups[0].points[0], finderPatternGroups[0].points[1], finderPatternGroups[0].points[2]);\n    // Now that we've found the three finder patterns we can determine the blockSize and the size of the QR code.\n    // We'll use these to help find the alignment pattern but also later when we do the extraction.\n    let dimension;\n    let moduleSize;\n    try {\n        ({ dimension, moduleSize } = computeDimension(topLeft, topRight, bottomLeft, matrix));\n    }\n    catch (e) {\n        return null;\n    }\n    // Now find the alignment pattern\n    const bottomRightFinderPattern = {\n        x: topRight.x - topLeft.x + bottomLeft.x,\n        y: topRight.y - topLeft.y + bottomLeft.y,\n    };\n    const modulesBetweenFinderPatterns = ((distance(topLeft, bottomLeft) + distance(topLeft, topRight)) / 2 / moduleSize);\n    const correctionToTopLeft = 1 - (3 / modulesBetweenFinderPatterns);\n    const expectedAlignmentPattern = {\n        x: topLeft.x + correctionToTopLeft * (bottomRightFinderPattern.x - topLeft.x),\n        y: topLeft.y + correctionToTopLeft * (bottomRightFinderPattern.y - topLeft.y),\n    };\n    const alignmentPatterns = alignmentPatternQuads\n        .map(q => {\n        const x = (q.top.startX + q.top.endX + q.bottom.startX + q.bottom.endX) / 4;\n        const y = (q.top.y + q.bottom.y + 1) / 2;\n        if (!matrix.get(Math.floor(x), Math.floor(y))) {\n            return;\n        }\n        const lengths = [q.top.endX - q.top.startX, q.bottom.endX - q.bottom.startX, (q.bottom.y - q.top.y + 1)];\n        const size = sum(lengths) / lengths.length;\n        const sizeScore = scorePattern({ x: Math.floor(x), y: Math.floor(y) }, [1, 1, 1], matrix);\n        const score = sizeScore + distance({ x, y }, expectedAlignmentPattern);\n        return { x, y, score };\n    })\n        .filter(v => !!v)\n        .sort((a, b) => a.score - b.score);\n    // If there are less than 15 modules between finder patterns it's a version 1 QR code and as such has no alignmemnt pattern\n    // so we can only use our best guess.\n    const alignmentPattern = modulesBetweenFinderPatterns >= 15 && alignmentPatterns.length ? alignmentPatterns[0] : expectedAlignmentPattern;\n    return {\n        alignmentPattern: { x: alignmentPattern.x, y: alignmentPattern.y },\n        bottomLeft: { x: bottomLeft.x, y: bottomLeft.y },\n        dimension,\n        topLeft: { x: topLeft.x, y: topLeft.y },\n        topRight: { x: topRight.x, y: topRight.y },\n    };\n}\n\nfunction scan(matrix) {\n    const location = locate(matrix);\n    if (!location) {\n        return null;\n    }\n    const extracted = extract(matrix, location);\n    const decoded = decode$2(extracted.matrix);\n    if (!decoded) {\n        return null;\n    }\n    return {\n        binaryData: decoded.bytes,\n        data: decoded.text,\n        chunks: decoded.chunks,\n        location: {\n            topRightCorner: extracted.mappingFunction(location.dimension, 0),\n            topLeftCorner: extracted.mappingFunction(0, 0),\n            bottomRightCorner: extracted.mappingFunction(location.dimension, location.dimension),\n            bottomLeftCorner: extracted.mappingFunction(0, location.dimension),\n            topRightFinderPattern: location.topRight,\n            topLeftFinderPattern: location.topLeft,\n            bottomLeftFinderPattern: location.bottomLeft,\n            bottomRightAlignmentPattern: location.alignmentPattern,\n        },\n    };\n}\nconst defaultOptions = {\n    inversionAttempts: \"attemptBoth\",\n    greyScaleWeights: {\n        red: 0.2126,\n        green: 0.7152,\n        blue: 0.0722,\n        useIntegerApproximation: false,\n    },\n    canOverwriteImage: true,\n};\nfunction mergeObject(target, src) {\n    Object.keys(src).forEach(opt => {\n        target[opt] = src[opt];\n    });\n}\nfunction jsQR(data, width, height, providedOptions = {}) {\n    const options = Object.create(null);\n    mergeObject(options, defaultOptions);\n    mergeObject(options, providedOptions);\n    const shouldInvert = options.inversionAttempts === \"attemptBoth\" || options.inversionAttempts === \"invertFirst\";\n    const tryInvertedFirst = options.inversionAttempts === \"onlyInvert\" || options.inversionAttempts === \"invertFirst\";\n    const { binarized, inverted } = binarize(data, width, height, shouldInvert, options.greyScaleWeights, options.canOverwriteImage);\n    let result = scan(tryInvertedFirst ? inverted : binarized);\n    if (!result && (options.inversionAttempts === \"attemptBoth\" || options.inversionAttempts === \"invertFirst\")) {\n        result = scan(tryInvertedFirst ? binarized : inverted);\n    }\n    return result;\n}\njsQR.default = jsQR;\n\nexport default jsQR;\n//# sourceMappingURL=jsQR.js.map\n","// Generated by BUCKLESCRIPT VERSION 5.0.2, PLEASE EDIT WITH CARE\n\nimport * as JsqrEs6 from \"jsqr-es6\";\nimport * as Caml_option from \"../node_modules/bs-platform/lib/es6/caml_option.js\";\n\nfunction string_of_invertOptions(param) {\n  switch (param) {\n    case 0 : \n        return \"attemptBoth\";\n    case 1 : \n        return \"dontInvert\";\n    case 2 : \n        return \"onlyInvert\";\n    case 3 : \n        return \"invertFirst\";\n    \n  }\n}\n\nfunction jsQR(d, w, h, invertOptions) {\n  var optString = string_of_invertOptions(invertOptions);\n  return Caml_option.nullable_to_opt(JsqrEs6.default(d, w, h, {\n                  inversionAttempts: optString,\n                  canOverwriteImage: true\n                }));\n}\n\nvar defaultInversion = /* InvertFirst */3;\n\nexport {\n  string_of_invertOptions ,\n  defaultInversion ,\n  jsQR ,\n  \n}\n/* jsqr-es6 Not a pure module */\n","\n\nimport * as Curry from \"./curry.js\";\nimport * as Js_math from \"./js_math.js\";\nimport * as Caml_option from \"./caml_option.js\";\nimport * as Caml_primitive from \"./caml_primitive.js\";\n\nfunction get(arr, i) {\n  if (i >= 0 && i < arr.length) {\n    return Caml_option.some(arr[i]);\n  }\n  \n}\n\nfunction getExn(arr, i) {\n  if (!(i >= 0 && i < arr.length)) {\n    throw new Error(\"File \\\"belt_Array.ml\\\", line 25, characters 6-12\");\n  }\n  return arr[i];\n}\n\nfunction set(arr, i, v) {\n  if (i >= 0 && i < arr.length) {\n    arr[i] = v;\n    return true;\n  } else {\n    return false;\n  }\n}\n\nfunction setExn(arr, i, v) {\n  if (!(i >= 0 && i < arr.length)) {\n    throw new Error(\"File \\\"belt_Array.ml\\\", line 31, characters 4-10\");\n  }\n  arr[i] = v;\n  return /* () */0;\n}\n\nfunction swapUnsafe(xs, i, j) {\n  var tmp = xs[i];\n  xs[i] = xs[j];\n  xs[j] = tmp;\n  return /* () */0;\n}\n\nfunction shuffleInPlace(xs) {\n  var len = xs.length;\n  for(var i = 0 ,i_finish = len - 1 | 0; i <= i_finish; ++i){\n    swapUnsafe(xs, i, Js_math.random_int(i, len));\n  }\n  return /* () */0;\n}\n\nfunction shuffle(xs) {\n  var result = xs.slice(0);\n  shuffleInPlace(result);\n  return result;\n}\n\nfunction reverseInPlace(xs) {\n  var len = xs.length;\n  var xs$1 = xs;\n  var ofs = 0;\n  var len$1 = len;\n  for(var i = 0 ,i_finish = (len$1 / 2 | 0) - 1 | 0; i <= i_finish; ++i){\n    swapUnsafe(xs$1, ofs + i | 0, ((ofs + len$1 | 0) - i | 0) - 1 | 0);\n  }\n  return /* () */0;\n}\n\nfunction reverse(xs) {\n  var len = xs.length;\n  var result = new Array(len);\n  for(var i = 0 ,i_finish = len - 1 | 0; i <= i_finish; ++i){\n    result[i] = xs[(len - 1 | 0) - i | 0];\n  }\n  return result;\n}\n\nfunction make(l, f) {\n  if (l <= 0) {\n    return /* array */[];\n  } else {\n    var res = new Array(l);\n    for(var i = 0 ,i_finish = l - 1 | 0; i <= i_finish; ++i){\n      res[i] = f;\n    }\n    return res;\n  }\n}\n\nfunction makeByU(l, f) {\n  if (l <= 0) {\n    return /* array */[];\n  } else {\n    var res = new Array(l);\n    for(var i = 0 ,i_finish = l - 1 | 0; i <= i_finish; ++i){\n      res[i] = f(i);\n    }\n    return res;\n  }\n}\n\nfunction makeBy(l, f) {\n  return makeByU(l, Curry.__1(f));\n}\n\nfunction makeByAndShuffleU(l, f) {\n  var u = makeByU(l, f);\n  shuffleInPlace(u);\n  return u;\n}\n\nfunction makeByAndShuffle(l, f) {\n  return makeByAndShuffleU(l, Curry.__1(f));\n}\n\nfunction range(start, finish) {\n  var cut = finish - start | 0;\n  if (cut < 0) {\n    return /* array */[];\n  } else {\n    var arr = new Array(cut + 1 | 0);\n    for(var i = 0; i <= cut; ++i){\n      arr[i] = start + i | 0;\n    }\n    return arr;\n  }\n}\n\nfunction rangeBy(start, finish, step) {\n  var cut = finish - start | 0;\n  if (cut < 0 || step <= 0) {\n    return /* array */[];\n  } else {\n    var nb = (cut / step | 0) + 1 | 0;\n    var arr = new Array(nb);\n    var cur = start;\n    for(var i = 0 ,i_finish = nb - 1 | 0; i <= i_finish; ++i){\n      arr[i] = cur;\n      cur = cur + step | 0;\n    }\n    return arr;\n  }\n}\n\nfunction zip(xs, ys) {\n  var lenx = xs.length;\n  var leny = ys.length;\n  var len = lenx < leny ? lenx : leny;\n  var s = new Array(len);\n  for(var i = 0 ,i_finish = len - 1 | 0; i <= i_finish; ++i){\n    s[i] = /* tuple */[\n      xs[i],\n      ys[i]\n    ];\n  }\n  return s;\n}\n\nfunction zipByU(xs, ys, f) {\n  var lenx = xs.length;\n  var leny = ys.length;\n  var len = lenx < leny ? lenx : leny;\n  var s = new Array(len);\n  for(var i = 0 ,i_finish = len - 1 | 0; i <= i_finish; ++i){\n    s[i] = f(xs[i], ys[i]);\n  }\n  return s;\n}\n\nfunction zipBy(xs, ys, f) {\n  return zipByU(xs, ys, Curry.__2(f));\n}\n\nfunction concat(a1, a2) {\n  var l1 = a1.length;\n  var l2 = a2.length;\n  var a1a2 = new Array(l1 + l2 | 0);\n  for(var i = 0 ,i_finish = l1 - 1 | 0; i <= i_finish; ++i){\n    a1a2[i] = a1[i];\n  }\n  for(var i$1 = 0 ,i_finish$1 = l2 - 1 | 0; i$1 <= i_finish$1; ++i$1){\n    a1a2[l1 + i$1 | 0] = a2[i$1];\n  }\n  return a1a2;\n}\n\nfunction concatMany(arrs) {\n  var lenArrs = arrs.length;\n  var totalLen = 0;\n  for(var i = 0 ,i_finish = lenArrs - 1 | 0; i <= i_finish; ++i){\n    totalLen = totalLen + arrs[i].length | 0;\n  }\n  var result = new Array(totalLen);\n  totalLen = 0;\n  for(var j = 0 ,j_finish = lenArrs - 1 | 0; j <= j_finish; ++j){\n    var cur = arrs[j];\n    for(var k = 0 ,k_finish = cur.length - 1 | 0; k <= k_finish; ++k){\n      result[totalLen] = cur[k];\n      totalLen = totalLen + 1 | 0;\n    }\n  }\n  return result;\n}\n\nfunction slice(a, offset, len) {\n  if (len <= 0) {\n    return /* array */[];\n  } else {\n    var lena = a.length;\n    var ofs = offset < 0 ? Caml_primitive.caml_int_max(lena + offset | 0, 0) : offset;\n    var hasLen = lena - ofs | 0;\n    var copyLength = hasLen < len ? hasLen : len;\n    if (copyLength <= 0) {\n      return /* array */[];\n    } else {\n      var result = new Array(copyLength);\n      for(var i = 0 ,i_finish = copyLength - 1 | 0; i <= i_finish; ++i){\n        result[i] = a[ofs + i | 0];\n      }\n      return result;\n    }\n  }\n}\n\nfunction sliceToEnd(a, offset) {\n  var lena = a.length;\n  var ofs = offset < 0 ? Caml_primitive.caml_int_max(lena + offset | 0, 0) : offset;\n  var len = lena - ofs | 0;\n  var result = new Array(len);\n  for(var i = 0 ,i_finish = len - 1 | 0; i <= i_finish; ++i){\n    result[i] = a[ofs + i | 0];\n  }\n  return result;\n}\n\nfunction fill(a, offset, len, v) {\n  if (len > 0) {\n    var lena = a.length;\n    var ofs = offset < 0 ? Caml_primitive.caml_int_max(lena + offset | 0, 0) : offset;\n    var hasLen = lena - ofs | 0;\n    var fillLength = hasLen < len ? hasLen : len;\n    if (fillLength > 0) {\n      for(var i = ofs ,i_finish = (ofs + fillLength | 0) - 1 | 0; i <= i_finish; ++i){\n        a[i] = v;\n      }\n      return /* () */0;\n    } else {\n      return 0;\n    }\n  } else {\n    return 0;\n  }\n}\n\nfunction blitUnsafe(a1, srcofs1, a2, srcofs2, blitLength) {\n  if (srcofs2 <= srcofs1) {\n    for(var j = 0 ,j_finish = blitLength - 1 | 0; j <= j_finish; ++j){\n      a2[j + srcofs2 | 0] = a1[j + srcofs1 | 0];\n    }\n    return /* () */0;\n  } else {\n    for(var j$1 = blitLength - 1 | 0; j$1 >= 0; --j$1){\n      a2[j$1 + srcofs2 | 0] = a1[j$1 + srcofs1 | 0];\n    }\n    return /* () */0;\n  }\n}\n\nfunction blit(a1, ofs1, a2, ofs2, len) {\n  var lena1 = a1.length;\n  var lena2 = a2.length;\n  var srcofs1 = ofs1 < 0 ? Caml_primitive.caml_int_max(lena1 + ofs1 | 0, 0) : ofs1;\n  var srcofs2 = ofs2 < 0 ? Caml_primitive.caml_int_max(lena2 + ofs2 | 0, 0) : ofs2;\n  var blitLength = Caml_primitive.caml_int_min(len, Caml_primitive.caml_int_min(lena1 - srcofs1 | 0, lena2 - srcofs2 | 0));\n  if (srcofs2 <= srcofs1) {\n    for(var j = 0 ,j_finish = blitLength - 1 | 0; j <= j_finish; ++j){\n      a2[j + srcofs2 | 0] = a1[j + srcofs1 | 0];\n    }\n    return /* () */0;\n  } else {\n    for(var j$1 = blitLength - 1 | 0; j$1 >= 0; --j$1){\n      a2[j$1 + srcofs2 | 0] = a1[j$1 + srcofs1 | 0];\n    }\n    return /* () */0;\n  }\n}\n\nfunction forEachU(a, f) {\n  for(var i = 0 ,i_finish = a.length - 1 | 0; i <= i_finish; ++i){\n    f(a[i]);\n  }\n  return /* () */0;\n}\n\nfunction forEach(a, f) {\n  return forEachU(a, Curry.__1(f));\n}\n\nfunction mapU(a, f) {\n  var l = a.length;\n  var r = new Array(l);\n  for(var i = 0 ,i_finish = l - 1 | 0; i <= i_finish; ++i){\n    r[i] = f(a[i]);\n  }\n  return r;\n}\n\nfunction map(a, f) {\n  return mapU(a, Curry.__1(f));\n}\n\nfunction getByU(a, p) {\n  var l = a.length;\n  var i = 0;\n  var r = undefined;\n  while(r === undefined && i < l) {\n    var v = a[i];\n    if (p(v)) {\n      r = Caml_option.some(v);\n    }\n    i = i + 1 | 0;\n  };\n  return r;\n}\n\nfunction getBy(a, p) {\n  return getByU(a, Curry.__1(p));\n}\n\nfunction getIndexByU(a, p) {\n  var l = a.length;\n  var i = 0;\n  var r = undefined;\n  while(r === undefined && i < l) {\n    var v = a[i];\n    if (p(v)) {\n      r = i;\n    }\n    i = i + 1 | 0;\n  };\n  return r;\n}\n\nfunction getIndexBy(a, p) {\n  return getIndexByU(a, Curry.__1(p));\n}\n\nfunction keepU(a, f) {\n  var l = a.length;\n  var r = new Array(l);\n  var j = 0;\n  for(var i = 0 ,i_finish = l - 1 | 0; i <= i_finish; ++i){\n    var v = a[i];\n    if (f(v)) {\n      r[j] = v;\n      j = j + 1 | 0;\n    }\n    \n  }\n  r.length = j;\n  return r;\n}\n\nfunction keep(a, f) {\n  return keepU(a, Curry.__1(f));\n}\n\nfunction keepWithIndexU(a, f) {\n  var l = a.length;\n  var r = new Array(l);\n  var j = 0;\n  for(var i = 0 ,i_finish = l - 1 | 0; i <= i_finish; ++i){\n    var v = a[i];\n    if (f(v, i)) {\n      r[j] = v;\n      j = j + 1 | 0;\n    }\n    \n  }\n  r.length = j;\n  return r;\n}\n\nfunction keepWithIndex(a, f) {\n  return keepWithIndexU(a, Curry.__2(f));\n}\n\nfunction keepMapU(a, f) {\n  var l = a.length;\n  var r = new Array(l);\n  var j = 0;\n  for(var i = 0 ,i_finish = l - 1 | 0; i <= i_finish; ++i){\n    var v = a[i];\n    var match = f(v);\n    if (match !== undefined) {\n      r[j] = Caml_option.valFromOption(match);\n      j = j + 1 | 0;\n    }\n    \n  }\n  r.length = j;\n  return r;\n}\n\nfunction keepMap(a, f) {\n  return keepMapU(a, Curry.__1(f));\n}\n\nfunction forEachWithIndexU(a, f) {\n  for(var i = 0 ,i_finish = a.length - 1 | 0; i <= i_finish; ++i){\n    f(i, a[i]);\n  }\n  return /* () */0;\n}\n\nfunction forEachWithIndex(a, f) {\n  return forEachWithIndexU(a, Curry.__2(f));\n}\n\nfunction mapWithIndexU(a, f) {\n  var l = a.length;\n  var r = new Array(l);\n  for(var i = 0 ,i_finish = l - 1 | 0; i <= i_finish; ++i){\n    r[i] = f(i, a[i]);\n  }\n  return r;\n}\n\nfunction mapWithIndex(a, f) {\n  return mapWithIndexU(a, Curry.__2(f));\n}\n\nfunction reduceU(a, x, f) {\n  var r = x;\n  for(var i = 0 ,i_finish = a.length - 1 | 0; i <= i_finish; ++i){\n    r = f(r, a[i]);\n  }\n  return r;\n}\n\nfunction reduce(a, x, f) {\n  return reduceU(a, x, Curry.__2(f));\n}\n\nfunction reduceReverseU(a, x, f) {\n  var r = x;\n  for(var i = a.length - 1 | 0; i >= 0; --i){\n    r = f(r, a[i]);\n  }\n  return r;\n}\n\nfunction reduceReverse(a, x, f) {\n  return reduceReverseU(a, x, Curry.__2(f));\n}\n\nfunction reduceReverse2U(a, b, x, f) {\n  var r = x;\n  var len = Caml_primitive.caml_int_min(a.length, b.length);\n  for(var i = len - 1 | 0; i >= 0; --i){\n    r = f(r, a[i], b[i]);\n  }\n  return r;\n}\n\nfunction reduceReverse2(a, b, x, f) {\n  return reduceReverse2U(a, b, x, Curry.__3(f));\n}\n\nfunction reduceWithIndexU(a, x, f) {\n  var r = x;\n  for(var i = 0 ,i_finish = a.length - 1 | 0; i <= i_finish; ++i){\n    r = f(r, a[i], i);\n  }\n  return r;\n}\n\nfunction reduceWithIndex(a, x, f) {\n  return reduceWithIndexU(a, x, Curry.__3(f));\n}\n\nfunction everyU(arr, b) {\n  var len = arr.length;\n  var arr$1 = arr;\n  var _i = 0;\n  var b$1 = b;\n  var len$1 = len;\n  while(true) {\n    var i = _i;\n    if (i === len$1) {\n      return true;\n    } else if (b$1(arr$1[i])) {\n      _i = i + 1 | 0;\n      continue ;\n    } else {\n      return false;\n    }\n  };\n}\n\nfunction every(arr, f) {\n  return everyU(arr, Curry.__1(f));\n}\n\nfunction someU(arr, b) {\n  var len = arr.length;\n  var arr$1 = arr;\n  var _i = 0;\n  var b$1 = b;\n  var len$1 = len;\n  while(true) {\n    var i = _i;\n    if (i === len$1) {\n      return false;\n    } else if (b$1(arr$1[i])) {\n      return true;\n    } else {\n      _i = i + 1 | 0;\n      continue ;\n    }\n  };\n}\n\nfunction some(arr, f) {\n  return someU(arr, Curry.__1(f));\n}\n\nfunction everyAux2(arr1, arr2, _i, b, len) {\n  while(true) {\n    var i = _i;\n    if (i === len) {\n      return true;\n    } else if (b(arr1[i], arr2[i])) {\n      _i = i + 1 | 0;\n      continue ;\n    } else {\n      return false;\n    }\n  };\n}\n\nfunction every2U(a, b, p) {\n  return everyAux2(a, b, 0, p, Caml_primitive.caml_int_min(a.length, b.length));\n}\n\nfunction every2(a, b, p) {\n  return every2U(a, b, Curry.__2(p));\n}\n\nfunction some2U(a, b, p) {\n  var arr1 = a;\n  var arr2 = b;\n  var _i = 0;\n  var b$1 = p;\n  var len = Caml_primitive.caml_int_min(a.length, b.length);\n  while(true) {\n    var i = _i;\n    if (i === len) {\n      return false;\n    } else if (b$1(arr1[i], arr2[i])) {\n      return true;\n    } else {\n      _i = i + 1 | 0;\n      continue ;\n    }\n  };\n}\n\nfunction some2(a, b, p) {\n  return some2U(a, b, Curry.__2(p));\n}\n\nfunction eqU(a, b, p) {\n  var lena = a.length;\n  var lenb = b.length;\n  if (lena === lenb) {\n    return everyAux2(a, b, 0, p, lena);\n  } else {\n    return false;\n  }\n}\n\nfunction eq(a, b, p) {\n  return eqU(a, b, Curry.__2(p));\n}\n\nfunction cmpU(a, b, p) {\n  var lena = a.length;\n  var lenb = b.length;\n  if (lena > lenb) {\n    return 1;\n  } else if (lena < lenb) {\n    return -1;\n  } else {\n    var arr1 = a;\n    var arr2 = b;\n    var _i = 0;\n    var b$1 = p;\n    var len = lena;\n    while(true) {\n      var i = _i;\n      if (i === len) {\n        return 0;\n      } else {\n        var c = b$1(arr1[i], arr2[i]);\n        if (c === 0) {\n          _i = i + 1 | 0;\n          continue ;\n        } else {\n          return c;\n        }\n      }\n    };\n  }\n}\n\nfunction cmp(a, b, p) {\n  return cmpU(a, b, Curry.__2(p));\n}\n\nfunction partitionU(a, f) {\n  var l = a.length;\n  var i = 0;\n  var j = 0;\n  var a1 = new Array(l);\n  var a2 = new Array(l);\n  for(var ii = 0 ,ii_finish = l - 1 | 0; ii <= ii_finish; ++ii){\n    var v = a[ii];\n    if (f(v)) {\n      a1[i] = v;\n      i = i + 1 | 0;\n    } else {\n      a2[j] = v;\n      j = j + 1 | 0;\n    }\n  }\n  a1.length = i;\n  a2.length = j;\n  return /* tuple */[\n          a1,\n          a2\n        ];\n}\n\nfunction partition(a, f) {\n  return partitionU(a, Curry.__1(f));\n}\n\nfunction unzip(a) {\n  var l = a.length;\n  var a1 = new Array(l);\n  var a2 = new Array(l);\n  for(var i = 0 ,i_finish = l - 1 | 0; i <= i_finish; ++i){\n    var match = a[i];\n    a1[i] = match[0];\n    a2[i] = match[1];\n  }\n  return /* tuple */[\n          a1,\n          a2\n        ];\n}\n\nexport {\n  get ,\n  getExn ,\n  set ,\n  setExn ,\n  shuffleInPlace ,\n  shuffle ,\n  reverseInPlace ,\n  reverse ,\n  make ,\n  range ,\n  rangeBy ,\n  makeByU ,\n  makeBy ,\n  makeByAndShuffleU ,\n  makeByAndShuffle ,\n  zip ,\n  zipByU ,\n  zipBy ,\n  unzip ,\n  concat ,\n  concatMany ,\n  slice ,\n  sliceToEnd ,\n  fill ,\n  blit ,\n  blitUnsafe ,\n  forEachU ,\n  forEach ,\n  mapU ,\n  map ,\n  getByU ,\n  getBy ,\n  getIndexByU ,\n  getIndexBy ,\n  keepU ,\n  keep ,\n  keepWithIndexU ,\n  keepWithIndex ,\n  keepMapU ,\n  keepMap ,\n  forEachWithIndexU ,\n  forEachWithIndex ,\n  mapWithIndexU ,\n  mapWithIndex ,\n  partitionU ,\n  partition ,\n  reduceU ,\n  reduce ,\n  reduceReverseU ,\n  reduceReverse ,\n  reduceReverse2U ,\n  reduceReverse2 ,\n  reduceWithIndexU ,\n  reduceWithIndex ,\n  someU ,\n  some ,\n  everyU ,\n  every ,\n  every2U ,\n  every2 ,\n  some2U ,\n  some2 ,\n  cmpU ,\n  cmp ,\n  eqU ,\n  eq ,\n  \n}\n/* No side effect */\n","// Generated by BUCKLESCRIPT VERSION 5.0.2, PLEASE EDIT WITH CARE\n\nimport * as Curry from \"../node_modules/bs-platform/lib/es6/curry.js\";\nimport * as Caml_option from \"../node_modules/bs-platform/lib/es6/caml_option.js\";\nimport * as JsQr$QueerLoop from \"./JsQr.bs.js\";\nimport * as Util$QueerLoop from \"./Util.bs.js\";\nimport * as Caml_js_exceptions from \"../node_modules/bs-platform/lib/es6/caml_js_exceptions.js\";\nimport * as UserMedia$QueerLoop from \"./UserMedia.bs.js\";\n\nfunction syncScan(scanCallback, imageData) {\n  var match = JsQr$QueerLoop.jsQR(imageData.data, imageData.width, imageData.height, JsQr$QueerLoop.defaultInversion);\n  if (match !== undefined) {\n    return Curry._1(scanCallback, Caml_option.valFromOption(match).data);\n  } else {\n    return /* () */0;\n  }\n}\n\nfunction scanUsingDeviceId(videoEl, deviceId, scanCallback) {\n  return UserMedia$QueerLoop.initStreamByDeviceId(videoEl, deviceId).then((function (video) {\n                var canvas = document.createElementNS(Util$QueerLoop.htmlNs, \"canvas\");\n                Util$QueerLoop.withQuerySelectorDom(\"#htmlContainer\", (function (body) {\n                        body.appendChild(canvas);\n                        return /* () */0;\n                      }));\n                var maybeWorker;\n                var exit = 0;\n                var worker;\n                try {\n                  worker = new Worker(\"worker.js\");\n                  exit = 1;\n                }\n                catch (raw_e){\n                  var e = Caml_js_exceptions.internalToOCamlException(raw_e);\n                  console.log(\"Could not initialize worker, falling back to synchronous scan.\");\n                  console.log(e);\n                  maybeWorker = undefined;\n                }\n                if (exit === 1) {\n                  maybeWorker = Caml_option.some(worker);\n                }\n                if (maybeWorker !== undefined) {\n                  var msgBackHandler = function (e) {\n                    var maybeCode = e.data;\n                    if (maybeCode !== undefined) {\n                      return Curry._1(scanCallback, Caml_option.valFromOption(maybeCode).data);\n                    } else {\n                      return /* () */0;\n                    }\n                  };\n                  Caml_option.valFromOption(maybeWorker).onmessage = msgBackHandler;\n                }\n                var frameCount = /* record */[/* contents */0];\n                var onTick = function (param) {\n                  if (video.readyState === 4) {\n                    var width = video.videoWidth;\n                    var height = video.videoHeight;\n                    if (canvas.width !== width) {\n                      canvas.width = width;\n                      canvas.height = height;\n                    }\n                    if (frameCount[0] % 5 === 0) {\n                      var ctx = canvas.getContext(\"2d\");\n                      ctx.drawImage(video, 0, 0);\n                      var imageData = ctx.getImageData(0, 0, width, height);\n                      if (maybeWorker !== undefined) {\n                        Caml_option.valFromOption(maybeWorker).postMessage(/* tuple */[\n                              imageData.data,\n                              width,\n                              height\n                            ]);\n                      } else {\n                        syncScan(scanCallback, imageData);\n                      }\n                    }\n                    \n                  }\n                  frameCount[0] = frameCount[0] + 1 | 0;\n                  requestAnimationFrame(onTick);\n                  return /* () */0;\n                };\n                requestAnimationFrame(onTick);\n                return Promise.resolve(canvas);\n              }));\n}\n\nexport {\n  syncScan ,\n  scanUsingDeviceId ,\n  \n}\n/* JsQr-QueerLoop Not a pure module */\n","// Generated by BUCKLESCRIPT VERSION 5.0.2, PLEASE EDIT WITH CARE\n\nimport * as ElementRe from \"../node_modules/bs-webapi/src/dom/nodes/ElementRe.js\";\nimport * as Belt_Array from \"../node_modules/bs-platform/lib/es6/belt_Array.js\";\nimport * as Caml_option from \"../node_modules/bs-platform/lib/es6/caml_option.js\";\n\nfunction getCameras(param) {\n  return window.navigator.mediaDevices.enumerateDevices().then((function (devices) {\n                return Promise.resolve(Belt_Array.keep(devices, (function (x) {\n                                  return x.kind === \"videoinput\";\n                                })));\n              }));\n}\n\nfunction initStreamByDeviceId(videoEl, deviceId) {\n  return window.navigator.mediaDevices.getUserMedia({\n                video: {\n                  deviceId: deviceId\n                }\n              }).then((function (stream) {\n                videoEl.srcObject = stream;\n                var match = ElementRe.asHtmlElement(videoEl);\n                if (match !== undefined) {\n                  Caml_option.valFromOption(match).setAttribute(\"playsinline\", \"true\");\n                }\n                videoEl.play();\n                return Promise.resolve(videoEl);\n              }));\n}\n\nexport {\n  getCameras ,\n  initStreamByDeviceId ,\n  \n}\n/* ElementRe Not a pure module */\n","\"use strict\";\n\n/*\n * QR Code generator library (JavaScript)\n * \n * Copyright (c) Project Nayuki. (MIT License)\n * https://www.nayuki.io/page/qr-code-generator-library\n * \n * Permission is hereby granted, free of charge, to any person obtaining a copy of\n * this software and associated documentation files (the \"Software\"), to deal in\n * the Software without restriction, including without limitation the rights to\n * use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of\n * the Software, and to permit persons to whom the Software is furnished to do so,\n * subject to the following conditions:\n * - The above copyright notice and this permission notice shall be included in\n *   all copies or substantial portions of the Software.\n * - The Software is provided \"as is\", without warranty of any kind, express or\n *   implied, including but not limited to the warranties of merchantability,\n *   fitness for a particular purpose and noninfringement. In no event shall the\n *   authors or copyright holders be liable for any claim, damages or other\n *   liability, whether in an action of contract, tort or otherwise, arising from,\n *   out of or in connection with the Software or the use or other dealings in the\n *   Software.\n */\n\n\n\n/* \n * Module \"qrcodegen\", public members:\n * - Class QrCode:\n *   - Function encodeText(str text, QrCode.Ecc ecl) -> QrCode\n *   - Function encodeBinary(list<byte> data, QrCode.Ecc ecl) -> QrCode\n *   - Function encodeSegments(list<QrSegment> segs, QrCode.Ecc ecl,\n *         int minVersion=1, int maxVersion=40, mask=-1, boostEcl=true) -> QrCode\n *   - Constants int MIN_VERSION, MAX_VERSION\n *   - Constructor QrCode(int version, QrCode.Ecc ecl, list<byte> dataCodewords, int mask)\n *   - Fields int version, size, mask\n *   - Field QrCode.Ecc errorCorrectionLevel\n *   - Method getModule(int x, int y) -> bool\n *   - Method drawCanvas(int scale, int border, HTMLCanvasElement canvas) -> void\n *   - Method toSvgString(int border) -> str\n *   - Enum Ecc:\n *     - Constants LOW, MEDIUM, QUARTILE, HIGH\n *     - Field int ordinal\n * - Class QrSegment:\n *   - Function makeBytes(list<byte> data) -> QrSegment\n *   - Function makeNumeric(str data) -> QrSegment\n *   - Function makeAlphanumeric(str data) -> QrSegment\n *   - Function makeSegments(str text) -> list<QrSegment>\n *   - Function makeEci(int assignVal) -> QrSegment\n *   - Constructor QrSegment(QrSegment.Mode mode, int numChars, list<int> bitData)\n *   - Field QrSegment.Mode mode\n *   - Field int numChars\n *   - Method getData() -> list<int>\n *   - Constants RegExp NUMERIC_REGEX, ALPHANUMERIC_REGEX\n *   - Enum Mode:\n *     - Constants NUMERIC, ALPHANUMERIC, BYTE, KANJI, ECI\n */\nvar qrcodegen = new function() {\n\t\n\t/*---- QR Code symbol class ----*/\n\t\n\t/* \n\t * A class that represents a QR Code symbol, which is a type of two-dimension barcode.\n\t * Invented by Denso Wave and described in the ISO/IEC 18004 standard.\n\t * Instances of this class represent an immutable square grid of black and white cells.\n\t * The class provides static factory functions to create a QR Code from text or binary data.\n\t * The class covers the QR Code Model 2 specification, supporting all versions (sizes)\n\t * from 1 to 40, all 4 error correction levels, and 4 character encoding modes.\n\t * \n\t * Ways to create a QR Code object:\n\t * - High level: Take the payload data and call QrCode.encodeText() or QrCode.encodeBinary().\n\t * - Mid level: Custom-make the list of segments and call QrCode.encodeSegments().\n\t * - Low level: Custom-make the array of data codeword bytes (including\n\t *   segment headers and final padding, excluding error correction codewords),\n\t *   supply the appropriate version number, and call the QrCode() constructor.\n\t * (Note that all ways require supplying the desired error correction level.)\n\t * \n\t * This constructor creates a new QR Code with the given version number,\n\t * error correction level, data codeword bytes, and mask number.\n\t * This is a low-level API that most users should not use directly.\n\t * A mid-level API is the encodeSegments() function.\n\t */\n\tthis.QrCode = function(version, errCorLvl, dataCodewords, mask) {\n\t\t\n\t\t/*---- Constructor (low level) ----*/\n\t\t\n\t\t// Check scalar arguments\n\t\tif (version < MIN_VERSION || version > MAX_VERSION)\n\t\t\tthrow \"Version value out of range\";\n\t\tif (mask < -1 || mask > 7)\n\t\t\tthrow \"Mask value out of range\";\n\t\tif (!(errCorLvl instanceof Ecc))\n\t\t\tthrow \"QrCode.Ecc expected\";\n\t\tvar size = version * 4 + 17;\n\t\t\n\t\t// Initialize both grids to be size*size arrays of Boolean false\n\t\tvar row = [];\n\t\tfor (var i = 0; i < size; i++)\n\t\t\trow.push(false);\n\t\tvar modules    = [];  // Initially all white\n\t\tvar isFunction = [];\n\t\tfor (var i = 0; i < size; i++) {\n\t\t\tmodules   .push(row.slice());\n\t\t\tisFunction.push(row.slice());\n\t\t}\n\t\t\n\t\t// Compute ECC, draw modules\n\t\tdrawFunctionPatterns();\n\t\tvar allCodewords = addEccAndInterleave(dataCodewords);\n\t\tdrawCodewords(allCodewords);\n\t\t\n\t\t// Do masking\n\t\tif (mask == -1) {  // Automatically choose best mask\n\t\t\tvar minPenalty = Infinity;\n\t\t\tfor (var i = 0; i < 8; i++) {\n\t\t\t\tapplyMask(i);\n\t\t\t\tdrawFormatBits(i);\n\t\t\t\tvar penalty = getPenaltyScore();\n\t\t\t\tif (penalty < minPenalty) {\n\t\t\t\t\tmask = i;\n\t\t\t\t\tminPenalty = penalty;\n\t\t\t\t}\n\t\t\t\tapplyMask(i);  // Undoes the mask due to XOR\n\t\t\t}\n\t\t}\n\t\tif (mask < 0 || mask > 7)\n\t\t\tthrow \"Assertion error\";\n\t\tapplyMask(mask);  // Apply the final choice of mask\n\t\tdrawFormatBits(mask);  // Overwrite old format bits\n\t\t\n\t\tisFunction = null;\n\t\t\n\t\t\n\t\t/*---- Read-only instance properties ----*/\n\t\t\n\t\t// The version number of this QR Code, which is between 1 and 40 (inclusive).\n\t\t// This determines the size of this barcode.\n\t\tObject.defineProperty(this, \"version\", {value:version});\n\t\t\n\t\t// The width and height of this QR Code, measured in modules, between\n\t\t// 21 and 177 (inclusive). This is equal to version * 4 + 17.\n\t\tObject.defineProperty(this, \"size\", {value:size});\n\t\t\n\t\t// The error correction level used in this QR Code.\n\t\tObject.defineProperty(this, \"errorCorrectionLevel\", {value:errCorLvl});\n\t\t\n\t\t// The index of the mask pattern used in this QR Code, which is between 0 and 7 (inclusive).\n\t\t// Even if a QR Code is created with automatic masking requested (mask = -1),\n\t\t// the resulting object still has a mask value between 0 and 7.\n\t\tObject.defineProperty(this, \"mask\", {value:mask});\n\t\t\n\t\t\n\t\t/*---- Accessor methods ----*/\n\t\t\n\t\t// Returns the color of the module (pixel) at the given coordinates, which is false\n\t\t// for white or true for black. The top left corner has the coordinates (x=0, y=0).\n\t\t// If the given coordinates are out of bounds, then false (white) is returned.\n\t\tthis.getModule = function(x, y) {\n\t\t\treturn 0 <= x && x < size && 0 <= y && y < size && modules[y][x];\n\t\t};\n\n    this.getModules = function () { return modules; }\n\t\t\n\t\t\n\t\t/*---- Public instance methods ----*/\n\t\t\n\t\t// Draws this QR Code, with the given module scale and border modules, onto the given HTML\n\t\t// canvas element. The canvas's width and height is resized to (this.size + border * 2) * scale.\n\t\t// The drawn image is be purely black and white, and fully opaque.\n\t\t// The scale must be a positive integer and the border must be a non-negative integer.\n\t\tthis.drawCanvas = function(scale, border, canvas) {\n\t\t\tif (scale <= 0 || border < 0)\n\t\t\t\tthrow \"Value out of range\";\n\t\t\tvar width = (size + border * 2) * scale;\n      if (canvas.width != width) {\n          canvas.width = width;\n          canvas.height = width;\n      };\n      var ctx = canvas.getContext(\"2d\");\n\t\t\tfor (var y = -border; y < size + border; y++) {\n\t\t\t\tfor (var x = -border; x < size + border; x++) {\n\t\t\t\t\tctx.fillStyle = this.getModule(x, y) ? \"#000000\" : \"#FFFFFF\";\n\t\t\t\t\tctx.fillRect((x + border) * scale, (y + border) * scale, scale, scale);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t\t\n\t\t// Returns a string of SVG code for an image depicting this QR Code, with the given number\n\t\t// of border modules. The string always uses Unix newlines (\\n), regardless of the platform.\n\t\tthis.toSvgString = function(border) {\n\t\t\tif (border < 0)\n\t\t\t\tthrow \"Border must be non-negative\";\n\t\t\tvar parts = [];\n\t\t\tfor (var y = 0; y < size; y++) {\n\t\t\t\tfor (var x = 0; x < size; x++) {\n\t\t\t\t\tif (this.getModule(x, y))\n\t\t\t\t\t\tparts.push(\"M\" + (x + border) + \",\" + (y + border) + \"h1v1h-1z\");\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn '<?xml version=\"1.0\" encoding=\"UTF-8\"?>\\n' +\n\t\t\t\t'<!DOCTYPE svg PUBLIC \"-//W3C//DTD SVG 1.1//EN\" \"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd\">\\n' +\n\t\t\t\t'<svg xmlns=\"http://www.w3.org/2000/svg\" version=\"1.1\" viewBox=\"0 0 ' +\n\t\t\t\t\t(size + border * 2) + ' ' + (size + border * 2) + '\" stroke=\"none\">\\n' +\n\t\t\t\t'\\t<rect width=\"100%\" height=\"100%\" fill=\"#FFFFFF\"/>\\n' +\n\t\t\t\t'\\t<path d=\"' + parts.join(\" \") + '\" fill=\"#000000\"/>\\n' +\n\t\t\t\t'</svg>\\n';\n\t\t};\n\t\t\n\t\t\n\t\t/*---- Private helper methods for constructor: Drawing function modules ----*/\n\t\t\n\t\t// Reads this object's version field, and draws and marks all function modules.\n\t\tfunction drawFunctionPatterns() {\n\t\t\t// Draw horizontal and vertical timing patterns\n\t\t\tfor (var i = 0; i < size; i++) {\n\t\t\t\tsetFunctionModule(6, i, i % 2 == 0);\n\t\t\t\tsetFunctionModule(i, 6, i % 2 == 0);\n\t\t\t}\n\t\t\t\n\t\t\t// Draw 3 finder patterns (all corners except bottom right; overwrites some timing modules)\n\t\t\tdrawFinderPattern(3, 3);\n\t\t\tdrawFinderPattern(size - 4, 3);\n\t\t\tdrawFinderPattern(3, size - 4);\n\t\t\t\n\t\t\t// Draw numerous alignment patterns\n\t\t\tvar alignPatPos = getAlignmentPatternPositions();\n\t\t\tvar numAlign = alignPatPos.length;\n\t\t\tfor (var i = 0; i < numAlign; i++) {\n\t\t\t\tfor (var j = 0; j < numAlign; j++) {\n\t\t\t\t\t// Don't draw on the three finder corners\n\t\t\t\t\tif (!(i == 0 && j == 0 || i == 0 && j == numAlign - 1 || i == numAlign - 1 && j == 0))\n\t\t\t\t\t\tdrawAlignmentPattern(alignPatPos[i], alignPatPos[j]);\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\t// Draw configuration data\n\t\t\tdrawFormatBits(0);  // Dummy mask value; overwritten later in the constructor\n\t\t\tdrawVersion();\n\t\t}\n\t\t\n\t\t\n\t\t// Draws two copies of the format bits (with its own error correction code)\n\t\t// based on the given mask and this object's error correction level field.\n\t\tfunction drawFormatBits(mask) {\n\t\t\t// Calculate error correction code and pack bits\n\t\t\tvar data = errCorLvl.formatBits << 3 | mask;  // errCorrLvl is uint2, mask is uint3\n\t\t\tvar rem = data;\n\t\t\tfor (var i = 0; i < 10; i++)\n\t\t\t\trem = (rem << 1) ^ ((rem >>> 9) * 0x537);\n\t\t\tvar bits = (data << 10 | rem) ^ 0x5412;  // uint15\n\t\t\tif (bits >>> 15 != 0)\n\t\t\t\tthrow \"Assertion error\";\n\t\t\t\n\t\t\t// Draw first copy\n\t\t\tfor (var i = 0; i <= 5; i++)\n\t\t\t\tsetFunctionModule(8, i, getBit(bits, i));\n\t\t\tsetFunctionModule(8, 7, getBit(bits, 6));\n\t\t\tsetFunctionModule(8, 8, getBit(bits, 7));\n\t\t\tsetFunctionModule(7, 8, getBit(bits, 8));\n\t\t\tfor (var i = 9; i < 15; i++)\n\t\t\t\tsetFunctionModule(14 - i, 8, getBit(bits, i));\n\t\t\t\n\t\t\t// Draw second copy\n\t\t\tfor (var i = 0; i < 8; i++)\n\t\t\t\tsetFunctionModule(size - 1 - i, 8, getBit(bits, i));\n\t\t\tfor (var i = 8; i < 15; i++)\n\t\t\t\tsetFunctionModule(8, size - 15 + i, getBit(bits, i));\n\t\t\tsetFunctionModule(8, size - 8, true);  // Always black\n\t\t}\n\t\t\n\t\t\n\t\t// Draws two copies of the version bits (with its own error correction code),\n\t\t// based on this object's version field, iff 7 <= version <= 40.\n\t\tfunction drawVersion() {\n\t\t\tif (version < 7)\n\t\t\t\treturn;\n\t\t\t\n\t\t\t// Calculate error correction code and pack bits\n\t\t\tvar rem = version;  // version is uint6, in the range [7, 40]\n\t\t\tfor (var i = 0; i < 12; i++)\n\t\t\t\trem = (rem << 1) ^ ((rem >>> 11) * 0x1F25);\n\t\t\tvar bits = version << 12 | rem;  // uint18\n\t\t\tif (bits >>> 18 != 0)\n\t\t\t\tthrow \"Assertion error\";\n\t\t\t\n\t\t\t// Draw two copies\n\t\t\tfor (var i = 0; i < 18; i++) {\n\t\t\t\tvar bit = getBit(bits, i);\n\t\t\t\tvar a = size - 11 + i % 3;\n\t\t\t\tvar b = Math.floor(i / 3);\n\t\t\t\tsetFunctionModule(a, b, bit);\n\t\t\t\tsetFunctionModule(b, a, bit);\n\t\t\t}\n\t\t}\n\t\t\n\t\t\n\t\t// Draws a 9*9 finder pattern including the border separator,\n\t\t// with the center module at (x, y). Modules can be out of bounds.\n\t\tfunction drawFinderPattern(x, y) {\n\t\t\tfor (var dy = -4; dy <= 4; dy++) {\n\t\t\t\tfor (var dx = -4; dx <= 4; dx++) {\n\t\t\t\t\tvar dist = Math.max(Math.abs(dx), Math.abs(dy));  // Chebyshev/infinity norm\n\t\t\t\t\tvar xx = x + dx, yy = y + dy;\n\t\t\t\t\tif (0 <= xx && xx < size && 0 <= yy && yy < size)\n\t\t\t\t\t\tsetFunctionModule(xx, yy, dist != 2 && dist != 4);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t\t\n\t\t// Draws a 5*5 alignment pattern, with the center module\n\t\t// at (x, y). All modules must be in bounds.\n\t\tfunction drawAlignmentPattern(x, y) {\n\t\t\tfor (var dy = -2; dy <= 2; dy++) {\n\t\t\t\tfor (var dx = -2; dx <= 2; dx++)\n\t\t\t\t\tsetFunctionModule(x + dx, y + dy, Math.max(Math.abs(dx), Math.abs(dy)) != 1);\n\t\t\t}\n\t\t}\n\t\t\n\t\t\n\t\t// Sets the color of a module and marks it as a function module.\n\t\t// Only used by the constructor. Coordinates must be in bounds.\n\t\tfunction setFunctionModule(x, y, isBlack) {\n\t\t\tmodules[y][x] = isBlack;\n\t\t\tisFunction[y][x] = true;\n\t\t}\n\t\t\n\t\t\n\t\t/*---- Private helper methods for constructor: Codewords and masking ----*/\n\t\t\n\t\t// Returns a new byte string representing the given data with the appropriate error correction\n\t\t// codewords appended to it, based on this object's version and error correction level.\n\t\tfunction addEccAndInterleave(data) {\n\t\t\tif (data.length != QrCode.getNumDataCodewords(version, errCorLvl))\n\t\t\t\tthrow \"Invalid argument\";\n\t\t\t\n\t\t\t// Calculate parameter numbers\n\t\t\tvar numBlocks = QrCode.NUM_ERROR_CORRECTION_BLOCKS[errCorLvl.ordinal][version];\n\t\t\tvar blockEccLen = QrCode.ECC_CODEWORDS_PER_BLOCK  [errCorLvl.ordinal][version];\n\t\t\tvar rawCodewords = Math.floor(QrCode.getNumRawDataModules(version) / 8);\n\t\t\tvar numShortBlocks = numBlocks - rawCodewords % numBlocks;\n\t\t\tvar shortBlockLen = Math.floor(rawCodewords / numBlocks);\n\t\t\t\n\t\t\t// Split data into blocks and append ECC to each block\n\t\t\tvar blocks = [];\n\t\t\tvar rs = new ReedSolomonGenerator(blockEccLen);\n\t\t\tfor (var i = 0, k = 0; i < numBlocks; i++) {\n\t\t\t\tvar dat = data.slice(k, k + shortBlockLen - blockEccLen + (i < numShortBlocks ? 0 : 1));\n\t\t\t\tk += dat.length;\n\t\t\t\tvar ecc = rs.getRemainder(dat);\n\t\t\t\tif (i < numShortBlocks)\n\t\t\t\t\tdat.push(0);\n\t\t\t\tblocks.push(dat.concat(ecc));\n\t\t\t}\n\t\t\t\n\t\t\t// Interleave (not concatenate) the bytes from every block into a single sequence\n\t\t\tvar result = [];\n\t\t\tfor (var i = 0; i < blocks[0].length; i++) {\n\t\t\t\tfor (var j = 0; j < blocks.length; j++) {\n\t\t\t\t\t// Skip the padding byte in short blocks\n\t\t\t\t\tif (i != shortBlockLen - blockEccLen || j >= numShortBlocks)\n\t\t\t\t\t\tresult.push(blocks[j][i]);\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (result.length != rawCodewords)\n\t\t\t\tthrow \"Assertion error\";\n\t\t\treturn result;\n\t\t}\n\t\t\n\t\t\n\t\t// Draws the given sequence of 8-bit codewords (data and error correction) onto the entire\n\t\t// data area of this QR Code. Function modules need to be marked off before this is called.\n\t\tfunction drawCodewords(data) {\n\t\t\tif (data.length != Math.floor(QrCode.getNumRawDataModules(version) / 8))\n\t\t\t\tthrow \"Invalid argument\";\n\t\t\tvar i = 0;  // Bit index into the data\n\t\t\t// Do the funny zigzag scan\n\t\t\tfor (var right = size - 1; right >= 1; right -= 2) {  // Index of right column in each column pair\n\t\t\t\tif (right == 6)\n\t\t\t\t\tright = 5;\n\t\t\t\tfor (var vert = 0; vert < size; vert++) {  // Vertical counter\n\t\t\t\t\tfor (var j = 0; j < 2; j++) {\n\t\t\t\t\t\tvar x = right - j;  // Actual x coordinate\n\t\t\t\t\t\tvar upward = ((right + 1) & 2) == 0;\n\t\t\t\t\t\tvar y = upward ? size - 1 - vert : vert;  // Actual y coordinate\n\t\t\t\t\t\tif (!isFunction[y][x] && i < data.length * 8) {\n\t\t\t\t\t\t\tmodules[y][x] = getBit(data[i >>> 3], 7 - (i & 7));\n\t\t\t\t\t\t\ti++;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// If this QR Code has any remainder bits (0 to 7), they were assigned as\n\t\t\t\t\t\t// 0/false/white by the constructor and are left unchanged by this method\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (i != data.length * 8)\n\t\t\t\tthrow \"Assertion error\";\n\t\t}\n\t\t\n\t\t\n\t\t// XORs the codeword modules in this QR Code with the given mask pattern.\n\t\t// The function modules must be marked and the codeword bits must be drawn\n\t\t// before masking. Due to the arithmetic of XOR, calling applyMask() with\n\t\t// the same mask value a second time will undo the mask. A final well-formed\n\t\t// QR Code needs exactly one (not zero, two, etc.) mask applied.\n\t\tfunction applyMask(mask) {\n\t\t\tif (mask < 0 || mask > 7)\n\t\t\t\tthrow \"Mask value out of range\";\n\t\t\tfor (var y = 0; y < size; y++) {\n\t\t\t\tfor (var x = 0; x < size; x++) {\n\t\t\t\t\tvar invert;\n\t\t\t\t\tswitch (mask) {\n\t\t\t\t\t\tcase 0:  invert = (x + y) % 2 == 0;                                  break;\n\t\t\t\t\t\tcase 1:  invert = y % 2 == 0;                                        break;\n\t\t\t\t\t\tcase 2:  invert = x % 3 == 0;                                        break;\n\t\t\t\t\t\tcase 3:  invert = (x + y) % 3 == 0;                                  break;\n\t\t\t\t\t\tcase 4:  invert = (Math.floor(x / 3) + Math.floor(y / 2)) % 2 == 0;  break;\n\t\t\t\t\t\tcase 5:  invert = x * y % 2 + x * y % 3 == 0;                        break;\n\t\t\t\t\t\tcase 6:  invert = (x * y % 2 + x * y % 3) % 2 == 0;                  break;\n\t\t\t\t\t\tcase 7:  invert = ((x + y) % 2 + x * y % 3) % 2 == 0;                break;\n\t\t\t\t\t\tdefault:  throw \"Assertion error\";\n\t\t\t\t\t}\n\t\t\t\t\tif (!isFunction[y][x] && invert)\n\t\t\t\t\t\tmodules[y][x] = !modules[y][x];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t\t\n\t\t// Calculates and returns the penalty score based on state of this QR Code's current modules.\n\t\t// This is used by the automatic mask choice algorithm to find the mask pattern that yields the lowest score.\n\t\tfunction getPenaltyScore() {\n\t\t\tvar result = 0;\n\t\t\t\n\t\t\t// Adjacent modules in row having same color, and finder-like patterns\n\t\t\tfor (var y = 0; y < size; y++) {\n\t\t\t\tvar runHistory = [0,0,0,0,0,0,0];\n\t\t\t\tvar color = false;\n\t\t\t\tvar runX = 0;\n\t\t\t\tfor (var x = 0; x < size; x++) {\n\t\t\t\t\tif (modules[y][x] == color) {\n\t\t\t\t\t\trunX++;\n\t\t\t\t\t\tif (runX == 5)\n\t\t\t\t\t\t\tresult += QrCode.PENALTY_N1;\n\t\t\t\t\t\telse if (runX > 5)\n\t\t\t\t\t\t\tresult++;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tQrCode.addRunToHistory(runX, runHistory);\n\t\t\t\t\t\tif (!color && QrCode.hasFinderLikePattern(runHistory))\n\t\t\t\t\t\t\tresult += QrCode.PENALTY_N3;\n\t\t\t\t\t\tcolor = modules[y][x];\n\t\t\t\t\t\trunX = 1;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tQrCode.addRunToHistory(runX, runHistory);\n\t\t\t\tif (color)\n\t\t\t\t\tQrCode.addRunToHistory(0, runHistory);  // Dummy run of white\n\t\t\t\tif (QrCode.hasFinderLikePattern(runHistory))\n\t\t\t\t\tresult += QrCode.PENALTY_N3;\n\t\t\t}\n\t\t\t// Adjacent modules in column having same color, and finder-like patterns\n\t\t\tfor (var x = 0; x < size; x++) {\n\t\t\t\tvar runHistory = [0,0,0,0,0,0,0];\n\t\t\t\tvar color = false;\n\t\t\t\tvar runY = 0;\n\t\t\t\tfor (var y = 0; y < size; y++) {\n\t\t\t\t\tif (modules[y][x] == color) {\n\t\t\t\t\t\trunY++;\n\t\t\t\t\t\tif (runY == 5)\n\t\t\t\t\t\t\tresult += QrCode.PENALTY_N1;\n\t\t\t\t\t\telse if (runY > 5)\n\t\t\t\t\t\t\tresult++;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tQrCode.addRunToHistory(runY, runHistory);\n\t\t\t\t\t\tif (!color && QrCode.hasFinderLikePattern(runHistory))\n\t\t\t\t\t\t\tresult += QrCode.PENALTY_N3;\n\t\t\t\t\t\tcolor = modules[y][x];\n\t\t\t\t\t\trunY = 1;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tQrCode.addRunToHistory(runY, runHistory);\n\t\t\t\tif (color)\n\t\t\t\t\tQrCode.addRunToHistory(0, runHistory);  // Dummy run of white\n\t\t\t\tif (QrCode.hasFinderLikePattern(runHistory))\n\t\t\t\t\tresult += QrCode.PENALTY_N3;\n\t\t\t}\n\t\t\t\n\t\t\t// 2*2 blocks of modules having same color\n\t\t\tfor (var y = 0; y < size - 1; y++) {\n\t\t\t\tfor (var x = 0; x < size - 1; x++) {\n\t\t\t\t\tvar   color = modules[y][x];\n\t\t\t\t\tif (  color == modules[y][x + 1] &&\n\t\t\t\t\t      color == modules[y + 1][x] &&\n\t\t\t\t\t      color == modules[y + 1][x + 1])\n\t\t\t\t\t\tresult += QrCode.PENALTY_N2;\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\t// Balance of black and white modules\n\t\t\tvar black = 0;\n\t\t\tmodules.forEach(function(row) {\n\t\t\t\trow.forEach(function(color) {\n\t\t\t\t\tif (color)\n\t\t\t\t\t\tblack++;\n\t\t\t\t});\n\t\t\t});\n\t\t\tvar total = size * size;  // Note that size is odd, so black/total != 1/2\n\t\t\t// Compute the smallest integer k >= 0 such that (45-5k)% <= black/total <= (55+5k)%\n\t\t\tvar k = Math.ceil(Math.abs(black * 20 - total * 10) / total) - 1;\n\t\t\tresult += k * QrCode.PENALTY_N4;\n\t\t\treturn result;\n\t\t}\n\t\t\n\t\t\n\t\t// Returns an ascending list of positions of alignment patterns for this version number.\n\t\t// Each position is in the range [0,177), and are used on both the x and y axes.\n\t\t// This could be implemented as lookup table of 40 variable-length lists of integers.\n\t\tfunction getAlignmentPatternPositions() {\n\t\t\tif (version == 1)\n\t\t\t\treturn [];\n\t\t\telse {\n\t\t\t\tvar numAlign = Math.floor(version / 7) + 2;\n\t\t\t\tvar step = (version == 32) ? 26 :\n\t\t\t\t\tMath.ceil((size - 13) / (numAlign*2 - 2)) * 2;\n\t\t\t\tvar result = [6];\n\t\t\t\tfor (var pos = size - 7; result.length < numAlign; pos -= step)\n\t\t\t\t\tresult.splice(1, 0, pos);\n\t\t\t\treturn result;\n\t\t\t}\n\t\t}\n\t\t\n\t\t\n\t\t// Returns true iff the i'th bit of x is set to 1.\n\t\tfunction getBit(x, i) {\n\t\t\treturn ((x >>> i) & 1) != 0;\n\t\t}\n\t};\n\t\n\t\n\t/*---- Static factory functions (high level) for QrCode ----*/\n\t\n\t/* \n\t * Returns a QR Code representing the given Unicode text string at the given error correction level.\n\t * As a conservative upper bound, this function is guaranteed to succeed for strings that have 738 or fewer\n\t * Unicode code points (not UTF-16 code units) if the low error correction level is used. The smallest possible\n\t * QR Code version is automatically chosen for the output. The ECC level of the result may be higher than the\n\t * ecl argument if it can be done without increasing the version.\n\t */\n\tthis.QrCode.encodeText = function(text, ecl) {\n\t\tvar segs = qrcodegen.QrSegment.makeSegments(text);\n\t\treturn this.encodeSegments(segs, ecl);\n\t};\n\t\n\t\n\t/* \n\t * Returns a QR Code representing the given binary data at the given error correction level.\n\t * This function always encodes using the binary segment mode, not any text mode. The maximum number of\n\t * bytes allowed is 2953. The smallest possible QR Code version is automatically chosen for the output.\n\t * The ECC level of the result may be higher than the ecl argument if it can be done without increasing the version.\n\t */\n\tthis.QrCode.encodeBinary = function(data, ecl) {\n\t\tvar seg = qrcodegen.QrSegment.makeBytes(data);\n\t\treturn this.encodeSegments([seg], ecl);\n\t};\n\t\n\t\n\t/*---- Static factory functions (mid level) for QrCode ----*/\n\t\n\t/* \n\t * Returns a QR Code representing the given segments with the given encoding parameters.\n\t * The smallest possible QR Code version within the given range is automatically\n\t * chosen for the output. Iff boostEcl is true, then the ECC level of the result\n\t * may be higher than the ecl argument if it can be done without increasing the\n\t * version. The mask number is either between 0 to 7 (inclusive) to force that\n\t * mask, or -1 to automatically choose an appropriate mask (which may be slow).\n\t * This function allows the user to create a custom sequence of segments that switches\n\t * between modes (such as alphanumeric and byte) to encode text in less space.\n\t * This is a mid-level API; the high-level API is encodeText() and encodeBinary().\n\t */\n\tthis.QrCode.encodeSegments = function(segs, ecl, minVersion, maxVersion, mask, boostEcl) {\n\t\tif (minVersion == undefined) minVersion = MIN_VERSION;\n\t\tif (maxVersion == undefined) maxVersion = MAX_VERSION;\n\t\tif (mask == undefined) mask = -1;\n\t\tif (boostEcl == undefined) boostEcl = true;\n\t\tif (!(MIN_VERSION <= minVersion && minVersion <= maxVersion && maxVersion <= MAX_VERSION) || mask < -1 || mask > 7)\n\t\t\tthrow \"Invalid value\";\n\t\t\n\t\t// Find the minimal version number to use\n\t\tvar version, dataUsedBits;\n\t\tfor (version = minVersion; ; version++) {\n\t\t\tvar dataCapacityBits = QrCode.getNumDataCodewords(version, ecl) * 8;  // Number of data bits available\n\t\t\tdataUsedBits = qrcodegen.QrSegment.getTotalBits(segs, version);\n\t\t\tif (dataUsedBits <= dataCapacityBits)\n\t\t\t\tbreak;  // This version number is found to be suitable\n\t\t\tif (version >= maxVersion)  // All versions in the range could not fit the given data\n\t\t\t\tthrow \"Data too long\";\n\t\t}\n\t\t\n\t\t// Increase the error correction level while the data still fits in the current version number\n\t\t[this.Ecc.MEDIUM, this.Ecc.QUARTILE, this.Ecc.HIGH].forEach(function(newEcl) {  // From low to high\n\t\t\tif (boostEcl && dataUsedBits <= QrCode.getNumDataCodewords(version, newEcl) * 8)\n\t\t\t\tecl = newEcl;\n\t\t});\n\t\t\n\t\t// Concatenate all segments to create the data bit string\n\t\tvar bb = new BitBuffer();\n\t\tsegs.forEach(function(seg) {\n\t\t\tbb.appendBits(seg.mode.modeBits, 4);\n\t\t\tbb.appendBits(seg.numChars, seg.mode.numCharCountBits(version));\n\t\t\tseg.getData().forEach(function(bit) {\n\t\t\t\tbb.push(bit);\n\t\t\t});\n\t\t});\n\t\tif (bb.length != dataUsedBits)\n\t\t\tthrow \"Assertion error\";\n\t\t\n\t\t// Add terminator and pad up to a byte if applicable\n\t\tvar dataCapacityBits = QrCode.getNumDataCodewords(version, ecl) * 8;\n\t\tif (bb.length > dataCapacityBits)\n\t\t\tthrow \"Assertion error\";\n\t\tbb.appendBits(0, Math.min(4, dataCapacityBits - bb.length));\n\t\tbb.appendBits(0, (8 - bb.length % 8) % 8);\n\t\tif (bb.length % 8 != 0)\n\t\t\tthrow \"Assertion error\";\n\t\t\n\t\t// Pad with alternating bytes until data capacity is reached\n\t\tfor (var padByte = 0xEC; bb.length < dataCapacityBits; padByte ^= 0xEC ^ 0x11)\n\t\t\tbb.appendBits(padByte, 8);\n\t\t\n\t\t// Pack bits into bytes in big endian\n\t\tvar dataCodewords = [];\n\t\twhile (dataCodewords.length * 8 < bb.length)\n\t\t\tdataCodewords.push(0);\n\t\tbb.forEach(function(bit, i) {\n\t\t\tdataCodewords[i >>> 3] |= bit << (7 - (i & 7));\n\t\t});\n\t\t\n\t\t// Create the QR Code object\n\t\treturn new this(version, ecl, dataCodewords, mask);\n\t};\n\t\n\t\n\t/*---- Private static helper functions for QrCode ----*/\n\t\n\tvar QrCode = {};  // Private object to assign properties to. Not the same object as 'this.QrCode'.\n\t\n\t\n\t// Returns the number of data bits that can be stored in a QR Code of the given version number, after\n\t// all function modules are excluded. This includes remainder bits, so it might not be a multiple of 8.\n\t// The result is in the range [208, 29648]. This could be implemented as a 40-entry lookup table.\n\tQrCode.getNumRawDataModules = function(ver) {\n\t\tif (ver < MIN_VERSION || ver > MAX_VERSION)\n\t\t\tthrow \"Version number out of range\";\n\t\tvar result = (16 * ver + 128) * ver + 64;\n\t\tif (ver >= 2) {\n\t\t\tvar numAlign = Math.floor(ver / 7) + 2;\n\t\t\tresult -= (25 * numAlign - 10) * numAlign - 55;\n\t\t\tif (ver >= 7)\n\t\t\t\tresult -= 36;\n\t\t}\n\t\treturn result;\n\t};\n\t\n\t\n\t// Returns the number of 8-bit data (i.e. not error correction) codewords contained in any\n\t// QR Code of the given version number and error correction level, with remainder bits discarded.\n\t// This stateless pure function could be implemented as a (40*4)-cell lookup table.\n\tQrCode.getNumDataCodewords = function(ver, ecl) {\n\t\treturn Math.floor(QrCode.getNumRawDataModules(ver) / 8) -\n\t\t\tQrCode.ECC_CODEWORDS_PER_BLOCK    [ecl.ordinal][ver] *\n\t\t\tQrCode.NUM_ERROR_CORRECTION_BLOCKS[ecl.ordinal][ver];\n\t};\n\t\n\t\n\t// Inserts the given value to the front of the given array, which shifts over the\n\t// existing values and deletes the last value. A helper function for getPenaltyScore().\n\tQrCode.addRunToHistory = function(run, history) {\n\t\thistory.pop();\n\t\thistory.unshift(run);\n\t};\n\t\n\t\n\t// Tests whether the given run history has the pattern of ratio 1:1:3:1:1 in the middle, and\n\t// surrounded by at least 4 on either or both ends. A helper function for getPenaltyScore().\n\t// Must only be called immediately after a run of white modules has ended.\n\tQrCode.hasFinderLikePattern = function(runHistory) {\n\t\tvar n = runHistory[1];\n\t\treturn n > 0 && runHistory[2] == n && runHistory[4] == n && runHistory[5] == n\n\t\t\t&& runHistory[3] == n * 3 && Math.max(runHistory[0], runHistory[6]) >= n * 4;\n\t};\n\t\n\t\n\t/*---- Constants and tables for QrCode ----*/\n\t\n\tvar MIN_VERSION =  1;  // The minimum version number supported in the QR Code Model 2 standard\n\tvar MAX_VERSION = 40;  // The maximum version number supported in the QR Code Model 2 standard\n\tObject.defineProperty(this.QrCode, \"MIN_VERSION\", {value:MIN_VERSION});\n\tObject.defineProperty(this.QrCode, \"MAX_VERSION\", {value:MAX_VERSION});\n\t\n\t// For use in getPenaltyScore(), when evaluating which mask is best.\n\tQrCode.PENALTY_N1 =  3;\n\tQrCode.PENALTY_N2 =  3;\n\tQrCode.PENALTY_N3 = 40;\n\tQrCode.PENALTY_N4 = 10;\n\t\n\tQrCode.ECC_CODEWORDS_PER_BLOCK = [\n\t\t// Version: (note that index 0 is for padding, and is set to an illegal value)\n\t\t//  0,  1,  2,  3,  4,  5,  6,  7,  8,  9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40    Error correction level\n\t\t[null,  7, 10, 15, 20, 26, 18, 20, 24, 30, 18, 20, 24, 26, 30, 22, 24, 28, 30, 28, 28, 28, 28, 30, 30, 26, 28, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30],  // Low\n\t\t[null, 10, 16, 26, 18, 24, 16, 18, 22, 22, 26, 30, 22, 22, 24, 24, 28, 28, 26, 26, 26, 26, 28, 28, 28, 28, 28, 28, 28, 28, 28, 28, 28, 28, 28, 28, 28, 28, 28, 28, 28],  // Medium\n\t\t[null, 13, 22, 18, 26, 18, 24, 18, 22, 20, 24, 28, 26, 24, 20, 30, 24, 28, 28, 26, 30, 28, 30, 30, 30, 30, 28, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30],  // Quartile\n\t\t[null, 17, 28, 22, 16, 22, 28, 26, 26, 24, 28, 24, 28, 22, 24, 24, 30, 28, 28, 26, 28, 30, 24, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30],  // High\n\t];\n\t\n\tQrCode.NUM_ERROR_CORRECTION_BLOCKS = [\n\t\t// Version: (note that index 0 is for padding, and is set to an illegal value)\n\t\t//  0, 1, 2, 3, 4, 5, 6, 7, 8, 9,10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40    Error correction level\n\t\t[null, 1, 1, 1, 1, 1, 2, 2, 2, 2, 4,  4,  4,  4,  4,  6,  6,  6,  6,  7,  8,  8,  9,  9, 10, 12, 12, 12, 13, 14, 15, 16, 17, 18, 19, 19, 20, 21, 22, 24, 25],  // Low\n\t\t[null, 1, 1, 1, 2, 2, 4, 4, 4, 5, 5,  5,  8,  9,  9, 10, 10, 11, 13, 14, 16, 17, 17, 18, 20, 21, 23, 25, 26, 28, 29, 31, 33, 35, 37, 38, 40, 43, 45, 47, 49],  // Medium\n\t\t[null, 1, 1, 2, 2, 4, 4, 6, 6, 8, 8,  8, 10, 12, 16, 12, 17, 16, 18, 21, 20, 23, 23, 25, 27, 29, 34, 34, 35, 38, 40, 43, 45, 48, 51, 53, 56, 59, 62, 65, 68],  // Quartile\n\t\t[null, 1, 1, 2, 4, 4, 4, 5, 6, 8, 8, 11, 11, 16, 16, 18, 16, 19, 21, 25, 25, 25, 34, 30, 32, 35, 37, 40, 42, 45, 48, 51, 54, 57, 60, 63, 66, 70, 74, 77, 81],  // High\n\t];\n\t\n\t\n\t/*---- Public helper enumeration ----*/\n\t\n\t/* \n\t * The error correction level in a QR Code symbol. Immutable.\n\t */\n\tthis.QrCode.Ecc = {\n\t\tLOW     : new Ecc(0, 1),  // The QR Code can tolerate about  7% erroneous codewords\n\t\tMEDIUM  : new Ecc(1, 0),  // The QR Code can tolerate about 15% erroneous codewords\n\t\tQUARTILE: new Ecc(2, 3),  // The QR Code can tolerate about 25% erroneous codewords\n\t\tHIGH    : new Ecc(3, 2),  // The QR Code can tolerate about 30% erroneous codewords\n\t};\n\t\n\t\n\t// Private constructor.\n\tfunction Ecc(ord, fb) {\n\t\t// (Public) In the range 0 to 3 (unsigned 2-bit integer)\n\t\tObject.defineProperty(this, \"ordinal\", {value:ord});\n\t\t\n\t\t// (Package-private) In the range 0 to 3 (unsigned 2-bit integer)\n\t\tObject.defineProperty(this, \"formatBits\", {value:fb});\n\t}\n\t\n\t\n\t\n\t/*---- Data segment class ----*/\n\t\n\t/* \n\t * A segment of character/binary/control data in a QR Code symbol.\n\t * Instances of this class are immutable.\n\t * The mid-level way to create a segment is to take the payload data\n\t * and call a static factory function such as QrSegment.makeNumeric().\n\t * The low-level way to create a segment is to custom-make the bit buffer\n\t * and call the QrSegment() constructor with appropriate values.\n\t * This segment class imposes no length restrictions, but QR Codes have restrictions.\n\t * Even in the most favorable conditions, a QR Code can only hold 7089 characters of data.\n\t * Any segment longer than this is meaningless for the purpose of generating QR Codes.\n\t * This constructor creates a QR Code segment with the given attributes and data.\n\t * The character count (numChars) must agree with the mode and the bit buffer length,\n\t * but the constraint isn't checked. The given bit buffer is cloned and stored.\n\t */\n\tthis.QrSegment = function(mode, numChars, bitData) {\n\t\t/*---- Constructor (low level) ----*/\n\t\tif (numChars < 0 || !(mode instanceof Mode))\n\t\t\tthrow \"Invalid argument\";\n\t\t\n\t\t// The data bits of this segment. Accessed through getData().\n\t\tbitData = bitData.slice();  // Make defensive copy\n\t\t\n\t\t// The mode indicator of this segment.\n\t\tObject.defineProperty(this, \"mode\", {value:mode});\n\t\t\n\t\t// The length of this segment's unencoded data. Measured in characters for\n\t\t// numeric/alphanumeric/kanji mode, bytes for byte mode, and 0 for ECI mode.\n\t\t// Always zero or positive. Not the same as the data's bit length.\n\t\tObject.defineProperty(this, \"numChars\", {value:numChars});\n\t\t\n\t\t// Returns a new copy of the data bits of this segment.\n\t\tthis.getData = function() {\n\t\t\treturn bitData.slice();  // Make defensive copy\n\t\t};\n\t};\n\t\n\t\n\t/*---- Static factory functions (mid level) for QrSegment ----*/\n\t\n\t/* \n\t * Returns a segment representing the given binary data encoded in\n\t * byte mode. All input byte arrays are acceptable. Any text string\n\t * can be converted to UTF-8 bytes and encoded as a byte mode segment.\n\t */\n\tthis.QrSegment.makeBytes = function(data) {\n\t\tvar bb = new BitBuffer();\n\t\tdata.forEach(function(b) {\n\t\t\tbb.appendBits(b, 8);\n\t\t});\n\t\treturn new this(this.Mode.BYTE, data.length, bb);\n\t};\n\t\n\t\n\t/* \n\t * Returns a segment representing the given string of decimal digits encoded in numeric mode.\n\t */\n\tthis.QrSegment.makeNumeric = function(digits) {\n\t\tif (!this.NUMERIC_REGEX.test(digits))\n\t\t\tthrow \"String contains non-numeric characters\";\n\t\tvar bb = new BitBuffer();\n\t\tfor (var i = 0; i < digits.length; ) {  // Consume up to 3 digits per iteration\n\t\t\tvar n = Math.min(digits.length - i, 3);\n\t\t\tbb.appendBits(parseInt(digits.substring(i, i + n), 10), n * 3 + 1);\n\t\t\ti += n;\n\t\t}\n\t\treturn new this(this.Mode.NUMERIC, digits.length, bb);\n\t};\n\t\n\t\n\t/* \n\t * Returns a segment representing the given text string encoded in alphanumeric mode.\n\t * The characters allowed are: 0 to 9, A to Z (uppercase only), space,\n\t * dollar, percent, asterisk, plus, hyphen, period, slash, colon.\n\t */\n\tthis.QrSegment.makeAlphanumeric = function(text) {\n\t\tif (!this.ALPHANUMERIC_REGEX.test(text))\n\t\t\tthrow \"String contains unencodable characters in alphanumeric mode\";\n\t\tvar bb = new BitBuffer();\n\t\tvar i;\n\t\tfor (i = 0; i + 2 <= text.length; i += 2) {  // Process groups of 2\n\t\t\tvar temp = QrSegment.ALPHANUMERIC_CHARSET.indexOf(text.charAt(i)) * 45;\n\t\t\ttemp += QrSegment.ALPHANUMERIC_CHARSET.indexOf(text.charAt(i + 1));\n\t\t\tbb.appendBits(temp, 11);\n\t\t}\n\t\tif (i < text.length)  // 1 character remaining\n\t\t\tbb.appendBits(QrSegment.ALPHANUMERIC_CHARSET.indexOf(text.charAt(i)), 6);\n\t\treturn new this(this.Mode.ALPHANUMERIC, text.length, bb);\n\t};\n\t\n\t\n\t/* \n\t * Returns a new mutable list of zero or more segments to represent the given Unicode text string.\n\t * The result may use various segment modes and switch modes to optimize the length of the bit stream.\n\t */\n\tthis.QrSegment.makeSegments = function(text) {\n\t\t// Select the most efficient segment encoding automatically\n\t\tif (text == \"\")\n\t\t\treturn [];\n\t\telse if (this.NUMERIC_REGEX.test(text))\n\t\t\treturn [this.makeNumeric(text)];\n\t\telse if (this.ALPHANUMERIC_REGEX.test(text))\n\t\t\treturn [this.makeAlphanumeric(text)];\n\t\telse\n\t\t\treturn [this.makeBytes(toUtf8ByteArray(text))];\n\t};\n\t\n\t\n\t/* \n\t * Returns a segment representing an Extended Channel Interpretation\n\t * (ECI) designator with the given assignment value.\n\t */\n\tthis.QrSegment.makeEci = function(assignVal) {\n\t\tvar bb = new BitBuffer();\n\t\tif (assignVal < 0)\n\t\t\tthrow \"ECI assignment value out of range\";\n\t\telse if (assignVal < (1 << 7))\n\t\t\tbb.appendBits(assignVal, 8);\n\t\telse if (assignVal < (1 << 14)) {\n\t\t\tbb.appendBits(2, 2);\n\t\t\tbb.appendBits(assignVal, 14);\n\t\t} else if (assignVal < 1000000) {\n\t\t\tbb.appendBits(6, 3);\n\t\t\tbb.appendBits(assignVal, 21);\n\t\t} else\n\t\t\tthrow \"ECI assignment value out of range\";\n\t\treturn new this(this.Mode.ECI, 0, bb);\n\t};\n\t\n\t\n\t// (Package-private) Calculates and returns the number of bits needed to encode the given segments at the\n\t// given version. The result is infinity if a segment has too many characters to fit its length field.\n\tthis.QrSegment.getTotalBits = function(segs, version) {\n\t\tvar result = 0;\n\t\tfor (var i = 0; i < segs.length; i++) {\n\t\t\tvar seg = segs[i];\n\t\t\tvar ccbits = seg.mode.numCharCountBits(version);\n\t\t\tif (seg.numChars >= (1 << ccbits))\n\t\t\t\treturn Infinity;  // The segment's length doesn't fit the field's bit width\n\t\t\tresult += 4 + ccbits + seg.getData().length;\n\t\t}\n\t\treturn result;\n\t};\n\t\n\t\n\t/*---- Constants for QrSegment ----*/\n\t\n\tvar QrSegment = {};  // Private object to assign properties to. Not the same object as 'this.QrSegment'.\n\t\n\t// (Public) Describes precisely all strings that are encodable in numeric mode.\n\t// To test whether a string s is encodable: var ok = NUMERIC_REGEX.test(s);\n\t// A string is encodable iff each character is in the range 0 to 9.\n\tthis.QrSegment.NUMERIC_REGEX = /^[0-9]*$/;\n\t\n\t// (Public) Describes precisely all strings that are encodable in alphanumeric mode.\n\t// To test whether a string s is encodable: var ok = ALPHANUMERIC_REGEX.test(s);\n\t// A string is encodable iff each character is in the following set: 0 to 9, A to Z\n\t// (uppercase only), space, dollar, percent, asterisk, plus, hyphen, period, slash, colon.\n\tthis.QrSegment.ALPHANUMERIC_REGEX = /^[A-Z0-9 $%*+.\\/:-]*$/;\n\t\n\t// (Private) The set of all legal characters in alphanumeric mode,\n\t// where each character value maps to the index in the string.\n\tQrSegment.ALPHANUMERIC_CHARSET = \"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:\";\n\t\n\t\n\t/*---- Public helper enumeration ----*/\n\t\n\t/* \n\t * Describes how a segment's data bits are interpreted. Immutable.\n\t */\n\tthis.QrSegment.Mode = {  // Constants\n\t\tNUMERIC     : new Mode(0x1, [10, 12, 14]),\n\t\tALPHANUMERIC: new Mode(0x2, [ 9, 11, 13]),\n\t\tBYTE        : new Mode(0x4, [ 8, 16, 16]),\n\t\tKANJI       : new Mode(0x8, [ 8, 10, 12]),\n\t\tECI         : new Mode(0x7, [ 0,  0,  0]),\n\t};\n\t\n\t\n\t// Private constructor.\n\tfunction Mode(mode, ccbits) {\n\t\t// (Package-private) The mode indicator bits, which is a uint4 value (range 0 to 15).\n\t\tObject.defineProperty(this, \"modeBits\", {value:mode});\n\t\t\n\t\t// (Package-private) Returns the bit width of the character count field for a segment in\n\t\t// this mode in a QR Code at the given version number. The result is in the range [0, 16].\n\t\tthis.numCharCountBits = function(ver) {\n\t\t\treturn ccbits[Math.floor((ver + 7) / 17)];\n\t\t};\n\t}\n\t\n\t\n\t\n\t/*---- Private helper functions and classes ----*/\n\t\n\t// Returns a new array of bytes representing the given string encoded in UTF-8.\n\tfunction toUtf8ByteArray(str) {\n\t\tstr = encodeURI(str);\n\t\tvar result = [];\n\t\tfor (var i = 0; i < str.length; i++) {\n\t\t\tif (str.charAt(i) != \"%\")\n\t\t\t\tresult.push(str.charCodeAt(i));\n\t\t\telse {\n\t\t\t\tresult.push(parseInt(str.substring(i + 1, i + 3), 16));\n\t\t\t\ti += 2;\n\t\t\t}\n\t\t}\n\t\treturn result;\n\t}\n\t\n\t\n\t\n\t/* \n\t * A private helper class that computes the Reed-Solomon error correction codewords for a sequence of\n\t * data codewords at a given degree. Objects are immutable, and the state only depends on the degree.\n\t * This class exists because each data block in a QR Code shares the same the divisor polynomial.\n\t * This constructor creates a Reed-Solomon ECC generator for the given degree. This could be implemented\n\t * as a lookup table over all possible parameter values, instead of as an algorithm.\n\t */\n\tfunction ReedSolomonGenerator(degree) {\n\t\tif (degree < 1 || degree > 255)\n\t\t\tthrow \"Degree out of range\";\n\t\t\n\t\t// Coefficients of the divisor polynomial, stored from highest to lowest power, excluding the leading term which\n\t\t// is always 1. For example the polynomial x^3 + 255x^2 + 8x + 93 is stored as the uint8 array {255, 8, 93}.\n\t\tvar coefficients = [];\n\t\t\n\t\t// Start with the monomial x^0\n\t\tfor (var i = 0; i < degree - 1; i++)\n\t\t\tcoefficients.push(0);\n\t\tcoefficients.push(1);\n\t\t\n\t\t// Compute the product polynomial (x - r^0) * (x - r^1) * (x - r^2) * ... * (x - r^{degree-1}),\n\t\t// drop the highest term, and store the rest of the coefficients in order of descending powers.\n\t\t// Note that r = 0x02, which is a generator element of this field GF(2^8/0x11D).\n\t\tvar root = 1;\n\t\tfor (var i = 0; i < degree; i++) {\n\t\t\t// Multiply the current product by (x - r^i)\n\t\t\tfor (var j = 0; j < coefficients.length; j++) {\n\t\t\t\tcoefficients[j] = ReedSolomonGenerator.multiply(coefficients[j], root);\n\t\t\t\tif (j + 1 < coefficients.length)\n\t\t\t\t\tcoefficients[j] ^= coefficients[j + 1];\n\t\t\t}\n\t\t\troot = ReedSolomonGenerator.multiply(root, 0x02);\n\t\t}\n\t\t\n\t\t// Computes and returns the Reed-Solomon error correction codewords for the given\n\t\t// sequence of data codewords. The returned object is always a new byte array.\n\t\t// This method does not alter this object's state (because it is immutable).\n\t\tthis.getRemainder = function(data) {\n\t\t\t// Compute the remainder by performing polynomial division\n\t\t\tvar result = coefficients.map(function() { return 0; });\n\t\t\tdata.forEach(function(b) {\n\t\t\t\tvar factor = b ^ result.shift();\n\t\t\t\tresult.push(0);\n\t\t\t\tcoefficients.forEach(function(coef, i) {\n\t\t\t\t\tresult[i] ^= ReedSolomonGenerator.multiply(coef, factor);\n\t\t\t\t});\n\t\t\t});\n\t\t\treturn result;\n\t\t};\n\t}\n\t\n\t// This static function returns the product of the two given field elements modulo GF(2^8/0x11D). The arguments and\n\t// result are unsigned 8-bit integers. This could be implemented as a lookup table of 256*256 entries of uint8.\n\tReedSolomonGenerator.multiply = function(x, y) {\n\t\tif (x >>> 8 != 0 || y >>> 8 != 0)\n\t\t\tthrow \"Byte out of range\";\n\t\t// Russian peasant multiplication\n\t\tvar z = 0;\n\t\tfor (var i = 7; i >= 0; i--) {\n\t\t\tz = (z << 1) ^ ((z >>> 7) * 0x11D);\n\t\t\tz ^= ((y >>> i) & 1) * x;\n\t\t}\n\t\tif (z >>> 8 != 0)\n\t\t\tthrow \"Assertion error\";\n\t\treturn z;\n\t};\n\t\n\t\n\t\n\t/* \n\t * A private helper class that represents an appendable sequence of bits (0s and 1s).\n\t * Mainly used by QrSegment. This constructor creates an empty bit buffer (length 0).\n\t */\n\tfunction BitBuffer() {\n\t\tArray.call(this);\n\t\t\n\t\t// Appends the given number of low-order bits of the given value\n\t\t// to this buffer. Requires 0 <= len <= 31 and 0 <= val < 2^len.\n\t\tthis.appendBits = function(val, len) {\n\t\t\tif (len < 0 || len > 31 || val >>> len != 0)\n\t\t\t\tthrow \"Value out of range\";\n\t\tfor (var i = len - 1; i >= 0; i--)  // Append bit by bit\n\t\t\t\tthis.push((val >>> i) & 1);\n\t\t};\n\t}\n\t\n\tBitBuffer.prototype = Object.create(Array.prototype);\n\tBitBuffer.prototype.constructor = BitBuffer;\n\t\n};\n\nfunction encodeText() {\n    return qrcodegen.QrCode.encodeText.apply(qrcodegen.QrCode, arguments);\n};\n\nconst QrCode = qrcodegen.QrCode;\nconst Ecc = qrcodegen.QrCode.Ecc;\nconst QrSegment = qrcodegen.QrSegment;\n\nexport {\n    QrCode,\n    encodeText,\n    Ecc,\n    QrSegment,\n};\n","// Generated by BUCKLESCRIPT VERSION 5.0.2, PLEASE EDIT WITH CARE\n\nimport * as Qrcodegen from \"./qrcodegen\";\nimport * as Caml_option from \"../node_modules/bs-platform/lib/es6/caml_option.js\";\n\nvar low = Qrcodegen.Ecc.LOW;\n\nvar medium = Qrcodegen.Ecc.MEDIUM;\n\nvar quartile = Qrcodegen.Ecc.QUARTILE;\n\nvar high = Qrcodegen.Ecc.HIGH;\n\nvar Ecc = /* module */[\n  /* low */low,\n  /* medium */medium,\n  /* quartile */quartile,\n  /* high */high\n];\n\nfunction _encodeText(prim, prim$1) {\n  return Qrcodegen.encodeText(prim, prim$1);\n}\n\nfunction encodeText(text, ecc) {\n  var exit = 0;\n  var code;\n  try {\n    code = Qrcodegen.encodeText(text, ecc);\n    exit = 1;\n  }\n  catch (exn){\n    return undefined;\n  }\n  if (exit === 1) {\n    return Caml_option.some(code);\n  }\n  \n}\n\nvar QrCode = /* module */[\n  /* _encodeText */_encodeText,\n  /* encodeText */encodeText\n];\n\nfunction _setSvg (t,el){\n     el.src = \"data:image/svg+xml;utf8,\" + encodeURIComponent(t);\n     };\n\nfunction setSvg(t, el) {\n  return _setSvg(t.toSvgString(4), el);\n}\n\nexport {\n  Ecc ,\n  QrCode ,\n  _setSvg ,\n  setSvg ,\n  \n}\n/* low Not a pure module */\n","// Generated by BUCKLESCRIPT VERSION 5.0.2, PLEASE EDIT WITH CARE\n\nimport * as Caml_array from \"../node_modules/bs-platform/lib/es6/caml_array.js\";\nimport * as Caml_option from \"../node_modules/bs-platform/lib/es6/caml_option.js\";\n\nfunction getPathString(code, border) {\n  var size = code.size;\n  var modules = code.getModules();\n  var parts = /* array */[];\n  for(var y = 0 ,y_finish = size - 1 | 0; y <= y_finish; ++y){\n    for(var x = 0 ,x_finish = size - 1 | 0; x <= x_finish; ++x){\n      if (Caml_array.caml_array_get(Caml_array.caml_array_get(modules, y), x)) {\n        parts.push(\"M\" + (String(x + border | 0) + (\",\" + (String(y + border | 0) + \"h1v1h-1z\"))));\n      }\n      \n    }\n  }\n  return parts.join(\" \");\n}\n\nvar svgNs = \"http://www.w3.org/2000/svg\";\n\nfunction createQrCodePathElement(code, border) {\n  var path = document.createElementNS(svgNs, \"path\");\n  path.setAttribute(\"d\", getPathString(code, border));\n  return path;\n}\n\nfunction createRainbowGradient(lightness) {\n  var gradient = document.createElementNS(svgNs, \"linearGradient\");\n  gradient.id = \"rainbow\";\n  for(var i = 0; i <= 7; ++i){\n    var stop = document.createElementNS(svgNs, \"stop\");\n    stop.setAttribute(\"offset\", (100.0 * i / 7.0).toString() + \"%\");\n    stop.setAttribute(\"stop-color\", \"hsl(\" + ((i / 8.0).toString() + (\"turn,100%,\" + ((lightness * 100.0).toString() + \"%)\"))));\n    gradient.appendChild(stop);\n  }\n  gradient.setAttribute(\"gradientTransform\", \"rotate(45)\");\n  return gradient;\n}\n\nfunction makeAnimate(values, duration) {\n  var animate = document.createElementNS(svgNs, \"animate\");\n  animate.setAttribute(\"attributeName\", \"opacity\");\n  animate.setAttribute(\"values\", values);\n  animate.setAttribute(\"dur\", duration);\n  animate.setAttribute(\"begin\", \"+0s\");\n  animate.setAttribute(\"fill\", \"freeze\");\n  animate.setAttribute(\"calcMode\", \"spline\");\n  animate.setAttribute(\"keyTimes\", \"0;0.5;1\");\n  animate.setAttribute(\"keySplines\", Caml_array.caml_make_vect(2, \".5 0 .5 1\").join(\";\"));\n  animate.setAttribute(\"repeatCount\", \"indefinite\");\n  return animate;\n}\n\nfunction createSimpleSvg(code, border, timestamp, localeString, maybeDataURL) {\n  var size = code.size;\n  var sizeWithBorder = size + (border << 1) | 0;\n  var viewBox = \"0 0 \" + (String(sizeWithBorder) + (\" \" + (String(sizeWithBorder) + \"\")));\n  var svg = document.createElementNS(svgNs, \"svg\");\n  svg.setAttribute(\"viewBox\", viewBox);\n  var defs = document.createElementNS(svgNs, \"defs\");\n  var rainbowGradient = createRainbowGradient(0.85);\n  defs.appendChild(rainbowGradient);\n  svg.appendChild(defs);\n  if (maybeDataURL !== undefined) {\n    var background = document.createElementNS(svgNs, \"image\");\n    background.setAttribute(\"x\", \"0\");\n    background.setAttribute(\"y\", \"0\");\n    background.setAttribute(\"width\", \"100%\");\n    background.setAttribute(\"height\", \"100%\");\n    background.setAttribute(\"href\", maybeDataURL);\n    background.setAttribute(\"style\", \"opacity: 0.5\");\n    var bgAnimate = makeAnimate(\"0;1;0\", \"6s\");\n    background.appendChild(bgAnimate);\n    svg.appendChild(background);\n  }\n  var codeGroup = document.createElementNS(svgNs, \"g\");\n  codeGroup.id = \"codeGroup\";\n  var rainbow = document.createElementNS(svgNs, \"rect\");\n  rainbow.id = \"rainbowMask\";\n  rainbow.setAttribute(\"width\", \"100%\");\n  rainbow.setAttribute(\"height\", \"100%\");\n  rainbow.setAttribute(\"fill\", \"url(#rainbow)\");\n  codeGroup.appendChild(rainbow);\n  var path = createQrCodePathElement(code, border);\n  codeGroup.appendChild(path);\n  svg.appendChild(codeGroup);\n  var codeGroupAnimate = makeAnimate(\"1;0;1\", \"6s\");\n  codeGroup.appendChild(codeGroupAnimate);\n  var timeText = document.createElementNS(svgNs, \"text\");\n  timeText.setAttribute(\"x\", (sizeWithBorder / 2.0).toString());\n  timeText.setAttribute(\"y\", (border / 2.0).toString());\n  timeText.setAttribute(\"font-size\", (border / 2.0).toString() + \"px\");\n  timeText.setAttribute(\"text-anchor\", \"middle\");\n  timeText.setAttribute(\"alignment-baseline\", \"middle\");\n  timeText.setAttribute(\"style\", \"text-align: center; font-family: \\\"Courier New\\\", monospace;\");\n  timeText.setAttribute(\"textLength\", \"90%\");\n  timeText.setAttribute(\"fill\", \"#FFFFFF\");\n  timeText.setAttribute(\"style\", \"mix-blend-mode: difference\");\n  timeText.textContent = localeString;\n  svg.appendChild(timeText);\n  return svg;\n}\n\nfunction createSvg(parent, maybePrevious, maybeSnapshot, hash, code) {\n  var size = code.size;\n  var sizeWithBorder = size + 8 | 0;\n  var viewBox = \"0 0 \" + (String(sizeWithBorder) + (\" \" + (String(sizeWithBorder) + \"\")));\n  var childSvg = document.createElementNS(svgNs, \"svg\");\n  childSvg.setAttribute(\"viewBox\", viewBox);\n  var past = document.createElementNS(svgNs, \"g\");\n  var scaleFactor = 1.0 - 2.0 / sizeWithBorder;\n  scaleFactor.toString();\n  past.setAttribute(\"transform\", \"translate(\" + (String(1) + (\",\" + (String(1) + (\") scale(\" + (String(scaleFactor) + \")\"))))));\n  if (maybePrevious !== undefined) {\n    past.appendChild(Caml_option.valFromOption(maybePrevious));\n  }\n  childSvg.appendChild(past);\n  if (maybeSnapshot !== undefined) {\n    var snapshotImage = document.createElementNS(svgNs, \"image\");\n    snapshotImage.setAttribute(\"href\", maybeSnapshot);\n    snapshotImage.setAttribute(\"x\", \"0\");\n    snapshotImage.setAttribute(\"y\", \"0\");\n    snapshotImage.setAttribute(\"width\", String(sizeWithBorder));\n    snapshotImage.setAttribute(\"height\", String(sizeWithBorder));\n    snapshotImage.setAttribute(\"style\", \"opacity: 0.5\");\n    childSvg.appendChild(snapshotImage);\n  }\n  var mask = document.createElementNS(svgNs, \"mask\");\n  mask.id = \"m\" + hash;\n  var blank = document.createElementNS(svgNs, \"rect\");\n  blank.setAttribute(\"width\", \"100%\");\n  blank.setAttribute(\"height\", \"100%\");\n  blank.setAttribute(\"fill\", \"#FFFFFF\");\n  mask.appendChild(blank);\n  var symbol = document.createElementNS(svgNs, \"symbol\");\n  symbol.id = \"s\" + hash;\n  var path = createQrCodePathElement(code, 4);\n  symbol.appendChild(path);\n  childSvg.appendChild(symbol);\n  var use = document.createElementNS(svgNs, \"use\");\n  use.setAttribute(\"href\", \"#s\" + hash);\n  use.setAttribute(\"fill\", \"#000000\");\n  mask.appendChild(use);\n  childSvg.appendChild(mask);\n  var rainbow = document.createElementNS(svgNs, \"rect\");\n  rainbow.setAttribute(\"width\", \"100%\");\n  rainbow.setAttribute(\"height\", \"100%\");\n  rainbow.setAttribute(\"fill\", \"url(#rainbow)\");\n  rainbow.setAttribute(\"fill-opacity\", \"0.5\");\n  rainbow.setAttribute(\"mask\", \"url(#m\" + (hash + \")\"));\n  childSvg.appendChild(rainbow);\n  var use2 = document.createElementNS(svgNs, \"use\");\n  use2.setAttribute(\"href\", \"#s\" + hash);\n  use2.setAttribute(\"stroke-width\", \"0.01\");\n  use2.setAttribute(\"fill\", \"#000000\");\n  use2.setAttribute(\"fill-opacity\", \"0.5\");\n  childSvg.appendChild(use2);\n  parent.appendChild(childSvg);\n  return childSvg;\n}\n\nvar $$XMLSerializer = /* module */[];\n\nfunction svgToDataURL(svg) {\n  var xmlSerializer = new XMLSerializer();\n  var str = xmlSerializer.serializeToString(svg);\n  return \"data:image/svg+xml;utf8,\" + encodeURIComponent(str);\n}\n\nfunction drawCanvas(canvas, code) {\n  var size = code.size;\n  var width = size + 4 | 0;\n  if (canvas.width !== width) {\n    canvas.width = width;\n    canvas.height = width;\n  }\n  var ctx = canvas.getContext(\"2d\");\n  ctx.globalCompositeOperation = \"difference\";\n  ctx.fillStyle = \"#FFFFFF\";\n  for(var y = -2 ,y_finish = size + 2 | 0; y <= y_finish; ++y){\n    for(var x = -2 ,x_finish = size + 2 | 0; x <= x_finish; ++x){\n      if (code.getModule(x, y)) {\n        ctx.fillRect(x + 2 | 0, y + 2 | 0, 1, 1);\n      }\n      \n    }\n  }\n  return /* () */0;\n}\n\nexport {\n  getPathString ,\n  svgNs ,\n  createQrCodePathElement ,\n  createRainbowGradient ,\n  makeAnimate ,\n  createSimpleSvg ,\n  createSvg ,\n  $$XMLSerializer ,\n  svgToDataURL ,\n  drawCanvas ,\n  \n}\n/* No side effect */\n","// Generated by BUCKLESCRIPT VERSION 5.0.2, PLEASE EDIT WITH CARE\n\nimport * as $$Array from \"../node_modules/bs-platform/lib/es6/array.js\";\nimport * as Curry from \"../node_modules/bs-platform/lib/es6/curry.js\";\nimport * as Js_dict from \"../node_modules/bs-platform/lib/es6/js_dict.js\";\nimport * as Debouncer from \"../node_modules/re-debouncer/src/Debouncer.bs.js\";\nimport * as ElementRe from \"../node_modules/bs-webapi/src/dom/nodes/ElementRe.js\";\nimport * as Caml_int32 from \"../node_modules/bs-platform/lib/es6/caml_int32.js\";\nimport * as Pervasives from \"../node_modules/bs-platform/lib/es6/pervasives.js\";\nimport * as Belt_Option from \"../node_modules/bs-platform/lib/es6/belt_Option.js\";\nimport * as Caml_option from \"../node_modules/bs-platform/lib/es6/caml_option.js\";\nimport * as Hash$QueerLoop from \"./Hash.bs.js\";\nimport * as Util$QueerLoop from \"./Util.bs.js\";\nimport * as Scanner$QueerLoop from \"./Scanner.bs.js\";\nimport * as Caml_js_exceptions from \"../node_modules/bs-platform/lib/es6/caml_js_exceptions.js\";\nimport * as QrCodeGen$QueerLoop from \"./QrCodeGen.bs.js\";\nimport * as QueerCode$QueerLoop from \"./QueerCode.bs.js\";\nimport * as UserMedia$QueerLoop from \"./UserMedia.bs.js\";\n\nvar domain = \"qqq.lu\";\n\nfunction setBackground(selector, bgCss) {\n  return Util$QueerLoop.withQuerySelector(selector, (function (el) {\n                el.style.setProperty(\"background\", bgCss, \"\");\n                console.log(bgCss);\n                return /* () */0;\n              }));\n}\n\nvar codeRegex = new RegExp(\"https:\\\\/\\\\/qqq.lu\\\\/#(.+)\");\n\nvar defaultCode = QrCodeGen$QueerLoop.QrCode[/* _encodeText */0](\"https://qqq.lu\", QrCodeGen$QueerLoop.Ecc[/* low */0]);\n\nvar initialHash = /* record */[/* contents */\"\"];\n\nvar camerasRef = /* record */[/* contents : array */[]];\n\nvar cameraIndex = /* record */[/* contents */0];\n\nfunction cycleCameras(scanner) {\n  var n = camerasRef[0].length;\n  cameraIndex[0] = Caml_int32.mod_(cameraIndex[0] + 1 | 0, n);\n  return /* () */0;\n}\n\nfunction setSrc (img,src){\n     img.src = src;};\n\nvar dataSeen = { };\n\nvar currentSignature = /* record */[/* contents */\"\"];\n\nvar canvasesRef = /* record */[/* contents : array */[]];\n\nfunction copyVideoToSnapshotCanvas(param) {\n  return Util$QueerLoop.withQuerySelectorDom(\"#snapshotCanvas\", (function (snapshotCanvas) {\n                var snapshotCtx = snapshotCanvas.getContext(\"2d\");\n                snapshotCtx.globalAlpha = 0.1;\n                return $$Array.mapi((function (i, canvas) {\n                              var h = canvas.height;\n                              var x = (canvas.width - h | 0) / 2 | 0;\n                              snapshotCtx.drawImage(canvas, x, 0, h, h, 0, 0, snapshotCanvas.width, snapshotCanvas.height);\n                              return /* () */0;\n                            }), canvasesRef[0]);\n              }));\n}\n\nfunction takeSnapshot(param) {\n  return Util$QueerLoop.withQuerySelectorDom(\"#snapshotCanvas\", (function (snapshotCanvas) {\n                snapshotCanvas.getContext(\"2d\");\n                return snapshotCanvas.toDataURL(\"image/jpeg\", 0.9);\n              }));\n}\n\nfunction getTimestamp(param) {\n  return new Date().toISOString();\n}\n\nfunction getTimestampAndLocaleString(param) {\n  var date = new Date();\n  return /* tuple */[\n          date.toISOString(),\n          date.toLocaleString()\n        ];\n}\n\nfunction asOfNow(f) {\n  return Curry._1(f, new Date());\n}\n\nfunction setHashToNow(param) {\n  return Util$QueerLoop.setHash(new Date().toISOString());\n}\n\nvar hasChanged = /* record */[/* contents */false];\n\nfunction onClick(maybeHash, param) {\n  if (!hasChanged[0]) {\n    hasChanged[0] = true;\n  }\n  if (maybeHash !== undefined) {\n    var match = Js_dict.get(dataSeen, maybeHash);\n    if (match !== undefined) {\n      var data = match;\n      console.log(data.slice(16));\n      return Util$QueerLoop.setHash(data.slice(16));\n    } else {\n      return /* () */0;\n    }\n  } else {\n    return Util$QueerLoop.setHash(new Date().toISOString());\n  }\n}\n\nfunction addToPast(hash, dataUrl) {\n  var img = document.createElement(\"img\");\n  setSrc(img, dataUrl);\n  img.id = \"x\" + hash;\n  var partial_arg = hash;\n  img.addEventListener(\"click\", (function (param) {\n          return onClick(partial_arg, param);\n        }));\n  Util$QueerLoop.withQuerySelectorDom(\"#codes\", (function (past) {\n          past.appendChild(img);\n          return /* () */0;\n        }));\n  return /* () */0;\n}\n\nfunction setCode(text) {\n  Hash$QueerLoop.hexDigest(\"SHA-1\", text).then((function (hash) {\n          var alreadySeen = Belt_Option.isSome(Js_dict.get(dataSeen, hash));\n          if (!alreadySeen) {\n            dataSeen[hash] = text;\n            var code = Belt_Option.getWithDefault(QrCodeGen$QueerLoop.QrCode[/* encodeText */1](text, QrCodeGen$QueerLoop.Ecc[/* medium */1]), defaultCode);\n            Util$QueerLoop.withQuerySelectorDom(\"body\", (function (root) {\n                    return Util$QueerLoop.withQuerySelectorDom(\".queer-loop\", (function (loopContainer) {\n                                  var match = takeSnapshot(/* () */0);\n                                  if (match !== undefined) {\n                                    var maybePrevious = loopContainer.querySelector(\"svg\");\n                                    if (!(maybePrevious == null)) {\n                                      loopContainer.removeChild(maybePrevious);\n                                    }\n                                    var match$1 = getTimestampAndLocaleString(/* () */0);\n                                    var match$2 = hasChanged[0];\n                                    var svg = QueerCode$QueerLoop.createSimpleSvg(code, 6, match$1[0], match$1[1], match$2 ? match : undefined);\n                                    loopContainer.appendChild(svg);\n                                    var url = QueerCode$QueerLoop.svgToDataURL(svg);\n                                    Util$QueerLoop.withQuerySelectorDom(\"#codes\", (function (container) {\n                                            var img = document.createElementNS(Util$QueerLoop.htmlNs, \"img\");\n                                            img.setAttribute(\"src\", url);\n                                            container.appendChild(img);\n                                            return /* () */0;\n                                          }));\n                                    currentSignature[0] = hash;\n                                    return /* () */0;\n                                  } else {\n                                    return /* () */0;\n                                  }\n                                }));\n                  }));\n          }\n          return Promise.resolve(/* () */0);\n        }));\n  return /* () */0;\n}\n\nvar setText = Debouncer.make(200, (function (hash) {\n        Util$QueerLoop.withQuerySelectorDom(\"#codeContents\", (function (el) {\n                el.innerText = decodeURIComponent(hash);\n                return /* () */0;\n              }));\n        return /* () */0;\n      }));\n\nfunction onHashChange(param) {\n  var url = window.location.href;\n  window.location.search;\n  window.location.hash;\n  var match = getTimestampAndLocaleString(/* () */0);\n  var localeString = match[1];\n  var timestamp = match[0];\n  Util$QueerLoop.withQuerySelectorDom(\"title\", (function (title) {\n          title.innerText = localeString;\n          return /* () */0;\n        }));\n  Util$QueerLoop.withQuerySelectorDom(\"time\", (function (time) {\n          time.setAttribute(\"datetime\", timestamp);\n          time.innerText = localeString;\n          return /* () */0;\n        }));\n  setCode(url);\n  return Curry._1(setText, url);\n}\n\nfunction setOpacity(elQuery, opacity) {\n  return Belt_Option.map(Belt_Option.flatMap(Caml_option.nullable_to_opt(document.querySelector(elQuery)), ElementRe.asHtmlElement), (function (body) {\n                body.style.setProperty(\"opacity\", Pervasives.string_of_float(opacity), \"\");\n                return /* () */0;\n              }));\n}\n\nvar frameCount = /* record */[/* contents */0];\n\nvar lastUpdated = /* record */[/* contents */0.0];\n\nfunction onTick(ts) {\n  frameCount[0] = frameCount[0] + 1 | 0;\n  if (frameCount[0] % 5 === 1) {\n    copyVideoToSnapshotCanvas(/* () */0);\n  }\n  if (ts - lastUpdated[0] >= 10000.0) {\n    Util$QueerLoop.setHash(new Date().toISOString());\n  }\n  lastUpdated[0] = ts;\n  requestAnimationFrame(onTick);\n  return /* () */0;\n}\n\nfunction maybeUrl(s) {\n  var exit = 0;\n  var url;\n  try {\n    url = new URL(s);\n    exit = 1;\n  }\n  catch (raw_e){\n    var e = Caml_js_exceptions.internalToOCamlException(raw_e);\n    console.error(\"Could not parse URL\", e);\n    return undefined;\n  }\n  if (exit === 1) {\n    return Caml_option.some(url);\n  }\n  \n}\n\nfunction _onInput(param) {\n  Util$QueerLoop.withQuerySelectorDom(\"#codeContents\", (function (el) {\n          var text = el.innerText;\n          return Belt_Option.map(maybeUrl(text), (function (url) {\n                        window.location;\n                        window.location.hash = url.hash;\n                        return /* () */0;\n                      }));\n        }));\n  return /* () */0;\n}\n\nvar onInput = Debouncer.make(100, _onInput);\n\nvar defaultOptions = /* record */[\n  /* background */\"\",\n  /* domain */true,\n  /* qs */true,\n  /* cameraMax */1\n];\n\nfunction boolParam(param) {\n  if (param !== undefined) {\n    var s = param;\n    if (s === \"true\" || s === \"1\" || s === \"y\") {\n      return true;\n    } else {\n      return s === \"\";\n    }\n  } else {\n    return false;\n  }\n}\n\nfunction init(param) {\n  Util$QueerLoop.withQuerySelectorDom(\"#snapshotCanvas\", (function (canvas) {\n          canvas.width = 480;\n          canvas.height = 480;\n          return /* () */0;\n        }));\n  var queryString = Util$QueerLoop.getQueryString(/* () */0);\n  if (queryString !== \"\") {\n    var params = new URLSearchParams(queryString);\n    defaultOptions[/* domain */1] = boolParam(Caml_option.nullable_to_opt(params.get(\"d\")));\n    defaultOptions[/* qs */2] = boolParam(Caml_option.nullable_to_opt(params.get(\"q\")));\n    defaultOptions[/* background */0] = Belt_Option.getWithDefault(Caml_option.nullable_to_opt(params.get(\"bg\")), \"\");\n  }\n  if (defaultOptions[/* background */0] !== \"\") {\n    setBackground(\"body\", decodeURIComponent(defaultOptions[/* background */0]));\n  }\n  initialHash[0] = Util$QueerLoop.getHash(/* () */0).slice(1);\n  if (initialHash[0] === \"\") {\n    initialHash[0] = new Date().toISOString();\n    Util$QueerLoop.setHash(initialHash[0]);\n  } else {\n    onHashChange(/* () */0);\n  }\n  Util$QueerLoop.withQuerySelectorDom(\".queer-loop\", (function (el) {\n          el.addEventListener(\"click\", (function (param) {\n                  return onClick(undefined, param);\n                }));\n          return /* () */0;\n        }));\n  Util$QueerLoop.withQuerySelectorDom(\"#codeContents\", (function (el) {\n          el.addEventListener(\"blur\", (function (_evt) {\n                  return Curry._1(onInput, /* () */0);\n                }));\n          return /* () */0;\n        }));\n  var response = function (input) {\n    if (input !== \"\") {\n      Hash$QueerLoop.hexDigest(\"SHA-1\", input).then((function (hexHash) {\n              if (!hasChanged[0]) {\n                hasChanged[0] = true;\n              }\n              var alreadySeen = Belt_Option.isSome(Js_dict.get(dataSeen, hexHash));\n              if (hexHash === currentSignature[0] || !alreadySeen) {\n                Util$QueerLoop.setHash(new Date().toISOString());\n              }\n              return Promise.resolve(/* () */0);\n            }));\n      return /* () */0;\n    } else {\n      return 0;\n    }\n  };\n  UserMedia$QueerLoop.getCameras(/* () */0).then((function (cameras) {\n              camerasRef[0] = cameras;\n              return Promise.all($$Array.map((function (camera) {\n                                var videoEl = document.createElementNS(Util$QueerLoop.htmlNs, \"video\");\n                                Util$QueerLoop.withQuerySelectorDom(\"#htmlContainer\", (function (body) {\n                                        body.appendChild(videoEl);\n                                        return /* () */0;\n                                      }));\n                                return Scanner$QueerLoop.scanUsingDeviceId(videoEl, camera.deviceId, response);\n                              }), cameras.slice(0, defaultOptions[/* cameraMax */3])));\n            })).then((function (canvases) {\n            canvasesRef[0] = canvases;\n            requestAnimationFrame(onTick);\n            return Promise.resolve(/* () */0);\n          })).catch((function (err) {\n          console.error(\"getCameras failed\", err);\n          Util$QueerLoop.withQuerySelectorDom(\"#welcome\", (function (welcome) {\n                  welcome.setAttribute(\"style\", \"display: block;\");\n                  return /* () */0;\n                }));\n          return Promise.resolve(/* () */0);\n        }));\n  return /* () */0;\n}\n\nwindow.addEventListener(\"load\", (function (param) {\n        return init(/* () */0);\n      }));\n\nwindow.addEventListener(\"hashchange\", (function (param) {\n        return onHashChange(/* () */0);\n      }));\n\nvar defaultHash = \"fff\";\n\nexport {\n  domain ,\n  setBackground ,\n  codeRegex ,\n  defaultCode ,\n  defaultHash ,\n  initialHash ,\n  camerasRef ,\n  cameraIndex ,\n  cycleCameras ,\n  setSrc ,\n  dataSeen ,\n  currentSignature ,\n  canvasesRef ,\n  copyVideoToSnapshotCanvas ,\n  takeSnapshot ,\n  getTimestamp ,\n  getTimestampAndLocaleString ,\n  asOfNow ,\n  setHashToNow ,\n  hasChanged ,\n  onClick ,\n  addToPast ,\n  setCode ,\n  setText ,\n  onHashChange ,\n  setOpacity ,\n  frameCount ,\n  lastUpdated ,\n  onTick ,\n  maybeUrl ,\n  _onInput ,\n  onInput ,\n  defaultOptions ,\n  boolParam ,\n  init ,\n  \n}\n/* codeRegex Not a pure module */\n"],"names":["invalid_argument","division_by_zero","caml_array_sub","x","offset","len","result","Array","j","i","caml_array_get","xs","index","length","Caml_builtin_exceptions.invalid_argument","caml_make_vect","init","b","i_finish","app","_f","_args","args","f","init_arity","arity","d","apply","concat","Caml_array.caml_array_sub","_1","o","a0","param","param$1","param$2","param$3","param$4","param$5","curry_1","__1","_2","a1","curry_2","tag","id","create","str","v","undefinedHeader","some","undefined","block","nid","block$1","nullable_to_opt","valFromOption","depth","$$Error","Caml_exceptions.create","internalToOCamlException","e","slot","Caml_exceptions.caml_is_extension","get","dict","k","Caml_option.some","map","opt","Caml_option.valFromOption","mapU","Curry.__1","flatMap","flatMapU","getWithDefault","$$default","isSome","makeCancelable","$staropt$star","fn","wait","timerId","lastArg","lastCallTime","timerExpired","match","clearTimeout","time","Date","now","timeSinceLastCall","shouldInvoke","Curry._1","setTimeout","remainingWait","cancel","Belt_Option.isSome","make","asHtmlElement","element","contentEditable","asHtmlElement$1","self","imul","Math","y","lowercase","c","caml_format_float","fmt","_i","charCodeAt","exit","String","fromCharCode","w","Caml_int32.imul","j$1","parse_format","prec","x$1","s","isNaN","isFinite","toExponential","slice","toFixed","prec$1","indexOf","exp","Number","i$1","i$2","p","config","rawbuffer","justify","signstyle","filter","alternate","base","signedconv","width","uppercase","sign","buffer","i_finish$1","toUpperCase","i_finish$2","finish_formatting","string_of_float","l","Caml_string.get","valid_float_lexem","Caml_format.caml_format_float","defaultHmac","name","hash","json","parsed","JSON","parse","window","crypto","subtle","importKey","hexDigest","algorithm","input","digest","buf","ArrayBuffer","bufView","Uint8Array","strLen","str2ab","then","output","Promise","resolve","prototype","call","toString","join","withQuerySelectorDom","query","Belt_Option.map","Caml_option.nullable_to_opt","document","querySelector","setHash","location","htmlNs","BitMatrix","[object Object]","height","Uint8ClampedArray","data","this","left","top","set","REGION_SIZE","MIN_DYNAMIC_RANGE","numBetween","value","min","max","Matrix","bufferSize","Error","BitStream","bytes","byteOffset","bitOffset","numBits","available","bitsLeft","toRead","bitsToNotRead","mask","Mode","ModeByte","decodeNumeric","stream","size","text","characterCountSize","readBits","num","a","floor","push","AlphanumericCharacterCodes","decodeAlphanumeric","decodeByte","decodeURIComponent","substr","_a","decodeKanji","TextDecoder","decode","from","GenericGFPoly","field","coefficients","coefficientsLength","firstNonZero","zero","degree","other","isZero","smallerCoefficients","largerCoefficients","sumDiff","lengthDiff","addOrSubtractGF","scalar","product","multiply","aCoefficients","aLength","bCoefficients","bLength","aCoeff","coefficient","getCoefficient","forEach","GenericGF","primitive","genBase","generatorBase","expTable","logTable","one","decode$1","twoS","outputBytes","poly","syndromeCoefficients","error","evaluation","evaluateAt","syndrome","sigmaOmega","R","rLast","r","tLast","t","rLastLast","tLastLast","q","denominatorLeadingTerm","dltInverse","inverse","degreeDiff","scale","addOrSubtract","buildMonomial","multiplyByMonomial","multiplyPoly","sigmaTildeAtZero","runEuclideanAlgorithm","errorLocations","errorLocator","numErrors","errorCount","findErrorLocations","errorMagnitudes","errorEvaluator","xiInverse","denominator","findErrorMagnitudes","position","log","VERSIONS","infoBits","versionNumber","alignmentPatternCenters","errorCorrectionLevels","ecCodewordsPerBlock","ecBlocks","numBlocks","dataCodewordsPerBlock","numBitsDiffering","z","bitCount","pushBit","bit","byte","FORMAT_INFO_TABLE","bits","formatInfo","errorCorrectionLevel","dataMask","DATA_MASKS","readCodewords","matrix","version","dimension","functionPatternMask","createEmpty","setRegion","buildFunctionPatternMask","codewords","currentByte","bitsRead","readingUp","columnIndex","columnOffset","decodeMatrix","provisionalVersion","topRightVersionBits","bottomLeftVersionBits","bestVersion","bestDifference","Infinity","difference","readVersion","topLeftFormatInfoBits","topRightBottomRightFormatInfoBits","bestFormatInfo","readFormatInformation","dataBlocks","ecLevel","ecInfo","totalCodewords","numDataCodewords","shortBlockSize","dataBlock","shift","smallBlockCount","largeBlockCount","getDataBlocks","totalBytes","reduce","resultBytes","resultIndex","correctedBytes","chunks","mode","Terminator","ECI","type","assignmentNumber","Numeric","numericResult","Alphanumeric","alphanumericResult","Byte","byteResult","Kanji","kanjiResult","squareToQuadrilateral","p1","p2","p3","p4","dx3","dy3","a11","a12","a13","a21","a22","a23","a31","a32","a33","dx1","dx2","dy1","dy2","extract","image","qToS","sToQ","quadrilateralToSquare","topLeft","topRight","alignmentPattern","bottomLeft","transform","mappingFunction","sourcePixel","MAX_FINDERPATTERNS_TO_SEARCH","MIN_QUAD_RATIO","MAX_QUAD_RATIO","distance","sqrt","pow","sum","values","countBlackWhiteRunTowardsPoint","origin","end","switchPoints","steep","abs","fromX","fromY","toX","toY","dx","dy","xStep","yStep","currentPixel","realX","realY","distances","countBlackWhiteRun","rise","run","towardsEnd","ceil","awayFromEnd","middleValue","scoreBlackWhiteRun","sequence","ratios","averageSize","ratio","scorePattern","point","horizontalRun","verticalRun","topLeftBottomRightRun","bottomLeftTopRightRun","horzError","vertError","diagDownError","diagUpError","ratioError","avgSize","locate","finderPatternQuads","activeFinderPatternQuads","alignmentPatternQuads","activeAlignmentPatternQuads","lastBit","scans","averageFinderPatternBlocksize","validFinderPattern","averageAlignmentPatternBlocksize","validAlignmentPattern","endX","startX","line","matchingQuads","bottom","finderPatternGroups","round","lengths","score","sort","finderPatterns","otherPoints","ii","points","pattern1","pattern2","pattern3","oneTwoDistance","twoThreeDistance","oneThreeDistance","reorderFinderPatterns","moduleSize","topDimension","sideDimension","computeDimension","bottomRightFinderPattern","modulesBetweenFinderPatterns","correctionToTopLeft","expectedAlignmentPattern","alignmentPatterns","scan","extracted","decoded","decode$2","binaryData","topRightCorner","topLeftCorner","bottomRightCorner","bottomLeftCorner","topRightFinderPattern","topLeftFinderPattern","bottomLeftFinderPattern","bottomRightAlignmentPattern","defaultOptions","inversionAttempts","greyScaleWeights","red","green","blue","useIntegerApproximation","canOverwriteImage","mergeObject","target","src","Object","keys","jsQR","providedOptions","options","shouldInvert","tryInvertedFirst","binarized","inverted","returnInverted","greyscaleWeights","pixelCount","greyscaleBuffer","bufferOffset","greyscalePixels","pixelPosition","g","horizontalRegionCount","verticalRegionCount","blackPointsCount","blackPointsBuffer","blackPoints","verticalRegion","hortizontalRegion","pixelLumosity","average","blackBias","averageNeighborBlackPoint","binarizedBuffer","invertedBuffer","xRegion","yRegion","threshold","lum","binarize","default","defaultInversion","keep","keepU","syncScan","scanCallback","imageData","h","JsqrEs6.default","string_of_invertOptions","JsQr$QueerLoop.defaultInversion","scanUsingDeviceId","videoEl","deviceId","navigator","mediaDevices","getUserMedia","video","srcObject","ElementRe.asHtmlElement","setAttribute","play","UserMedia$QueerLoop.initStreamByDeviceId","maybeWorker","canvas","createElementNS","Util$QueerLoop.htmlNs","Util$QueerLoop.withQuerySelectorDom","body","appendChild","worker","Worker","raw_e","Caml_js_exceptions.internalToOCamlException","console","onmessage","maybeCode","frameCount","onTick","readyState","videoWidth","videoHeight","ctx","getContext","drawImage","getImageData","postMessage","requestAnimationFrame","qrcodegen","QrCode","errCorLvl","dataCodewords","MIN_VERSION","MAX_VERSION","Ecc","row","modules","isFunction","setFunctionModule","drawFinderPattern","alignPatPos","numAlign","step","pos","splice","getAlignmentPatternPositions","drawAlignmentPattern","drawFormatBits","rem","getBit","drawVersion","drawFunctionPatterns","getNumRawDataModules","right","vert","upward","drawCodewords","getNumDataCodewords","NUM_ERROR_CORRECTION_BLOCKS","ordinal","blockEccLen","ECC_CODEWORDS_PER_BLOCK","rawCodewords","numShortBlocks","shortBlockLen","blocks","rs","ReedSolomonGenerator","dat","ecc","getRemainder","addEccAndInterleave","minPenalty","applyMask","penalty","getPenaltyScore","formatBits","dist","xx","yy","isBlack","invert","runHistory","color","runX","PENALTY_N1","addRunToHistory","hasFinderLikePattern","PENALTY_N3","runY","PENALTY_N2","black","total","PENALTY_N4","defineProperty","getModule","getModules","drawCanvas","border","fillStyle","fillRect","toSvgString","parts","encodeText","ecl","segs","QrSegment","makeSegments","encodeSegments","encodeBinary","seg","makeBytes","minVersion","maxVersion","boostEcl","dataUsedBits","dataCapacityBits","getTotalBits","MEDIUM","QUARTILE","HIGH","newEcl","bb","BitBuffer","appendBits","modeBits","numChars","numCharCountBits","getData","padByte","ver","history","pop","unshift","n","ord","fb","LOW","bitData","BYTE","makeNumeric","digits","NUMERIC_REGEX","test","parseInt","substring","NUMERIC","makeAlphanumeric","ALPHANUMERIC_REGEX","temp","ALPHANUMERIC_CHARSET","charAt","ALPHANUMERIC","toUtf8ByteArray","makeEci","assignVal","ccbits","encodeURI","root","factor","coef","val","KANJI","constructor","arguments","Qrcodegen.Ecc","prim","prim$1","Qrcodegen.encodeText","code","exn","svgNs","createQrCodePathElement","path","y_finish","x_finish","Caml_array.caml_array_get","getPathString","makeAnimate","duration","animate","Caml_array.caml_make_vect","createSimpleSvg","timestamp","localeString","maybeDataURL","sizeWithBorder","viewBox","svg","defs","rainbowGradient","lightness","gradient","stop","createRainbowGradient","background","bgAnimate","codeGroup","rainbow","codeGroupAnimate","timeText","textContent","setBackground","selector","bgCss","el","style","setProperty","Belt_Option.flatMap","codeRegex","RegExp","defaultCode","QrCodeGen$QueerLoop.QrCode","QrCodeGen$QueerLoop.Ecc","initialHash","camerasRef","cameraIndex","setSrc","img","dataSeen","currentSignature","canvasesRef","copyVideoToSnapshotCanvas","snapshotCanvas","snapshotCtx","globalAlpha","Curry._2","$$Array.mapi","takeSnapshot","toDataURL","getTimestampAndLocaleString","date","toISOString","toLocaleString","hasChanged","onClick","maybeHash","Js_dict.get","Util$QueerLoop.setHash","setCode","Hash$QueerLoop.hexDigest","Belt_Option.getWithDefault","loopContainer","maybePrevious","removeChild","match$1","match$2","QueerCode$QueerLoop.createSimpleSvg","url","XMLSerializer","serializeToString","encodeURIComponent","QueerCode$QueerLoop.svgToDataURL","container","setText","Debouncer.make","innerText","onHashChange","href","search","title","lastUpdated","ts","maybeUrl","URL","_onInput","onInput","boolParam","queryString","params","URLSearchParams","addEventListener","_evt","response","hexHash","alreadySeen","enumerateDevices","devices","Belt_Array.keep","kind","cameras","all","$$Array.map","camera","Scanner$QueerLoop.scanUsingDeviceId","canvases","catch","err","welcome","dataUrl","createElement","partial_arg","past","scanner","Caml_builtin_exceptions.division_by_zero","Caml_int32.mod_","elQuery","opacity","Pervasives.string_of_float"],"mappings":"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"}